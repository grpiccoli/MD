!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.mobiscroll=t()}(this,function(){"use strict";function tt(n){return"function"==typeof n}function li(n){return"object"===("undefined"==typeof n?"undefined":ai(n))}function io(n){return"number"==typeof n.length}function ro(n){return n.replace(/-+(.)?/g,function(n,t){return t?t.toUpperCase():""})}function uo(n,t,i){for(var r in t)i&&(l.isPlainObject(t[r])||l.isArray(t[r]))?((l.isPlainObject(t[r])&&!l.isPlainObject(n[r])||l.isArray(t[r])&&!l.isArray(n[r]))&&(n[r]={}),uo(n[r],t[r],i)):void 0!==t[r]&&(n[r]=t[r])}function ur(n){return n.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function fo(n,t){return"number"!=typeof t||wc[ur(n)]?t:t+"px"}function e(n,t,i){u[n]=function(r,u){var o,e,f={},s=u||{};return i!==!1&&(s.preset=n),l(r).each(function(){o=new t(this,s);f[this.id]=o}),e=Object.keys(f),1==e.length?f[e[0]]:f}}function i(){}function tu(n){var t,i=[];for(t in n)i.push(n[t]);return i}function gt(n){var t,i={};if(n)for(t=0;t<n.length;t++)i[n[t]]=n[t];return i}function w(n){return n-parseFloat(n)>=0}function lt(n){return"string"==typeof n}function y(n,t,i){return Math.max(t,Math.min(n,i))}function b(n,t){for(n+="",t=t||2;n.length<t;)n="0"+n;return n}function rf(n,t){var i,r;return t=t||100,function(){var f=this,u=+new Date,e=arguments;i&&u<i+t?(clearTimeout(r),r=setTimeout(function(){i=u;n.apply(f,e)},t)):(i=u,n.apply(f,e))}}function uf(n){"vibrate"in navigator&&navigator.vibrate(n||50)}function d(n,t,i){return 100*(n-t)/(i-t)}function ff(n,t,i){var r=i.attr(n);return void 0===r||""===r?t:"true"===r}function at(){vr++;setTimeout(function(){vr--},500)}function ef(n,t){if(!t.mbscClick){var i=(n.originalEvent||n).changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.isMbscTap=!0;r.isIonicTap=!0;cu=!0;t.mbscChange=!0;t.mbscClick=!0;t.dispatchEvent(r);cu=!1;at();setTimeout(function(){delete t.mbscClick})}}function r(n,t,i){var r=n.originalEvent||n,u=(i?"page":"client")+t;return r.targetTouches&&r.targetTouches[0]?r.targetTouches[0][u]:r.changedTouches&&r.changedTouches[0]?r.changedTouches[0][u]:n[u]}function iu(n){var i=["switch","range","rating","segmented","stepper"],f=n[0],u=n.attr("data-role"),r=n.attr("type")||f.nodeName.toLowerCase(),t;if(/(switch|range|rating|segmented|stepper|select)/.test(u))r=u;else for(t=0;t<i.length;t++)n.is("[mbsc-"+i[t]+"]")&&(r=i[t]);return r}function of(n,t,i){n.focus();/(button|submit|checkbox|switch|radio)/.test(t)&&i.preventDefault();/select/.test(t)||ef(i,n)}function sf(n,t,i,f,e,o){function y(n){s||(f&&n.preventDefault(),s=this,c=r(n,"X"),l=r(n,"Y"),h=!1,a=new Date)}function p(n){s&&!h&&(Math.abs(r(n,"X")-c)>e||Math.abs(r(n,"Y")-l)>e)&&(h=!0)}function w(n){s&&(o&&new Date-a<100||!h?ef(n,n.target):at(),s=!1)}function b(){s=!1}var c,l,s,h,a,k=u.$,v=k(t);e=e||9;n.settings.tap&&v.on("touchstart.mbsc",y).on("touchcancel.mbsc",b).on("touchmove.mbsc",p).on("touchend.mbsc",w);v.on("click.mbsc",function(t){f&&t.preventDefault();i.call(this,t,n)})}function kh(n){if(vr&&!cu&&!n.isMbscTap&&("TEXTAREA"!=n.target.nodeName||"mousedown"!=n.type))return n.stopPropagation(),n.preventDefault(),!1}function p(t,i,r){it&&n(function(){n(t).each(function(){new i(this,{})});n(document).on("mbsc-enhance",function(r,u){n(r.target).is(t)?new i(r.target,u||{}):n(t,r.target).each(function(){new i(this,u||{})})});r&&n(document).on("mbsc-refresh",function(i){var r;n(i.target).is(t)?(r=ot[i.target.id],r&&r.refresh()):n(t,i.target).each(function(){r=ot[this.id];r&&r.refresh()})})})}function dh(n,t){var i=document.createElement("script"),r="mbscjsonp"+ ++es;window[r]=function(n){i.parentNode.removeChild(i);delete window[r];n&&t(n)};i.src=n+(n.indexOf("?")>=0?"&":"?")+"callback="+r;document.body.appendChild(i)}function gh(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))};i.onerror=function(){};i.send()}function hf(n,t,i){"jsonp"==i?dh(n,t):gh(n,t)}function nc(n){for(var t in n)if(void 0!==yr[n[t]])return!0;return!1}function tc(){var n,t=["Webkit","Moz","O","ms"];for(n in t)if(nc([t[n]+"Transform"]))return"-"+t[n].toLowerCase()+"-";return""}function vt(t,i){if("touchstart"==t.type)n(i).attr("data-touch","1");else if(n(i).attr("data-touch"))return n(i).removeAttr("data-touch"),!1;return!0}function cf(t,i){var r,f,u=getComputedStyle(t[0]);return n.each(["t","webkitT","MozT","OT","msT"],function(n,t){if(void 0!==u[t+"ransform"])return r=u[t+"ransform"],!1}),r=r.split(")")[0].split(", "),f=i?r[13]||r[5]:r[12]||r[4]}function eo(t){if(t){if(lu[t])return lu[t];var r=n('<div style="background-color:'+t+';"><\/div>').appendTo("body"),f=getComputedStyle(r[0]),i=f.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),e=.299*i[0]+.587*i[1]+.114*i[2],u=e<130?"#fff":"#000";return r.remove(),lu[t]=u,u}}function oo(n,t,i,r,u){var e=Math.min(1,(new Date-t)/468),o=.5*(1-Math.cos(Math.PI*e)),f=i+(r-i)*o;n.scrollTop(f);f!==r?pt(function(){oo(n,t,i,r,u)}):u&&u()}function ic(t,i,r,u){var f=n(t);r?(f.scrollTop(i),u&&u()):oo(f,new Date,f.scrollTop(),i,u)}function ru(t,u,f,e,o,s){function d(t){var i;h=n(this);v=+h.attr("data-step");a=+h.attr("data-index");l=!0;o&&t.stopPropagation();"touchstart"==t.type&&h.closest(".mbsc-no-touch").removeClass("mbsc-no-touch");"mousedown"==t.type&&t.preventDefault();"keydown"!=t.type?(tt=r(t,"X"),it=r(t,"Y"),i=vt(t,this)):i=32===t.keyCode;c||!i||h.hasClass("mbsc-disabled")||(g(a,v,t)&&(h.addClass("mbsc-active"),s&&s.addRipple(h.find(".mbsc-segmented-content"),t)),"mousedown"==t.type&&n(document).on("mousemove",y).on("mouseup",p))}function y(n){(Math.abs(tt-r(n,"X"))>7||Math.abs(it-r(n,"Y"))>7)&&(l=!0,w())}function p(t){"touchend"==t.type&&t.preventDefault();w();"mouseup"==t.type&&n(document).off("mousemove",y).off("mouseup",p)}function w(){c=!1;clearInterval(k);h&&(h.removeClass("mbsc-active"),s&&setTimeout(function(){s.removeRipple()},100))}function g(n,t,i){return c||ut(n)||(a=n,v=t,b=i,c=!0,l=!1,setTimeout(nt,100)),c}function nt(){return h&&h.hasClass("mbsc-disabled")?void w():(!c&&l||(l=!0,u(a,v,b,nt)),void(c&&f&&(clearInterval(k),k=setInterval(function(){u(a,v,b)},f))))}function rt(){t.off("touchstart mousedown keydown",d).off("touchmove",y).off("touchend touchcancel keyup",p)}var h,l,a,c,b,tt,it,v,k,ut=e||i;return t.on("touchstart mousedown keydown",d).on("touchmove",y).on("touchend touchcancel keyup",p),{start:g,stop:w,destroy:rt}}function so(n,t,i){function c(){o.style.width="100000px";o.style.height="100000px";r.scrollLeft=1e5;r.scrollTop=1e5;f.scrollLeft=1e5;f.scrollTop=1e5}function e(){var n=new Date;s=0;a||(n-v>200&&!r.scrollTop&&!r.scrollLeft&&(v=n,c()),s||(s=pt(e)))}function l(){h||(h=pt(y))}function y(){h=0;c();t()}var r=void 0,o=void 0,s=void 0,h=void 0,f=void 0,a=void 0,v=0,u=document.createElement("div");return u.innerHTML=nl,u.dir="ltr",f=u.childNodes[1],r=u.childNodes[0],o=r.childNodes[0],n.appendChild(u),r.addEventListener("scroll",l),f.addEventListener("scroll",l),i?i.runOutsideAngular(function(){pt(e)}):pt(e),{detach:function(){n.removeChild(u);a=!0}}}function uu(n){return(n+"").replace('"',"___")}function yt(n,t,i,r,u,f,e){var o=new Date(n,t,i,r||0,u||0,f||0,e||0);return 23==o.getHours()&&0===(r||0)&&o.setHours(o.getHours()+2),o}function s(n,i,r){var h;if(!i)return null;for(var c,f=t({},yu,r),s=function(t){for(var i=0;e+1<n.length&&n.charAt(e+1)==t;)i++,e++;return i},o=function(n,t,i){var r=""+t;if(s(n))for(;r.length<i;)r="0"+r;return r},a=function(n,t,i,r){return s(n)?r[t]:i[t]},u="",l=!1,e=0;e<n.length;e++)if(l)"'"!=n.charAt(e)||s("'")?u+=n.charAt(e):l=!1;else switch(n.charAt(e)){case"d":u+=o("d",f.getDay(i),2);break;case"D":u+=a("D",i.getDay(),f.dayNamesShort,f.dayNames);break;case"o":u+=o("o",(i.getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5,3);break;case"m":u+=o("m",f.getMonth(i)+1,2);break;case"M":u+=a("M",f.getMonth(i),f.monthNamesShort,f.monthNames);break;case"y":c=f.getYear(i);u+=s("y")?c:(c%100<10?"0":"")+c%100;break;case"h":h=i.getHours();u+=o("h",h>12?h-12:0===h?12:h,2);break;case"H":u+=o("H",i.getHours(),2);break;case"i":u+=o("i",i.getMinutes(),2);break;case"s":u+=o("s",i.getSeconds(),2);break;case"a":u+=i.getHours()>11?f.pmText:f.amText;break;case"A":u+=i.getHours()>11?f.pmText.toUpperCase():f.amText.toUpperCase();break;case"'":s("'")?u+="'":l=!0;break;default:u+=n.charAt(e)}return u}function ni(n,i,r){var u=t({},yu,r),h=f(u.defaultValue||new Date),k,p;if(!n||!i)return h;if(i.getTime)return i;i="object"==("undefined"==typeof i?"undefined":ai(i))?i.toString():i+"";for(var d=u.shortYearCutoff,c=u.getYear(h),l=u.getMonth(h)+1,a=u.getDay(h),g=-1,e=h.getHours(),it=h.getMinutes(),rt=0,v=-1,nt=!1,w=function(t){var i=o+1<n.length&&n.charAt(o+1)==t;return i&&o++,i},s=function(n){w(n);var r="@"==n?14:"!"==n?20:"y"==n?4:"o"==n?3:2,u=new RegExp("^\\d{1,"+r+"}"),t=i.substr(y).match(u);return t?(y+=t[0].length,parseInt(t[0],10)):0},b=function(n,t,r){for(var f=w(n)?r:t,u=0;u<f.length;u++)if(i.substr(y,f[u].length).toLowerCase()==f[u].toLowerCase())return y+=f[u].length,u+1;return 0},tt=function(){y++},y=0,o=0;o<n.length;o++)if(nt)"'"!=n.charAt(o)||w("'")?tt():nt=!1;else switch(n.charAt(o)){case"d":a=s("d");break;case"D":b("D",u.dayNamesShort,u.dayNames);break;case"o":g=s("o");break;case"m":l=s("m");break;case"M":l=b("M",u.monthNamesShort,u.monthNames);break;case"y":c=s("y");break;case"H":e=s("H");break;case"h":e=s("h");break;case"i":it=s("i");break;case"s":rt=s("s");break;case"a":v=b("a",[u.amText,u.pmText],[u.amText,u.pmText])-1;break;case"A":v=b("A",[u.amText,u.pmText],[u.amText,u.pmText])-1;break;case"'":w("'")?tt():nt=!0;break;default:tt()}if(c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=("string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10))?0:-100)),g>-1){l=1;a=g;do k=32-new Date(c,l-1,32,12).getDate(),a>k&&(l++,a-=k);while(a>k)}return e=v==-1?e:v&&e<12?e+12:v||12!=e?e:0,p=u.getDate(c,l-1,a,e,it,rt),u.getYear(p)!=c||u.getMonth(p)+1!=l||u.getDay(p)!=a?h:p}function ho(n,t){return Math.round((t-n)/864e5)}function ft(n){return yt(n.getFullYear(),n.getMonth(),n.getDate())}function fr(n){return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}function rc(n,t){var i="",r="";return n&&(t.h&&(r+=b(n.getHours())+":"+b(n.getMinutes()),t.s&&(r+=":"+b(n.getSeconds())),t.u&&(r+="."+b(n.getMilliseconds(),3)),t.tz&&(r+=t.tz)),t.y?(i+=n.getFullYear(),t.m&&(i+="-"+b(n.getMonth()+1),t.d&&(i+="-"+b(n.getDate())),t.h&&(i+="T"+r))):t.h&&(i=r)),i}function co(n,t,i){var r,u,f={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(i)for(r in f)u=n[f[r]-t],u&&(i[r]="tz"==r?u:1)}function ti(n,t,i){var u=window.moment||t.moment,r=t.returnFormat;if(n){if("moment"==r&&u)return u(n);if("locale"==r)return s(i,n,t);if("iso8601"==r)return rc(n,t.isoParts)}return n}function f(n,t,i,r){var u;return n?n.getTime?n:n.toDate?n.toDate():("string"==typeof n&&(n=n.trim()),(u=as.exec(n))?(co(u,2,r),new Date(1970,0,1,u[2]?+u[2]:0,u[3]?+u[3]:0,u[4]?+u[4]:0,u[5]?+u[5]:0)):(u||(u=sl.exec(n)),u?(co(u,0,r),new Date(u[1]?+u[1]:1970,u[2]?u[2]-1:0,u[3]?+u[3]:1,u[4]?+u[4]:0,u[5]?+u[5]:0,u[6]?+u[6]:0,u[7]?+u[7]:0)):ni(t,n,i))):null}function k(n,t){return n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()}function uc(n){return n[0].innerWidth||n.innerWidth()}function lo(i,r){var u={},s=i[0],f=i.parent(),o=f.find(".mbsc-err-msg"),h=i.attr("data-icon-align")||"left",e=i.attr("data-icon");f.hasClass(pu)?f=f.parent():n('<span class="'+pu+'"><\/span>').insertAfter(i).append(i);o&&f.find("."+pu).append(o);e&&(e.indexOf("{")!==-1?u=JSON.parse(e):u[h]=e);"file"==s.type&&(u.right=i.attr("data-icon-upload")||"upload");(e||r)&&(t(u,r),f.addClass((u.right?"mbsc-ic-right ":"")+(u.left?" mbsc-ic-left":"")).find("."+pu).append('<span class="mbsc-input-fill"><\/span>').append(u.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+u.left+'"><\/span>':"").append(u.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+u.right+'"><\/span>':""))}function fc(t,i,r){var o={},u=r[0],s=r.attr("data-password-toggle"),f=r.attr("data-icon-show")||"eye",e=r.attr("data-icon-hide")||"eye-blocked";s&&(o.right="password"==u.type?f:e);lo(r,o);s&&sf(t,i.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==u.type?(u.type="password",n(this).addClass("mbsc-ic-"+f).removeClass("mbsc-ic-"+e)):(u.type="text",n(this).removeClass("mbsc-ic-"+f).addClass("mbsc-ic-"+e))})}function ao(t,i,r,u,f){"segmented"==i?t.closest(".mbsc-segmented").addClass("box"==r?"mbsc-input-box":"").addClass("outline"==r?"mbsc-input-outline":""):"button"!=i&&"submit"!=i&&(t.addClass("mbsc-control-w").addClass("box"==r?"mbsc-input-box":"").addClass("outline"==r?"mbsc-input-outline":"").addClass("inline"==u?"mbsc-label-inline":"").addClass("stacked"==u?"mbsc-label-stacked":"").addClass("floating"==u?"mbsc-label-floating":"").addClass("floating"==u&&f.value?"mbsc-label-floating-active":"").find("label").addClass("mbsc-label").each(function(t,i){n(i).attr("title",n(i).text())}),t.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){n('<span class="mbsc-label" title="'+this.textContent.trim()+'"><\/span>').insertAfter(this).append(this)}))}function vo(n){var t=u.themes.form[n];return t&&t.addRipple?t:null}function yo(n,t,i){var r=n.attr(t);return void 0===r||""===r?i:r}function lf(n){return n.baseTheme=u.themes.form[n.theme].baseTheme,"mbsc-"+n.theme+(n.baseTheme?" mbsc-"+n.baseTheme:"")+(n.rtl?" mbsc-rtl":" mbsc-ltr")}function fu(t){var i=[Math.round(t.r).toString(16),Math.round(t.g).toString(16),Math.round(t.b).toString(16)];return n.each(i,function(n,t){1==t.length&&(i[n]="0"+t)}),"#"+i.join("")}function eu(n){return n=parseInt(n.indexOf("#")>-1?n.substring(1):n,16),{r:n>>16,g:(65280&n)>>8,b:255&n,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function po(n){var r,u,f,e=n.h,h=255*n.s/100,s=255*n.v/100;if(0===h)r=u=f=s;else{var t=s,i=(255-h)*s/255,o=(t-i)*(e%60)/60;360==e&&(e=0);e<60?(r=t,f=i,u=i+o):e<120?(u=t,f=i,r=t-o):e<180?(u=t,r=i,f=i+o):e<240?(f=t,r=i,u=t-o):e<300?(f=t,u=i,r=i+o):e<360?(r=t,u=i,f=t-o):r=u=f=0}return{r:r,g:u,b:f,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function wo(n){var r,f,i=0,e=Math.min(n.r,n.g,n.b),t=Math.max(n.r,n.g,n.b),u=t-e;return f=t,r=t?255*u/t:0,i=r?n.r==t?(n.g-n.b)/u:n.g==t?2+(n.b-n.r)/u:4+(n.r-n.g)/u:-1,i*=60,i<0&&(i+=360),r*=100/255,f*=100/255,{h:i,s:r,v:f,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function bo(n){var t,s,e=n.r/255,i=n.g/255,r=n.b/255,u=Math.max(e,i,r),o=Math.min(e,i,r),h=(u+o)/2,f;if(u==o)t=s=0;else{f=u-o;switch(s=h>.5?f/(2-u-o):f/(u+o),u){case e:t=(i-r)/f+(i<r?6:0);break;case i:t=(r-e)/f+2;break;case r:t=(e-i)/f+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*s),l:Math.round(100*h),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function ec(n){var r,u,f,h,i,e,t=n.h,s=n.s,o=n.l;return isFinite(t)||(t=0),isFinite(s)||(s=0),isFinite(o)||(o=0),t/=60,t<0&&(t=6- -t%6),t%=6,s=Math.max(0,Math.min(1,s/100)),o=Math.max(0,Math.min(1,o/100)),i=(1-Math.abs(2*o-1))*s,e=i*(1-Math.abs(t%2-1)),t<1?(r=i,u=e,f=0):t<2?(r=e,u=i,f=0):t<3?(r=0,u=i,f=e):t<4?(r=0,u=e,f=i):t<5?(r=e,u=0,f=i):(r=i,u=0,f=e),h=o-i/2,{r:Math.round(255*(r+h)),g:Math.round(255*(u+h)),b:Math.round(255*(f+h)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function ko(n){return bo(eu(n))}function oc(n){return fu(ec(n))}function go(n){return fu(po(n))}function ns(n){return wo(eu(n))}function af(n){for(var t=0,i=1,r=0;n.length;)t>3?i=3600:t>1&&(i=60),r+=n.pop()*i*(t%2?10:1),t++;return r}function ts(){clearTimeout(pe);pe=setTimeout(function(){n("textarea.mbsc-control").each(function(){er(this)})},100)}function er(t){var i=void 0,r=void 0,u=void 0,f=n(t).attr("rows")||6;t.offsetHeight&&(t.style.height="",u=t.scrollHeight-t.offsetHeight,i=t.offsetHeight+(u>0?u:0),r=Math.round(i/24),r>f?(i=24*f+(i-24*r),n(t).addClass("mbsc-textarea-scroll")):n(t).removeClass("mbsc-textarea-scroll"),i&&(t.style.height=i+"px"))}function sc(t){var i=n(t);if(!i.hasClass("mbsc-textarea-scroll")){var u=t.scrollHeight-t.offsetHeight,r=t.offsetHeight+u,f=Math.round(r/24),e=i.attr("rows")||6;f<=e&&(t.scrollTop=0,t.style.height=r+"px")}}function is(t,i,r,u){n("input,select,textarea,progress,button",t).each(function(){var t=this,u=n(t),f=iu(u);if("false"!=u.attr("data-enhance"))if(u.hasClass("mbsc-control"))t.mbscInst&&t.mbscInst.option({theme:r.theme,lang:r.lang,rtl:r.rtl,onText:r.onText,offText:r.offText,stopProp:r.stopProp});else switch(t.id||(t.id="mbsc-form-control-"+ ++ke),f){case"button":case"submit":i[t.id]=new ce(t,{theme:r.theme,rtl:r.rtl,tap:r.tap});break;case"switch":i[t.id]=new gi(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,tap:r.tap,onText:r.onText,offText:r.offText,stopProp:r.stopProp});break;case"checkbox":i[t.id]=new le(t,{tap:r.tap,theme:r.theme,rtl:r.rtl});break;case"range":n(t).parent().hasClass("mbsc-slider")||(i[t.id]=new bt(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,stopProp:r.stopProp,labelStyle:r.labelStyle}));break;case"rating":i[t.id]=new nr(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,stopProp:r.stopProp});break;case"progress":i[t.id]=new oi(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,labelStyle:r.labelStyle});break;case"radio":i[t.id]=new ae(t,{tap:r.tap,theme:r.theme,rtl:r.rtl});break;case"select":case"select-one":case"select-multiple":i[t.id]=new ve(t,{tap:r.tap,inputStyle:r.inputStyle,labelStyle:r.labelStyle,theme:r.theme,rtl:r.rtl});break;case"textarea":i[t.id]=new we(t,{tap:r.tap,inputStyle:r.inputStyle,labelStyle:r.labelStyle,theme:r.theme,rtl:r.rtl});break;case"segmented":i[t.id]=new be(t,{theme:r.theme,rtl:r.rtl,tap:r.tap,inputStyle:r.inputStyle});break;case"stepper":i[t.id]=new di(t,{theme:r.theme,rtl:r.rtl});break;case"hidden":return;default:i[t.id]=new kr(t,{tap:r.tap,inputStyle:r.inputStyle,labelStyle:r.labelStyle,theme:r.theme,rtl:r.rtl})}});n("[data-collapsible]:not(.mbsc-collapsible)",t).each(function(){var t=this,u=n(t),r=u.attr("data-open");t.id||(t.id="mbsc-form-control-"+ ++ke);i[t.id]=new du(t,{isOpen:void 0!==r&&"false"!=r});ot[t.id]=i[t.id]});u||ts()}function vf(n){dt.length||n.show();dt.push(n)}function hc(n){var t=tr.length;tr.push(n);dt.length||(t?tr[0].hide():n.show(!1,!0))}function ou(n,i,r,u){return t({display:i.display||"center",cssClass:"mbsc-alert",okText:i.okText,cancelText:i.cancelText,context:i.context,theme:i.theme,closeOnOverlayTap:!1,onBeforeClose:function(){n.shift()},onHide:function(n,t){r&&r(t._resolve);i.callback&&i.callback(t._resolve);t&&t.destroy();dt.length?dt[0].show():tr.length&&tr[0].show(!1,!0)}},u)}function yf(n){return(n.title?"<h2>"+n.title+"<\/h2>":"")+"<p>"+(n.message||"")+"<\/p>"}function cc(n,t,i){var r=new g(n,ou(dt,t,i));vf(r)}function lc(n,t,i){var r=new g(n,ou(dt,t,i,{buttons:["cancel","ok"],onSet:function(){r._resolve=!0}}));r._resolve=!1;vf(r)}function ac(n,t,i){var r=void 0,f=void 0,u=new g(n,ou(dt,t,i,{buttons:["cancel","ok"],onMarkupReady:function(n,t){var i=t.settings;f=t._markup.find("label");f.addClass("mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:""));r=t._markup.find("input")[0];setTimeout(function(){r.focus();r.setSelectionRange(0,r.value.length)},300)},onSet:function(){u._resolve=r.value}}));u._resolve=null;vf(u)}function rs(t,i,r,u,f){var e=void 0,o=new g(t,ou(tr,i,r,{display:i.display||"bottom",animate:f,cssClass:(u||"mbsc-snackbar")+(i.color?" mbsc-"+i.color:""),scrollLock:!1,focusTrap:!1,buttons:[],onMarkupReady:function(n,t){var i=t.settings,r=t._markup.find("button");r.addClass("mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:""))},onShow:function(t,r){gu=r;i.duration!==!1&&(e=setTimeout(function(){r&&r.hide()},i.duration||3e3));i.button&&r.tap(n(".mbsc-snackbar-btn",t.target),function(){r.hide();i.button.action&&i.button.action.call(this)})},onClose:function(){gu=null;clearTimeout(e)}}));hc(o)}function vc(n,t,i){rs(n,t,i,"mbsc-toast","fade")}function or(n,t,i){var r=void 0;return vl?r=new Promise(function(r){n(t,i,r)}):n(t,i),r}function yc(n){var t=getComputedStyle(n);return n.innerHeight||n.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)}function pf(t,i){var e=r(i,"X",!0),o=r(i,"Y",!0),u=t.offset(),s=e-u.left,h=o-u.top,c=Math.max(s,t[0].offsetWidth-s),l=Math.max(h,t[0].offsetHeight-h),f=2*Math.sqrt(Math.pow(c,2)+Math.pow(l,2));sr(si);si=n('<span class="mbsc-ripple"><\/span>').css({width:f,height:f,top:o-u.top-f/2,left:e-u.left-f/2}).appendTo(t);setTimeout(function(){si.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function sr(n){setTimeout(function(){n&&(n.removeClass("mbsc-ripple-visible"),setTimeout(function(){n.remove()},2e3))},100)}function us(t,i,u,f){var e,o;t.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",i,function(t){vt(t,this)&&(e=r(t,"X"),o=r(t,"Y"),ct=n(this),ct.hasClass(u)||ct.hasClass(f)?ct=null:pf(ct,t))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",i,function(n){(ct&&Math.abs(r(n,"X")-e)>9||Math.abs(r(n,"Y")-o)>9)&&(sr(si),ct=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",i,function(){ct&&(setTimeout(function(){sr(si)},100),ct=null)})}var u=u||{},hr={},pc={},ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},et=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},ii=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),cr=function tt(n,t,i){var r,u,f;return(null===n&&(n=Function.prototype),r=Object.getOwnPropertyDescriptor(n,t),void 0===r)?(u=Object.getPrototypeOf(n),null===u?void 0:tt(u,t,i)):"value"in r?r.value:(f=r.get,void 0!==f?f.call(i):void 0)},ri=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},ui=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},wc={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},bc={readonly:"readOnly"},fs=[],lr=Array.prototype.slice,wf=function(){var t=function(t){for(var r=this,i=0,i=0;i<t.length;i++)r[i]=t[i];return r.length=t.length,n(this)},n=function li(n,i){var e=[],r=0,o,s,u,f;if(n&&!i&&n instanceof t)return n;if(tt(n))return li(document).ready(n);if(n)if("string"==typeof n)if(n=u=n.trim(),u.indexOf("<")>=0&&u.indexOf(">")>=0)for(f="div",0===u.indexOf("<li")&&(f="ul"),0===u.indexOf("<tr")&&(f="tbody"),0!==u.indexOf("<td")&&0!==u.indexOf("<th")||(f="tr"),0===u.indexOf("<tbody")&&(f="table"),0===u.indexOf("<option")&&(f="select"),s=document.createElement(f),s.innerHTML=u,r=0;r<s.childNodes.length;r++)e.push(s.childNodes[r]);else for(i||"#"!==n[0]||n.match(/[ .<>:~]/)?(i instanceof t&&(i=i[0]),o=(i||document).querySelectorAll(n)):o=[document.getElementById(n.split("#")[1])],r=0;r<o.length;r++)o[r]&&e.push(o[r]);else if(n.nodeType||n===window||n===document)e.push(n);else if(n.length>0&&n[0].nodeType)for(r=0;r<n.length;r++)e.push(n[r]);else li.isArray(n)&&(e=n);return new t(e)};return t.prototype={ready:function(t){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?t(n):document.addEventListener("DOMContentLoaded",function(){t(n)},!1),this},concat:fs.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(t){return n(n.map(this,function(n,i){return t.call(n,i,n)}))},slice:function(){return n(lr.apply(this,arguments))},addClass:function(n){var r,t,i;if("undefined"==typeof n)return this;for(r=n.split(" "),t=0;t<r.length;t++)for(i=0;i<this.length;i++)"undefined"!=typeof this[i].classList&&""!==r[t]&&this[i].classList.add(r[t]);return this},removeClass:function(n){var r,t,i;if("undefined"==typeof n)return this;for(r=n.split(" "),t=0;t<r.length;t++)for(i=0;i<this.length;i++)"undefined"!=typeof this[i].classList&&""!==r[t]&&this[i].classList.remove(r[t]);return this},hasClass:function(n){return!!this[0]&&this[0].classList.contains(n)},toggleClass:function(n){for(var t,r=n.split(" "),i=0;i<r.length;i++)for(t=0;t<this.length;t++)"undefined"!=typeof this[t].classList&&this[t].classList.toggle(r[i]);return this},closest:function(t,i){var r=this[0],u=!1;for(li(t)&&(u=n(t));r&&!(u?u.indexOf(r)>=0:n.matches(r,t));)r=r!==i&&r.nodeType!==r.DOCUMENT_NODE&&r.parentNode;return n(r)},attr:function(n,t){var u,i,r;if(1!==arguments.length||"string"!=typeof n){for(i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(n,t);else for(r in n)this[i][r]=n[r],this[i].setAttribute(r,n[r]);return this}if(this.length)return u=this[0].getAttribute(n),u||""===u?u:void 0},removeAttr:function(n){for(var t=0;t<this.length;t++)this[t].removeAttribute(n);return this},prop:function(n,t){if(n=bc[n]||n,1===arguments.length&&"string"==typeof n)return this[0]?this[0][n]:void 0;for(var i=0;i<this.length;i++)this[i][n]=t;return this},val:function(t){if("undefined"==typeof t)return this.length&&this[0].multiple?n.map(this.find("option:checked"),function(n){return n.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)n.each(this[0].options,function(){this.selected=t.indexOf(this.value)!=-1});else for(var i=0;i<this.length;i++)this[i].value=t;return this},on:function(t,i,r,u){function s(t){var u,f,e=t.target;if(n(e).is(i))r.call(e,t);else for(f=n(e).parents(),u=0;u<f.length;u++)n(f[u]).is(i)&&r.call(f[u],t)}function h(n,t,i,r){var u=t.split(".");n.DomNameSpaces||(n.DomNameSpaces=[]);n.DomNameSpaces.push({namespace:u[1],event:u[0],listener:i,capture:r});n.addEventListener(u[0],i,r)}for(var f,o=t.split(" "),e=0;e<this.length;e++)if(tt(i)||i===!1)for(tt(i)&&(u=r||!1,r=i),f=0;f<o.length;f++)o[f].indexOf(".")!=-1?h(this[e],o[f],r,u):this[e].addEventListener(o[f],r,u);else for(f=0;f<o.length;f++)this[e].DomLiveListeners||(this[e].DomLiveListeners=[]),this[e].DomLiveListeners.push({listener:r,liveListener:s}),o[f].indexOf(".")!=-1?h(this[e],o[f],s,u):this[e].addEventListener(o[f],s,u);return this},off:function(n,t,i,r){function h(n){for(var i,r,u=n.split("."),f=u[0],e=u[1],t=0;t<o.length;++t)if(o[t].DomNameSpaces){for(i=0;i<o[t].DomNameSpaces.length;++i)r=o[t].DomNameSpaces[i],r.namespace!=e||r.event!=f&&f||(o[t].removeEventListener(r.event,r.listener,r.capture),r.removed=!0);for(i=o[t].DomNameSpaces.length-1;i>=0;--i)o[t].DomNameSpaces[i].removed&&o[t].DomNameSpaces.splice(i,1)}}for(var u,s,o=this,e=n.split(" "),f=0;f<e.length;f++)for(u=0;u<this.length;u++)if(tt(t)||t===!1)tt(t)&&(r=i||!1,i=t),0===e[f].indexOf(".")?h(e[f].substr(1),i,r):this[u].removeEventListener(e[f],i,r);else{if(this[u].DomLiveListeners)for(s=0;s<this[u].DomLiveListeners.length;s++)this[u].DomLiveListeners[s].listener===i&&this[u].removeEventListener(e[f],this[u].DomLiveListeners[s].liveListener,r);this[u].DomNameSpaces&&this[u].DomNameSpaces.length&&e[f]&&h(e[f])}return this},trigger:function(n,t){for(var f,r,u=n.split(" "),i=0;i<u.length;i++)for(f=0;f<this.length;f++){try{r=new CustomEvent(u[i],{detail:t,bubbles:!0,cancelable:!0})}catch(n){r=document.createEvent("Event");r.initEvent(u[i],!0,!0);r.detail=t}this[f].dispatchEvent(r)}return this},width:function(n){return void 0!==n?this.css("width",n):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(n){if(void 0!==n)return this.css("height",n);if(this[0]===window)return window.innerHeight;if(this[0]===document){var i=document.body,t=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var i=this,n,t;if(this.length>0)return this[0].innerWidth?this[0].innerWidth:(n=this[0].offsetWidth,t=["left","right"],t.forEach(function(t){n-=parseInt(i.css(ro("border-"+t+"-width"))||0,10)}),n)},innerHeight:function(){var i=this,n,t;if(this.length>0)return this[0].innerHeight?this[0].innerHeight:(n=this[0].offsetHeight,t=["top","bottom"],t.forEach(function(t){n-=parseInt(i.css(ro("border-"+t+"-width"))||0,10)}),n)},offset:function(){if(this.length>0){var i=this[0],n=i.getBoundingClientRect(),t=document.documentElement;return{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}},hide:function(){for(var n=0;n<this.length;n++)this[n].style.display="none";return this},show:function(){for(var n=0;n<this.length;n++)"none"==this[n].style.display&&(this[n].style.display=""),"none"==getComputedStyle(this[n],"").getPropertyValue("display")&&(this[n].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){if(this[0])return window.getComputedStyle(this[0],null)},css:function(n,t){var r,i,u=this[0],f="";if(arguments.length<2){if(!u)return;if("string"==typeof n)return u.style[n]||getComputedStyle(u,"").getPropertyValue(n)}if("string"==typeof n)t||0===t?f=ur(n)+":"+fo(n,t):this.each(function(){this.style.removeProperty(ur(n))});else for(i in n)if(n[i]||0===n[i])f+=ur(i)+":"+fo(i,n[i])+";";else for(r=0;r<this.length;r++)this[r].style.removeProperty(ur(i));return this.each(function(){this.style.cssText+=";"+f})},each:function(n){for(var t=0;t<this.length&&n.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(i){for(var u=[],r=0;r<this.length;r++)tt(i)?i.call(this[r],r,this[r])&&u.push(this[r]):n.matches(this[r],i)&&u.push(this[r]);return new t(u)},html:function(n){if("undefined"==typeof n)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=n;return this},text:function(n){if("undefined"==typeof n)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=n;return this},is:function(t){return this.length>0&&n.matches(this[0],t)},not:function(t){var r=[],i;return tt(t)&&void 0!==t.call?this.each(function(n){t.call(this,n)||r.push(this)}):(i="string"==typeof t?this.filter(t):io(t)&&tt(t.item)?lr.call(t):n(t),li(i)&&(i=n.map(i,function(n){return n})),this.each(function(n,t){i.indexOf(t)<0&&r.push(t)})),n(r)},indexOf:function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},get:function(n){return void 0===n?lr.call(this):this[n>=0?n:n+this.length]},eq:function(n){if("undefined"==typeof n)return this;var i,r=this.length;return n>r-1?new t([]):n<0?(i=r+n,new t(i<0?[]:[this[i]])):new t([this[n]])},append:function(n){for(var r,u,i=0;i<this.length;i++)if("string"==typeof n)for(u=document.createElement("div"),u.innerHTML=n;u.firstChild;)this[i].appendChild(u.firstChild);else if(n instanceof t)for(r=0;r<n.length;r++)this[i].appendChild(n[r]);else this[i].appendChild(n);return this},appendTo:function(t){return n(t).append(this),this},prepend:function(n){for(var r,u,i=0;i<this.length;i++)if("string"==typeof n)for(u=document.createElement("div"),u.innerHTML=n,r=u.childNodes.length-1;r>=0;r--)this[i].insertBefore(u.childNodes[r],this[i].childNodes[0]);else if(n instanceof t)for(r=0;r<n.length;r++)this[i].insertBefore(n[r],this[i].childNodes[0]);else this[i].insertBefore(n,this[i].childNodes[0]);return this},prependTo:function(t){return n(t).prepend(this),this},insertBefore:function(t){for(var u,i=n(t),r=0;r<this.length;r++)if(1===i.length)i[0].parentNode.insertBefore(this[r],i[0]);else if(i.length>1)for(u=0;u<i.length;u++)i[u].parentNode.insertBefore(this[r].cloneNode(!0),i[u]);return this},insertAfter:function(t){for(var u,i=n(t),r=0;r<this.length;r++)if(1===i.length)i[0].parentNode.insertBefore(this[r],i[0].nextSibling);else if(i.length>1)for(u=0;u<i.length;u++)i[u].parentNode.insertBefore(this[r].cloneNode(!0),i[u].nextSibling);return this},next:function(i){return new t(this.length>0?i?this[0].nextElementSibling&&n(this[0].nextElementSibling).is(i)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(i){var f=[],u=this[0],r;if(!u)return new t([]);for(;u.nextElementSibling;)r=u.nextElementSibling,i?n(r).is(i)&&f.push(r):f.push(r),u=r;return new t(f)},prev:function(i){return new t(this.length>0?i?this[0].previousElementSibling&&n(this[0].previousElementSibling).is(i)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(i){var f=[],u=this[0],r;if(!u)return new t([]);for(;u.previousElementSibling;)r=u.previousElementSibling,i?n(r).is(i)&&f.push(r):f.push(r),u=r;return new t(f)},parent:function(t){for(var r=[],i=0;i<this.length;i++)null!==this[i].parentNode&&(t?n(this[i].parentNode).is(t)&&r.push(this[i].parentNode):r.push(this[i].parentNode));return n(n.unique(r))},parents:function(t){for(var i,r=[],u=0;u<this.length;u++)for(i=this[u].parentNode;i;)t?n(i).is(t)&&r.push(i):r.push(i),i=i.parentNode;return n(n.unique(r))},find:function(n){for(var f,r,u=[],i=0;i<this.length;i++)for(f=this[i].querySelectorAll(n),r=0;r<f.length;r++)u.push(f[r]);return new t(u)},children:function(i){for(var u,r,f=[],e=0;e<this.length;e++)for(u=this[e].childNodes,r=0;r<u.length;r++)i?1===u[r].nodeType&&n(u[r]).is(i)&&f.push(u[r]):1===u[r].nodeType&&f.push(u[r]);return new t(n.unique(f))},remove:function(){for(var n=0;n<this.length;n++)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this},add:function(){for(var i,r=this,u,t=0;t<arguments.length;t++)for(u=n(arguments[t]),i=0;i<u.length;i++)r[r.length]=u[i],r.length++;return r},before:function(t){return n(t).insertBefore(this),this},after:function(t){return n(t).insertAfter(this),this},scrollTop:function(n){if(this.length){var t="scrollTop"in this[0];return void 0===n?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=n}:function(){this.scrollTo(this.scrollX,n)})}},scrollLeft:function(n){if(this.length){var t="scrollLeft"in this[0];return void 0===n?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=n}:function(){this.scrollTo(n,this.scrollY)})}},contents:function(){return this.map(function(n,t){return lr.call(t.childNodes)})},nextUntil:function(t){for(var i=this,r=[];i.length&&!i.filter(t).length;)r.push(i[0]),i=i.next();return n(r)},prevUntil:function(t){for(var i=this,r=[];i.length&&!n(i).filter(t).length;)r.push(i[0]),i=i.prev();return n(r)},detach:function(){return this.remove()}},n.fn=t.prototype,n}(),l=wf,vr,cu,rt,es,fi,yr,st,pi,df,v,lu,cs,wt,ls,vs,pr,ys,re,ps,ws,fe,oi,ee,bt,wu,ks,gs,ki,ku,nh,se,th,ih,rh,he,kr,ce,le,ae,ve,ye,pe,we,be,di,gi,nr,uh,du,ke,g,fh,eh,dr,gr,oh,sh,hh,de,ch,ge,lh,no,ah,to,vh,yh,ph,ir,rr,nf,tf,wh,nu,ct,si,hi,bh,ci;u.$=wf;l.inArray=function(n,t,i){return fs.indexOf.call(t,n,i)};l.extend=function(n){var t,i=lr.call(arguments,1);return"boolean"==typeof n&&(t=n,n=i.shift()),n=n||{},i.forEach(function(i){uo(n,i,t)}),n};l.isFunction=tt;l.isArray=function(n){return"[object Array]"===Object.prototype.toString.apply(n)};l.isPlainObject=function(n){return li(n)&&null!==n&&n!==n.window&&Object.getPrototypeOf(n)==Object.prototype};l.each=function(n,t){var i,r;if(li(n)&&t){if(l.isArray(n)||n instanceof wf)for(i=0;i<n.length&&t.call(n[i],i,n[i])!==!1;i++);else for(r in n)if(n.hasOwnProperty(r)&&"length"!==r&&t.call(n[r],r,n[r])===!1)break;return this}};l.unique=function(n){for(var i=[],t=0;t<n.length;t++)i.indexOf(n[t])===-1&&i.push(n[t]);return i};l.map=function(n,t){var i,r,f,u=[];if(io(n))for(r=0;r<n.length;r++)i=t(n[r],r),null!==i&&u.push(i);else for(f in n)i=t(n[f],f),null!==i&&u.push(i);return u.length>0?l.fn.concat.apply([],u):u};l.matches=function(n,t){if(!t||!n||1!==n.nodeType)return!1;var i=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;return i.call(n,t)};var a,vi,nt,bf,su=[],it="undefined"!=typeof window,ar=it?navigator.userAgent:"",kc=/Safari/.test(ar),hu=ar.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),pt=it&&window.requestAnimationFrame||function(n){return setTimeout(n,20)},kf=it&&window.cancelAnimationFrame||function(n){clearTimeout(n)};/Android/i.test(hu)?(a="android",vi=ar.match(/Android\s+([\d\.]+)/i),vi&&(su=vi[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(hu)?(a="ios",vi=ar.match(/OS\s+([\d\_]+)/i),vi&&(su=vi[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(hu)?a="wp":/Windows|MSIE/i.test(hu)&&(a="windows");nt=su[0];bf=su[1];vr=0;cu=void 0;it&&(["mouseover","mousedown","mouseup","click"].forEach(function(n){document.addEventListener(n,kh,!0)}),"android"==a&&nt<5&&document.addEventListener("change",function(n){vr&&"checkbox"==n.target.type&&!n.target.mbscChange&&(n.stopPropagation(),n.preventDefault());delete n.target.mbscChange},!0));u.uid="55ac5a82";var yi,n=u.$,dc=+new Date,ot={},c={},gc={xsmall:0,small:576,medium:768,large:992,xlarge:1200},t=n.extend;t(hr,{getCoord:r,preventClick:at,vibrate:uf});yi=t(u,{$:n,version:"4.8.4",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:a,majorVersion:nt,minorVersion:bf},i18n:{},instances:ot,classes:c,util:hr,settings:{},setDefaults:function(n){t(this.settings,n)},customTheme:function(n,i){for(var e=u.themes,f=["frame","scroller","listview","navigation","form","page","progress","card"],r=0;r<f.length;r++)e[f[r]][n]=t({},e[f[r]][i],{baseTheme:i})}});rt=function(r,u){function v(t){var i,r;return e.responsive&&(r=t||y.offsetWidth,n.each(e.responsive,function(n,t){r>=(t.breakpoint||gc[n])&&(i=t)})),i}function w(){n(r).addClass("mbsc-comp");r.id?ot[r.id]&&ot[r.id].destroy():r.id="mobiscroll"+ ++dc;ot[r.id]=f;f.__ready=!0}var y,p,h,s,e,l,o,a,c,f=this;f.settings={};f.element=r;f._init=i;f._destroy=i;f._processSettings=i;f._checkResp=function(n){if(f&&f._responsive){var t=v(n);if(s!==t)return s=t,f.init({}),!0}};f.init=function(i,w){var b,k;i&&f.getVal&&(k=f.getVal());for(b in f.settings)delete f.settings[b];e=f.settings;t(u,i);f._hasDef&&(c=yi.settings);t(e,f._defaults,c,u);f._hasTheme&&(o=e.theme,"auto"!=o&&o||(o=yi.autoTheme),"default"==o&&(o="mobiscroll"),u.theme=o,l=yi.themes[f._class]?yi.themes[f._class][o]:{});f._hasLang&&(p=yi.i18n[e.lang]);t(e,l,p,c,u);y=n(e.context)[0];f._responsive&&(s||(s=v()),t(e,s));f._processSettings(s||{});f._presets&&(h=f._presets[e.preset],h&&(h=h.call(r,f,u),t(e,h,u,s)));f._init(i);i&&f.setVal&&f.setVal(void 0===w?k:w,!0);a("onInit")};f.destroy=function(){f&&(f._destroy(),a("onDestroy"),delete ot[r.id],f=null)};f.tap=function(n,t,i,r,u){sf(f,n,t,i,r,u)};f.trigger=function(n,t){for(var o,e,s=[c,l,h,u],i=0;i<4;i++)e=s[i],e&&e[n]&&(o=e[n].call(r,t||{},f));return o};f.option=function(n,t,i){var r={},o=["data","invalid","valid","readonly"];/calendar|eventcalendar|range/.test(e.preset)&&o.push("marked","labels","colors");"object"===("undefined"==typeof n?"undefined":ai(n))?r=n:r[n]=t;o.forEach(function(n){u[n]=e[n]});f.init(r,i)};f.getInst=function(){return f};u=u||{};a=f.trigger;f.__ready||w()};es=0;hr.getJson=hf;lu={};it&&(yr=document.createElement("modernizr").style,st=tc(),v=st.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),fi=void 0!==yr.animation?"animationend":"webkitAnimationEnd",df=void 0!==yr.transition,pi=void 0===yr.touchAction||"ios"==a&&!kc&&(nt<12||12==nt&&bf<2));var au,vu,gf="position:absolute;left:0;top:0;",os=gf+"right:0;bottom:0;overflow:hidden;z-index:-1;",nl='<div style="'+os+'"><div style="'+gf+'"><\/div><\/div><div style="'+os+'"><div style="'+gf+'width:200%;height:200%;"><\/div><\/div>',ne=u.themes,tl=/(iphone|ipod)/i.test(ar)&&nt>=7,ss="android"==a,te="ios"==a,il=te&&8==nt,rl=te&&nt>7,ul=function(n){n.preventDefault()},hs="input,select,textarea,button",fl='textarea,button,input[type="button"],input[type="submit"]',el=hs+',[tabindex="0"]',ut=function(t,f,e){function bi(t){nt&&nt.removeClass("mbsc-active");nt=n(this);nt.hasClass("mbsc-disabled")||nt.hasClass("mbsc-fr-btn-nhl")||nt.addClass("mbsc-active");"mousedown"===t.type?n(document).on("mouseup",st):"pointerdown"===t.type&&n(document).on("pointerup",st)}function st(t){nt&&(nt.removeClass("mbsc-active"),nt=null);"mouseup"===t.type?n(document).off("mouseup",st):"pointerup"===t.type&&n(document).off("pointerup",st)}function oi(t){u.activeInstance==o&&(13!=t.keyCode||n(t.target).is(fl)&&!t.shiftKey?27==t.keyCode&&o.cancel():o.select())}function si(n){n||ss||!o._activeElm||(ei=new Date,o._activeElm.focus())}function hi(t){var r=au,i=s.focusOnClose;o._markupRemove();h.remove();c&&(l.mbscModals--,s.scrollLock&&l.mbscLock--,l.mbscLock||et.removeClass("mbsc-fr-lock"),ft&&(l.mbscIOSLock--,l.mbscIOSLock||(et.removeClass("mbsc-fr-lock-ios"),g.css({top:"",left:""}),k.scrollLeft(l.mbscScrollLeft),k.scrollTop(l.mbscScrollTop))),l.mbscModals||et.removeClass("mbsc-fr-lock-ctx"),l.mbscModals&&!pt||t||(r||(r=v),setTimeout(function(){void 0===i||i===!0?(vu=!0,r[0].focus()):i&&n(i)[0].focus()},200)));pt=void 0;ti=!1;p("onHide")}function ki(){clearTimeout(wi);wi=setTimeout(function(){o.position(!0)&&(ut.style.visibility="hidden",ut.offsetHeight,ut.style.visibility="")},200)}function ci(n){u.activeInstance==o&&n.target.nodeType&&!ri.contains(n.target)&&new Date-ei>100&&(ei=new Date,o._activeElm.focus())}function li(t,i){function l(){h.off(fi,l).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+a).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+a);si(i)}var f,e,u,y,b;if(c?h.appendTo(g):v.is("div")&&!o._hasContent?v.empty().append(h):v.hasClass("mbsc-control")?(f=v.closest(".mbsc-control-w"),h.insertAfter(f),f.hasClass("mbsc-select")&&f.addClass("mbsc-select-inline")):h.insertAfter(v),ti=!0,o._markupInserted(h),p("onMarkupInserted",{target:d}),c&&s.closeOnOverlayTap)dt.on("touchstart mousedown",function(n){u||n.target!=ri||(u=!0,e=!1,y=r(n,"X"),b=r(n,"Y"))}).on("touchmove mousemove",function(n){u&&!e&&(Math.abs(r(n,"X")-y)>9||Math.abs(r(n,"Y")-b)>9)&&(e=!0)}).on("touchcancel",function(){u=!1}).on("touchend click",function(n){u&&!e&&(o.cancel(),"touchend"==n.type&&at());u=!1});h.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",ul).on("touchstart mousedown",function(n){s.stopProp&&n.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(n){32==n.keyCode&&(n.preventDefault(),n.stopPropagation(),this.click())}).on("keydown",function(t){if(32!=t.keyCode||n(t.target).is(hs)){if(9==t.keyCode&&c&&s.focusTrap){var i=h.find(el).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),f=i.index(n(":focus",h)),r=i.length-1,u=0;t.shiftKey&&(r=0,u=-1);f===r&&(i.eq(u)[0].focus(),t.preventDefault())}}else t.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",bi).on("touchend",".mbsc-fr-btn-e",st);d.addEventListener("touchstart",function(){wt||(wt=!0,g.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0);n.each(w,function(t,i){o.tap(n(".mbsc-fr-btn"+t,h),function(n){i=lt(i)?o.buttons[i]:i;(lt(i.handler)?o.handlers[i.handler]:i.handler).call(this,n,o)},!0)});o._attachEvents(h);o.position()!==!1&&((c||o._checkSize)&&(yt=so(d,ki,s.zone)),c&&(h.removeClass("mbsc-fr-pos"),a&&!t?h.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+a).on(fi,l).find(".mbsc-fr-popup").addClass("mbsc-anim-"+a):si(i)),p("onShow",{target:d,valueText:o._tempValue}))}function ct(n,t){o._isVisible||(n&&n(),o.show()!==!1&&(au=t))}function ai(){o._fillValue();p("onSet",{valueText:o._value})}function vi(){p("onCancel",{valueText:o._value})}function yi(){o.setVal(null,!0)}var g,pi,et,h,dt,gt,ot,k,ni,w,nt,l,a,tt,c,ti,ii,d,it,b,vt,ft,yt,ri,ut,wi,pt,s,ui,wt,p,ht,bt,o=this,v=n(t),kt=[],ei=new Date;rt.call(this,t,f,!0);o.position=function(t){var nt,ct,lt,at,w,yt,pt,wt,rt,kt,ri,ft,i,r,fi,ei,et,f,e,dt={},a=0,u=0,st=0,ii=0;if(!ti)return!1;if(ei=ht,fi=bt,i=d.offsetHeight,r=d.offsetWidth,r&&i&&(ht!==r||bt!==i||!t)){if(o._checkResp(r))return!1;if(ht=r,bt=i,o._isFullScreen||/top|bottom/.test(s.display)?ot.width(r):c&&ni.width(""),o._position(h),!o._isFullScreen&&/center|bubble/.test(s.display)&&(n(".mbsc-w-p",h).each(function(){et=this.getBoundingClientRect().width;ii+=et;st=et>st?et:st}),ft=ii>r-16||s.tabs===!0,ni.css({width:o._isLiquid?Math.min(s.maxPopupWidth,r-16):Math.ceil(ft?st:ii),"white-space":ft?"":"nowrap"})),p("onPosition",{target:d,popup:ut,hasTabs:ft,oldWidth:ei,oldHeight:fi,windowWidth:r,windowHeight:i})!==!1&&c)return vt&&(a=k.scrollLeft(),u=k.scrollTop(),ht&&gt.css({width:"",height:""})),it=ut.offsetWidth,b=ut.offsetHeight,ui=b<=i&&it<=r,"center"==s.display?(e=Math.max(0,a+(r-it)/2),f=Math.max(0,u+(i-b)/2)):"bubble"==s.display?(nt=void 0===s.anchor?v:n(s.anchor),pt=n(".mbsc-fr-arr-i",h)[0],at=nt.offset(),w=at.top+(tt?u-g.offset().top:0),yt=at.left+(tt?a-g.offset().left:0),ct=nt[0].offsetWidth,lt=nt[0].offsetHeight,wt=pt.offsetWidth,rt=pt.offsetHeight,e=y(yt-(it-ct)/2,a+3,a+r-it-3),f=w+lt+rt/2,f+b+8>u+i&&w-b-rt/2>u?(ot.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),f=w-b-rt/2):ot.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),n(".mbsc-fr-arr",h).css({left:y(yt+ct/2-(e+(it-wt)/2),0,wt)}),ui=f>u&&e>a&&f+b<=u+i&&e+it<=a+r):(e=a,f="top"==s.display?u:Math.max(0,u+i-b)),vt&&(kt=Math.max(f+b,tt?l.scrollHeight:n(document).height()),ri=Math.max(e+it,tt?l.scrollWidth:n(document).width()),gt.css({width:ri,height:kt}),s.scroll&&"bubble"==s.display&&(f+b+8>u+i||w>u+i||w+lt<u)&&k.scrollTop(Math.min(w,f+b-i+8,kt-i))),dt.top=Math.floor(f),dt.left=Math.floor(e),ot.css(dt),!0}};o.attachShow=function(t,i){var u,r=n(t).off(".mbsc"),f=r.prop("readonly");"inline"!==s.display&&((s.showOnFocus||s.showOnTap)&&r.is("input,select")&&(r.prop("readonly",!0).on("mousedown.mbsc",function(n){n.preventDefault()}).on("focus.mbsc",function(){o._isVisible&&this.blur()}),u=n('label[for="'+r.attr("id")+'"]'),u.length||(u=r.closest("label"))),r.is("select")||(s.showOnFocus&&r.on("focus.mbsc",function(){vu?vu=!1:ct(i,r)}),s.showOnTap&&(r.on("keydown.mbsc",function(n){32!=n.keyCode&&13!=n.keyCode||(n.preventDefault(),n.stopPropagation(),ct(i,r))}),o.tap(r,function(n){n.isMbscTap&&(wt=!0);ct(i,r)}),u&&u.length&&o.tap(u,function(n){n.preventDefault();n.target!==r[0]&&ct(i,r)}))),kt.push({readOnly:f,el:r,lbl:u}))};o.select=function(){c?o.hide(!1,"set",!1,ai):ai()};o.cancel=function(){c?o.hide(!1,"cancel",!1,vi):vi()};o.clear=function(){o._clearValue();p("onClear");c&&o._isVisible&&!o.live?o.hide(!1,"clear",!1,yi):yi()};o.enable=function(){s.disabled=!1;n.each(kt,function(n,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})};o.disable=function(){s.disabled=!0;n.each(kt,function(n,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})};o.show=function(t,i){var v,f,b,nt,r,e,y,it;if(!s.disabled&&!o._isVisible){if(o._readValue(),p("onBeforeShow")===!1)return!1;if(au=null,a=s.animate,w=s.buttons||[],vt=tt||"bubble"==s.display,ft=tl&&!vt&&s.scrollLock,v=w.length>0,a!==!1&&("top"==s.display?a=a||"slidedown":"bottom"==s.display?a=a||"slideup":"center"!=s.display&&"bubble"!=s.display||(a=a||"pop")),c&&(ht=0,bt=0,ft&&!et.hasClass("mbsc-fr-lock-ios")&&(l.mbscScrollTop=nt=Math.max(0,k.scrollTop()),l.mbscScrollLeft=b=Math.max(0,k.scrollLeft()),g.css({top:-nt+"px",left:-b+"px"})),et.addClass((s.scrollLock?"mbsc-fr-lock":"")+(ft?" mbsc-fr-lock-ios":"")+(tt?" mbsc-fr-lock-ctx":"")),n(document.activeElement).is("input,textarea")&&document.activeElement.blur(),pt=u.activeInstance,u.activeInstance=o,l.mbscModals=(l.mbscModals||0)+1,ft&&(l.mbscIOSLock=(l.mbscIOSLock||0)+1),s.scrollLock&&(l.mbscLock=(l.mbscLock||0)+1)),f='<div lang="'+s.lang+'" class="mbsc-fr mbsc-'+s.theme+(s.baseTheme?" mbsc-"+s.baseTheme:"")+" mbsc-fr-"+s.display+" "+(s.cssClass||"")+" "+(s.compClass||"")+(o._isLiquid?" mbsc-fr-liq":"")+(c?" mbsc-fr-pos"+(s.showOverlay?"":" mbsc-fr-no-overlay"):"")+(ii?" mbsc-fr-pointer":"")+(rl?" mbsc-fr-hb":"")+(wt?"":" mbsc-no-touch")+(ft?" mbsc-platform-ios":"")+(v?w.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(c?'<div class="mbsc-fr-persp">'+(s.showOverlay?'<div class="mbsc-fr-overlay"><\/div>':"")+'<div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(s.rtl?" mbsc-rtl":" mbsc-ltr")+(s.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===s.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"><\/div><\/div><\/div>':"")+(c?'<div class="mbsc-fr-focus" tabindex="-1"><\/div>':"")+'<div class="mbsc-fr-w">'+(s.headerText?'<div class="mbsc-fr-hdr">'+(lt(s.headerText)?s.headerText:"")+"<\/div>":"")+'<div class="mbsc-fr-c">',f+=o._generateContent(),f+="<\/div>",v){for(it=w.length,f+='<div class="mbsc-fr-btn-cont">',e=0;e<w.length;e++)y=s.btnReverse?it-e-1:e,r=w[y],r=lt(r)?o.buttons[r]:r,"set"===r.handler&&(r.parentClass="mbsc-fr-btn-s"),"cancel"===r.handler&&(r.parentClass="mbsc-fr-btn-c"),f+="<div"+(s.btnWidth?' style="width:'+100/w.length+'%"':"")+' class="mbsc-fr-btn-w '+(r.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+y+" mbsc-fr-btn-e "+(void 0===r.cssClass?s.btnClass:r.cssClass)+(r.icon?" mbsc-ic mbsc-ic-"+r.icon:"")+'">'+(r.text||"")+"<\/div><\/div>";f+="<\/div>"}f+="<\/div><\/div><\/div><\/div>"+(c?"<\/div><\/div>":"");h=n(f);gt=n(".mbsc-fr-persp",h);dt=n(".mbsc-fr-scroll",h);ni=n(".mbsc-fr-w",h);ot=n(".mbsc-fr-popup",h);pi=n(".mbsc-fr-hdr",h);d=h[0];ri=dt[0];ut=ot[0];o._activeElm=n(".mbsc-fr-focus",h)[0];o._markup=h;o._isVisible=!0;o.markup=d;o._markupReady(h);p("onMarkupReady",{target:d});c&&(n(window).on("keydown",oi),s.scrollLock&&h.on("touchmove mousewheel wheel",function(n){ui&&n.preventDefault()}),s.focusTrap&&k.on("focusin",ci));c?setTimeout(function(){li(t,i)},ft?100:0):li(t,i)}};o.hide=function(t,i,r,f){function e(){h.off(fi,e);hi(t)}return!(!o._isVisible||!r&&!o._isValid&&"set"==i||!r&&p("onBeforeClose",{valueText:o._tempValue,button:i})===!1)&&(o._isVisible=!1,yt&&(yt.detach(),yt=null),c&&(n(document.activeElement).is("input,textarea")&&ut.contains(document.activeElement)&&document.activeElement.blur(),u.activeInstance==o&&(u.activeInstance=pt),n(window).off("keydown",oi),k.off("focusin",ci)),h&&(c&&a&&!t?h.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+a).on(fi,e).find(".mbsc-fr-popup").addClass("mbsc-anim-"+a):hi(t),o._detachEvents(h)),f&&f(),v.trigger("blur"),void p("onClose",{valueText:o._value}))};o.isVisible=function(){return o._isVisible};o.setVal=i;o.getVal=i;o._generateContent=i;o._attachEvents=i;o._detachEvents=i;o._readValue=i;o._clearValue=i;o._fillValue=i;o._markupReady=i;o._markupInserted=i;o._markupRemove=i;o._position=i;o.__processSettings=i;o.__init=i;o.__destroy=i;o._destroy=function(){o.hide(!0,!1,!0);v.off(".mbsc");n.each(kt,function(n,t){t.el.off(".mbsc").prop("readonly",t.readOnly);t.lbl&&t.lbl.off(".mbsc")});o.__destroy()};o._updateHeader=function(){var n=s.headerText,i=n?"function"==typeof n?n.call(t,o._tempValue):n.replace(/\{value\}/i,o._tempValue):"";pi.html(i||"&nbsp;")};o._processSettings=function(t){var i,r;for(o.__processSettings(t),ii=!s.touchUi,ii&&(s.display=t.display||f.display||"bubble",s.buttons=t.buttons||f.buttons||[],s.showOverlay=t.showOverlay||f.showOverlay||!1),s.buttons=s.buttons||("inline"!==s.display?["cancel","set"]:[]),s.headerText=void 0===s.headerText?"inline"!==s.display&&"{value}":s.headerText,w=s.buttons||[],c="inline"!==s.display,tt="body"!=s.context,g=n(s.context),et=tt?g:n("body,html"),l=g[0],o._$window=k=n(tt?s.context:window),o.live=!0,r=0;r<w.length;r++)i=w[r],"ok"!=i&&"set"!=i&&"set"!=i.handler||(o.live=!1);o.buttons.set={text:s.setText,icon:s.setIcon,handler:"set"};o.buttons.cancel={text:s.cancelText,icon:s.cancelIcon,handler:"cancel"};o.buttons.close={text:s.closeText,icon:s.closeIcon,handler:"cancel"};o.buttons.clear={text:s.clearText,icon:s.clearIcon,handler:"clear"};o._isInput=v.is("input")};o._init=function(n){var t=o._isVisible,i=t&&!h.hasClass("mbsc-fr-pos");t&&o.hide(!0,!1,!0);v.off(".mbsc");o.__init(n);o._isLiquid="liquid"==s.layout;c?(o._readValue(),o._hasContent||s.skipShow||o.attachShow(v),t&&o.show(i)):o.show();v.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){o._preventChange||o.setVal(v.val(),!0,!1);o._preventChange=!1})};o.buttons={};o.handlers={set:o.select,cancel:o.cancel,clear:o.clear};o._value=null;o._isValid=!0;o._isVisible=!1;s=o.settings;p=o.trigger;e||o.init()};ut.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:ss||te,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,showOverlay:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!il};c.Frame=ut;ne.frame.mobiscroll={headerText:!1,btnWidth:!1};ne.scroller.mobiscroll=t({},ne.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"});it&&n(window).on("focus",function(){au&&(vu=!0)});cs="ios"==a;wt=function(t,i,u){function nr(t){nt("onStart",{domEvent:t});f.stopProp&&t.stopPropagation();f.prevDef&&t.preventDefault();f.readonly||f.lock&&ot||vt(t,this)&&!ti&&(tt&&tt.removeClass("mbsc-active"),ni=!1,ot||(tt=n(t.target).closest(".mbsc-btn-e",this),tt.length&&!tt.hasClass("mbsc-disabled")&&(ni=!0,vi=setTimeout(function(){tt.addClass("mbsc-active")},100))),ti=!0,it=!1,ii=!1,c.scrolled=ot,bi=r(t,"X"),ri=r(t,"Y"),pi=bi,ei=0,kt=0,o=0,cr=new Date,p=+cf(et,e)||0,ot&&fi(p,cs?0:1),"mousedown"===t.type&&n(document).on("mousemove",ui).on("mouseup",wt))}function ui(n){ti&&(f.stopProp&&n.stopPropagation(),pi=r(n,"X"),er=r(n,"Y"),ei=pi-bi,kt=er-ri,o=e?kt:ei,ni&&(Math.abs(kt)>f.thresholdY||Math.abs(ei)>f.thresholdX)&&(clearTimeout(vi),tt.removeClass("mbsc-active"),ni=!1),(c.scrolled||!ii&&Math.abs(o)>lr)&&(it||nt("onGestureStart",s),c.scrolled=it=!0,ht||(ht=!0,oi=pt(tr))),e||f.scrollLock?n.preventDefault():c.scrolled?n.preventDefault():Math.abs(kt)>7&&(ii=!0,c.scrolled=!0,wt()))}function tr(){d&&(o=y(o,-h*d,h*d));fi(y(p+o,b-gt,a+gt));ht=!1}function wt(t){if(ti){var i,r=new Date-cr;f.stopProp&&t&&t.stopPropagation();kf(oi);ht=!1;!ii&&c.scrolled&&(f.momentum&&r<300&&(i=o/r,o=Math.max(Math.abs(o),i*i/f.speedUnit)*(o<0?-1:1)),li(o));ni&&(clearTimeout(vi),tt.addClass("mbsc-active"),setTimeout(function(){tt.removeClass("mbsc-active")},100),ii||c.scrolled||nt("onBtnTap",{target:tt[0],domEvent:t}));t&&"mouseup"==t.type&&n(document).off("mousemove",ui).off("mouseup",wt);ti=!1}}function ir(n){if(n=n.originalEvent||n,o=e?void 0==n.deltaY?n.wheelDelta||n.detail:n.deltaY:n.deltaX,nt("onStart",{domEvent:n}),f.stopProp&&n.stopPropagation(),o){if(n.preventDefault(),n.deltaMode&&1==n.deltaMode&&(o*=15),o=y(-o,-ft,ft),p=l,f.readonly)return;if(it||fr(),p+o<b&&(p=b,o=0),p+o>a&&(p=a,o=0),ht||(ht=!0,oi=pt(tr)),!o&&it)return;it=!0;clearTimeout(hr);hr=setTimeout(function(){kf(oi);ht=!1;it=!1;li(o)},200)}}function rr(t){nt("onStart",{domEvent:t});f.readonly||(t.stopPropagation(),p=l,it=!1,t.target==ut?(ri=r(t,"Y",!0),n(document).on("mousemove",hi).on("mouseup",ci)):(ri=ai.offset().top,hi(t),ci()))}function hi(n){var t=(r(n,"Y",!0)-ri)/k;wi?(o=-(d*h*2+k)*t,o=y(o,-h*d,h*d)):o=(b-a-k)*t;it||fr();it=!0;fi(y(p+o,b-gt,a+gt))}function ci(){p=l;li(0);n(document).off("mousemove",hi).off("mouseup",ci)}function ur(n){n.stopPropagation()}function fr(){s={posX:e?0:l,posY:e?l:0,originX:e?0:p,originY:e?p:0,direction:o>0?e?270:360:e?90:180};nt("onGestureStart",s)}function li(n){var t,r,i;if(d&&(n=y(n,-h*d,h*d)),i=y(Math.round((p+n)/h)*h,b,a),g){if(n<0){for(t=g.length-1;t>=0;t--)if(Math.abs(i)+k>=g[t].breakpoint){at=t;gi=2;i=g[t].snap2;break}}else if(n>=0)for(t=0;t<g.length;t++)if(Math.abs(i)<=g[t].breakpoint){at=t;gi=1;i=g[t].snap1;break}i=y(i,b,a)}r=f.time||(l<b||l>a?1e3:Math.max(1e3,Math.abs(i-l)*f.timeUnit));s.destinationX=e?0:i;s.destinationY=e?i:0;s.duration=r;s.transitionTiming=dt;nt("onGestureEnd",s);c.scroll(i,r)}function fi(n,t,i,r){var o,c=n!=l,y=t>1,w=t?st+"transform "+Math.round(t)+"ms "+dt:"",u=function(){clearInterval(si);clearTimeout(di);ot=!1;l=n;s.posX=e?0:n;s.posY=e?n:0;c&&nt("onMove",s);y&&nt("onAnimationEnd",s);r&&r()};s={posX:e?0:l,posY:e?l:0,originX:e?0:p,originY:e?p:0,direction:n-l>0?e?270:360:e?90:180};l=n;y&&(s.destinationX=e?0:n,s.destinationY=e?n:0,s.duration=t,s.transitionTiming=dt,nt("onAnimationStart",s));ki[v+"Transition"]=w;ki[v+"Transform"]="translate3d("+(e?"0,"+n+"px,":n+"px,0,")+"0)";ut&&ct&&(o=wi?(or-n)/(d*h*2):(n-a)/(b-a),ut.style[v+"Transition"]=w,ut.style[v+"Transform"]="translate3d(0,"+Math.max(0,Math.min((k-ct)*o,k-ct))+"px,0)");!c&&!ot||!t||t<=1?u():t&&(ot=!i,clearInterval(si),si=setInterval(function(){var t=+cf(et,e)||0;s.posX=e?0:t;s.posY=e?t:0;nt("onMove",s);Math.abs(t-n)<2&&u()},100),clearTimeout(di),di=setTimeout(function(){u()},t));f.sync&&f.sync(n,t,dt)}var tt,ai,bt,vi,k,ei,kt,o,yi,dt,gt,pi,er,s,ni,wi,a,d,b,ti,ot,ii,oi,ht,ut,ct,or,sr,it,hr,ft,si,h,g,p,cr,bi,ri,ki,et,di,lr,nt,e,l,c=this,at=0,gi=1,f=i,yt=n(t);rt.call(this,t,i,!0);c.scrolled=!1;c.scroll=function(i,r,u,f){i=w(i)?Math.round(i/h)*h:Math.ceil((n(i,t).length?Math.round(et.offset()[yi]-n(i,t).offset()[yi]):l)/h)*h;i=y(i,b,a);at=Math.round(i/h);p=l;or=d*h+i;fi(i,r,u,f)};c.refresh=function(n){var t;for(k=(void 0===f.contSize?e?yt.height():yt.width():f.contSize)||0,a=(void 0===f.maxScroll?0:f.maxScroll)||0,b=Math.min(a,void 0===f.minScroll?Math.min(0,e?k-et.height():k-et.width()):f.minScroll)||0,g=null,!e&&f.rtl&&(t=a,a=-b,b=-t),lt(f.snap)&&(g=[],et.find(f.snap).each(function(){var n=e?this.offsetTop:this.offsetLeft,t=e?this.offsetHeight:this.offsetWidth;g.push({breakpoint:n+t/2,snap1:-n,snap2:k-n-t})})),h=w(f.snap)?f.snap:1,d=f.snap?f.maxSnapScroll:0,dt=f.easing,gt=f.elastic?w(f.snap)?h:w(f.elastic)?f.elastic:0:0,ft=h;ft>44;)ft/=2;ft=Math.round(44/ft)*ft;ut&&(wi=b==-(1/0)||a==1/0,ct=b<a?Math.max(20,k*k/(a-b+k)):0,ut.style.height=ct+"px",sr.style.height=ct?"":0);void 0===l&&(l=f.initialPos,at=Math.round(l/h));n||c.scroll(f.snap?g?g[at]["snap"+gi]:at*h:l)};c._processSettings=function(){e="Y"==f.axis;yi=e?"top":"left";et=f.moveElement||yt.children().eq(0);ki=et[0].style;lr=e?f.thresholdY:f.thresholdX;f.scrollbar&&(bt=f.scrollbar,ai=bt.find(".mbsc-sc-bar"),ut=ai[0],sr=bt[0])};c._init=function(){c.refresh();yt.on("touchstart mousedown",nr).on("touchmove",ui).on("touchend touchcancel",wt);f.mousewheel&&yt.on("wheel mousewheel",ir);ut&&bt.on("mousedown",rr).on("click",ur);t.addEventListener("click",function(n){c.scrolled&&(c.scrolled=!1,n.stopPropagation(),n.preventDefault())},!0)};c._destroy=function(){clearInterval(si);yt.off("touchstart mousedown",nr).off("touchmove",ui).off("touchend touchcancel",wt).off("wheel mousewheel",ir);ut&&bt.off("mousedown",rr).off("click",ur)};f=c.settings;nt=c.trigger;u||c.init()};wt.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};var o={},ie=it?window.CSS:null,ol=ie&&ie.supports&&ie.supports("(transform-style: preserve-3d)"),h=function(i,r,u){function ri(t){var i,r,u=+n(this).attr("data-index");38==t.keyCode?(i=!0,r=-1):40==t.keyCode?(i=!0,r=1):32==t.keyCode&&(i=!0,bt(u,n(t.target)));i&&(t.stopPropagation(),t.preventDefault(),r&&ft.start(u,r,t))}function ui(){ft.stop()}function bt(n,t){var i=c[n],o=+t.attr("data-index"),r=k(i,o),u=f._tempSelected[n],s=w(i.multiple)?i.multiple:1/0;a("onItemTap",{target:t[0],index:n,value:r,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(i.multiple&&!i._disabled[r]&&(void 0!==u[r]?(t.removeClass(b).removeAttr("aria-selected"),delete u[r]):(1==s&&(f._tempSelected[n]=u={},i._$markup.find(".mbsc-sc-itm-sel").removeClass(b).removeAttr("aria-selected")),tu(u).length<s&&(t.addClass(b).attr("aria-selected","true"),u[r]=r))),lt(i,n,o,ii,i._index<o?1:2,!0,i.multiple),f.live&&(!i.multiple||1===i.multiple&&e.tapSelect)&&(e.setOnTap===!0||e.setOnTap[n])&&setTimeout(function(){f.select()},e.tapSelect?0:200))}function fi(n,t){var i=c[n];return i&&(!i.multiple||1!==i.multiple&&t&&(e.setOnTap===!0||e.setOnTap[n]))}function kt(n){return-(n.max-n._offset-(n.multiple&&!h?Math.floor(e.rows/2):0))*o}function dt(n){return-(n.min-n._offset+(n.multiple&&!h?Math.floor(e.rows/2):0))*o}function ht(n,t){return(n._array?n._map[t]:+n.getIndex(t,f))||0}function gt(t,i){var r=t.data;if(i>=t.min&&i<=t.max)return t._array?t.circular?n(r).get(i%t._length):r[i]:n.isFunction(r)?r(i,f):""}function tt(t){return n.isPlainObject(t)?void 0!==t.value?t.value:t.display:t}function ei(t){var i=n.isPlainObject(t)?t.display:t;return void 0===i?"":i}function k(n,t){return tt(gt(n,t))}function oi(n,t,i){var r=c[n];lt(r,n,r._index+t,e.delay+100,1==t?1:2,!1,!1,"keydown"==i.type)}function ni(t){return n.isArray(e.readonly)?e.readonly[t]:e.readonly}function ct(i,r,u){var f=i._index-i._batch;return i.data=i.data||[],i.key=void 0!==i.key?i.key:r,i.label=void 0!==i.label?i.label:r,i._map={},i._array=n.isArray(i.data),i._array&&(i._length=i.data.length,n.each(i.data,function(n,t){i._map[tt(t)]=n})),i.circular=void 0===e.circular?void 0===i.circular?i._array&&i._length>e.rows:i.circular:n.isArray(e.circular)?e.circular[r]:e.circular,i.min=i._array?i.circular?-(1/0):0:void 0===i.min?-(1/0):i.min,i.max=i._array?i.circular?1/0:i._length-1:void 0===i.max?1/0:i.max,i._nr=r,i._index=ht(i,s[r]),i._disabled={},i._batch=0,i._current=i._index,i._first=i._index-l,i._last=i._index+l,i._offset=i._first,u?(i._offset-=i._margin/o+(i._index-f),i._margin+=(i._index-f)*o):i._margin=0,i._refresh=function(n){t(i._scroller.settings,{minScroll:kt(i),maxScroll:dt(i)});i._scroller.refresh(n)},yt[i.key]=i,i}function y(n,t,i,r,u){for(var y,h,c,p,a,w,v,k="",d=f._tempSelected[t],g=n._disabled||{},l=i;l<=r;l++)h=gt(n,l),p=ei(h),c=tt(h),y=h&&void 0!==h.cssClass?h.cssClass:"",a=h&&void 0!==h.label?h.label:"",w=h&&h.invalid,v=void 0!==c&&c==s[t]&&!n.multiple,k+='<div role="option" tabindex="-1" aria-selected="'+!!d[c]+'" class="mbsc-sc-itm '+(u?"mbsc-sc-itm-3d ":"")+y+" "+(v?"mbsc-sc-itm-sel ":"")+(d[c]?b:"")+(void 0===c?" mbsc-sc-itm-ph":" mbsc-btn-e")+(w?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[c]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+l+'" data-val="'+uu(c)+'"'+(a?' aria-label="'+a+'"':"")+(v?' aria-selected="true"':"")+' style="height:'+o+"px;line-height:"+o+"px;"+(u?st+"transform:rotateX("+(n._offset-l)*vt%360+"deg) translateZ("+o*e.rows/2+"px);":"")+'">'+(nt>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(o/nt)+"px;font-size:"+Math.round(o/nt*.8)+'px;">':"")+p+(nt>1?"<\/div>":"")+"<\/div>";return k}function si(t,i,r){var a=Math.round(-r/o)+t._offset,u=a-t._current,f=t._first,e=t._last,s=f+l-p+1,c=e-l+p;u&&(t._first+=u,t._last+=u,t._current=a,u>0?(t._$scroller.append(y(t,i,Math.max(e+1,f+u),e+u)),n(".mbsc-sc-itm",t._$scroller).slice(0,Math.min(u,e-f+1)).remove(),h&&(t._$3d.append(y(t,i,Math.max(c+1,s+u),c+u,!0)),n(".mbsc-sc-itm",t._$3d).slice(0,Math.min(u,c-s+1)).attr("class","mbsc-sc-itm-del"))):u<0&&(t._$scroller.prepend(y(t,i,f+u,Math.min(f-1,e+u))),n(".mbsc-sc-itm",t._$scroller).slice(Math.max(u,f-e-1)).remove(),h&&(t._$3d.prepend(y(t,i,s+u,Math.min(s-1,c+u),!0)),n(".mbsc-sc-itm",t._$3d).slice(Math.max(u,s-c-1)).attr("class","mbsc-sc-itm-del"))),t._margin+=u*o,t._$scroller.css("margin-top",t._margin+"px"))}function ti(n,t,i,r){var f,u=c[n],l=r||u._disabled,e=ht(u,t),s=k(u,e),v=s,a=s,o=0,h=0;if(l[s]===!0){for(f=0;e-o>=u.min&&l[v]&&f<100;)f++,o++,v=k(u,e-o);for(f=0;e+h<u.max&&l[a]&&f<100;)f++,h++,a=k(u,e+h);s=(h<o&&h&&2!==i||!o||e-o<0||1==i)&&!l[a]?a:v}return s}function it(t,r,u,v,y,p,w){var d,nt,it,k,tt=f._isVisible;g=!0;k=e.validate.call(i,{values:s.slice(0),index:r,direction:u},f)||{};g=!1;k.valid&&(f._tempWheelArray=s=k.valid.slice(0));p||n.each(c,function(i,e){if(tt&&e._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),e._disabled={},k.disabled&&k.disabled[i]&&n.each(k.disabled[i],function(n,t){e._disabled[t]=!0;tt&&e._$markup.find('.mbsc-sc-itm[data-val="'+uu(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),s[i]=e.multiple?s[i]:ti(i,s[i],u),tt){if(e.multiple&&void 0!==r||e._$markup.find(".mbsc-sc-itm-sel").removeClass(b).removeAttr("aria-selected"),nt=ht(e,s[i]),d=nt-e._index+e._batch,Math.abs(d)>2*l+1&&(it=d+(2*l+1)*(d>0?-1:1),e._offset+=it,e._margin-=it*o,e._refresh()),e._index=nt+e._batch,e.multiple){if(void 0===r)for(var c in f._tempSelected[i])e._$markup.find('.mbsc-sc-itm[data-val="'+uu(c)+'"]').addClass(b).attr("aria-selected","true")}else e._$markup.find('.mbsc-sc-itm[data-val="'+uu(s[i])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");e._$active&&e._$active.attr("tabindex",-1);e._$active=e._$markup.find('.mbsc-sc-itm[data-index="'+e._index+'"]').eq(h&&e.multiple?1:0).attr("tabindex",0);w&&r===i&&e._$active.length&&(e._$active[0].focus(),e._$scroller.parent().scrollTop(0));e._scroller.scroll(-(nt-e._offset+e._batch)*o,r===i||void 0===r?t:ii,y)}});a("onValidated",{index:r,time:t});f._tempValue=e.formatValue.call(i,s,f);tt&&f._updateHeader();f.live&&fi(r,p)&&(f._hasValue=v||f._hasValue,rt(v,v,0,!0),v&&a("onSet",{valueText:f._value}));v&&a("onChange",{index:r,valueText:f._tempValue})}function lt(n,t,i,r,u,f,e,o){var h=k(n,i);void 0!==h&&(s[t]=h,n._batch=n._array?Math.floor(i/n._length)*n._length:0,n._index=i,setTimeout(function(){it(r,t,u,!0,f,e,o)},10))}function rt(n,r,u,o,h){if(o?f._tempValue=e.formatValue.call(i,f._tempWheelArray,f):it(u),!h){f._wheelArray=[];for(var l=0;l<s.length;l++)f._wheelArray[l]=c[l]&&c[l].multiple?Object.keys(f._tempSelected[l]||{})[0]:s[l];f._value=f._hasValue?f._tempValue:null;f._selected=t(!0,{},f._tempSelected)}n&&(f._isInput&&pt.val(f._hasValue?f._tempValue:""),a("onFill",{valueText:f._hasValue?f._tempValue:"",change:r}),r&&(f._preventChange=!0,pt.trigger("change")))}var at,p,vt,h,b,d,ft,s,o,et,ot,g,e,a,nt,c,yt,l=40,ii=1e3,f=this,pt=n(i);ut.call(this,i,r,!0);f.setVal=f._setVal=function(t,r,u,o,h){f._hasValue=null!==t&&void 0!==t;f._tempWheelArray=s=n.isArray(t)?t.slice(0):e.parseValue.call(i,t,f)||[];rt(r,void 0===u?r:u,h,!1,o)};f.getVal=f._getVal=function(n){var t=f._hasValue||n?f[n?"_tempValue":"_value"]:null;return w(t)?+t:t};f.setArrayVal=f.setVal;f.getArrayVal=function(n){return n?f._tempWheelArray:f._wheelArray};f.changeWheel=function(i,r,u){var o,e;n.each(i,function(n,i){e=yt[n];e&&(o=e._nr,t(e,i),ct(e,o,!0),f._isVisible&&(h&&e._$3d.html(y(e,o,e._first+l-p+1,e._last-l+p,!0)),e._$scroller.html(y(e,o,e._first,e._last)).css("margin-top",e._margin+"px"),e._refresh(g)))});!f._isVisible||f._isLiquid||g||f.position();g||it(r,void 0,void 0,u)};f.getValidValue=ti;f._generateContent=function(){var u,s=0,r="",a=h?st+"transform: translateZ("+(o*e.rows/2+3)+"px);":"",v='<div class="mbsc-sc-whl-l" style="'+a+"height:"+o+"px;margin-top:-"+(o/2+(e.selectedLineBorder||0))+'px;"><\/div>',i=0;return n.each(e.wheels,function(w,b){r+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(h?" mbsc-sc-whl-gr-3d-c":"")+(e.showLabel?" mbsc-sc-lbl-v":"")+'">'+v+'<div class="mbsc-sc-whl-gr'+(h?" mbsc-sc-whl-gr-3d":"")+(d?" mbsc-sc-cp":"")+(e.width||e.maxWidth?'"':'" style="max-width:'+e.maxPopupWidth+'px;"')+">";n.each(b,function(n,w){f._tempSelected[i]=t({},f._selected[i]);c[i]=ct(w,i);s+=e.maxWidth?e.maxWidth[i]||e.maxWidth:e.width?e.width[i]||e.width:0;u=void 0!==w.label?w.label:n;r+='<div class="mbsc-sc-whl-w '+(w.cssClass||"")+(w.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(e.width?"width:"+(e.width[i]||e.width)+"px;":(e.minWidth?"min-width:"+(e.minWidth[i]||e.minWidth)+"px;":"")+(e.maxWidth?"max-width:"+(e.maxWidth[i]||e.maxWidth)+"px;":""))+'">'+(ot?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"><\/div><\/div>':"")+'<div class="mbsc-sc-whl-o" style="'+a+'"><\/div>'+v+'<div aria-live="off" aria-label="'+u+'"'+(w.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+e.rows*o*(h?1.1:1)+'px;">'+(d?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(e.btnPlusClass||"")+'"><\/div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(e.btnMinusClass||"")+'"><\/div>':"")+'<div class="mbsc-sc-lbl">'+u+'<\/div><div class="mbsc-sc-whl-c" style="height:'+et+"px;margin-top:-"+(et/2+1)+"px;"+a+'"><div class="mbsc-sc-whl-sc" style="top:'+(et-o)/2+'px;">';r+=y(w,i,w._first,w._last)+"<\/div><\/div>";h&&(r+='<div class="mbsc-sc-whl-3d" style="height:'+o+"px;margin-top:-"+o/2+'px;">',r+=y(w,i,w._first+l-p+1,w._last-l+p,!0),r+="<\/div>");r+="<\/div><\/div>";i++});r+="<\/div><\/div>"}),s&&(e.maxPopupWidth=s),r};f._attachEvents=function(t){ft=ru(n(".mbsc-sc-btn",t),oi,e.delay,ni,!0);n(".mbsc-sc-whl",t).on("keydown",ri).on("keyup",ui)};f._detachEvents=function(){ft.stop();for(var n=0;n<c.length;n++)c[n]._scroller.destroy()};f._markupReady=function(t){at=t;n(".mbsc-sc-whl-w",at).each(function(t){var u,r=n(this),i=c[t];i._$markup=r;i._$scroller=n(".mbsc-sc-whl-sc",this);i._$3d=n(".mbsc-sc-whl-3d",this);i._scroller=new wt(this,{mousewheel:e.mousewheel,moveElement:i._$scroller,scrollbar:n(".mbsc-sc-bar-c",this),initialPos:(i._first-i._index)*o,contSize:e.rows*o,snap:o,minScroll:kt(i),maxScroll:dt(i),maxSnapScroll:l,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(n,t,r){var u=t?st+"transform "+Math.round(t)+"ms "+r:"";h&&(i._$3d[0].style[v+"Transition"]=u,i._$3d[0].style[v+"Transform"]="rotateX("+-n/o*vt+"deg)")},onStart:function(n,i){i.settings.readonly=ni(t)},onGestureStart:function(){r.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim");a("onWheelGestureStart",{index:t})},onGestureEnd:function(n){var r=90==n.direction?1:2,f=n.duration,e=n.destinationY;u=Math.round(-e/o)+i._offset;lt(i,t,u,f,r)},onAnimationStart:function(){r.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){r.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim");a("onWheelAnimationEnd",{index:t});i._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(n){si(i,t,n.posY)},onBtnTap:function(i){bt(t,n(i.target))}})});it()};f._fillValue=function(){f._hasValue=!0;rt(!0,!0,0,!0)};f._clearValue=function(){n(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",at).removeClass(b).removeAttr("aria-selected")};f._readValue=function(){var u=pt.val()||"",r=0;""!==u&&(f._hasValue=!0);f._tempWheelArray=s=f._hasValue&&f._wheelArray?f._wheelArray.slice(0):e.parseValue.call(i,u,f)||[];f._tempSelected=t(!0,{},f._selected);n.each(e.wheels,function(t,i){n.each(i,function(n,t){c[r]=ct(t,r);r++})});rt(!1,!1,0,!0);a("onRead")};f.__processSettings=function(n){e=f.settings;a=f.trigger;nt=e.multiline;b="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+e.checkIcon;ot=!e.touchUi;ot&&(e.tapSelect=!0,e.circular=!1,e.rows=n.rows||r.rows||7)};f.__init=function(n){n&&(f._wheelArray=null);c=[];yt={};d=e.showScrollArrows;h=e.scroll3d&&ol&&!d&&!ot&&("ios"==e.theme||"ios"==e.baseTheme);o=e.height;et=h?2*Math.round((o-.03*(o*e.rows/2+3))/2):o;p=Math.round(1.8*e.rows);vt=180/p;d&&(e.rows=Math.max(3,e.rows))};f._getItemValue=tt;f._tempSelected={};f._selected={};u||f.init()};h.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:o,_defaults:t({},ut.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(n){return n.join(" ")},parseValue:function(t,i){var r,u,f=[],e=[],o=0;return null!==t&&void 0!==t&&(f=(t+"").split(" ")),n.each(i.settings.wheels,function(t,s){n.each(s,function(t,s){u=s.data;r=i._getItemValue(u[0]);n.each(u,function(n,t){if(f[o]==i._getItemValue(t))return r=i._getItemValue(t),!1});e.push(r);o++})}),e}})};c.Scroller=h;ls={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};o.select=function(r,u){function wt(t){var u,p,e,i,y,r,c=0,s=0,a={},v;(h={},b={},l=[],ot=[],rt.length=0,pt)?n.each(ut,function(n,o){y=o[f.dataText]+"";p=o[f.dataHtml];r=o[f.dataValue];e=o[f.dataGroup];i={value:r,html:p,text:y,index:n,cssClass:ni?"mbsc-sel-gr-itm":""};h[r]=i;t&&!dt(y,t)||(l.push(i),tt&&(void 0===a[e]?(u={text:e,value:s,options:[],index:s},b[s]=u,a[e]=s,ot.push(u),s++):u=b[a[e]],it&&(i.index=u.options.length),i.group=a[e],u.options.push(i)),o[f.dataDisabled]&&rt.push(r))}):tt?(v=!0,n("optgroup",o).each(function(r){b[r]={text:this.label,value:r,options:[],index:r};v=!0;n("option",this).each(function(n){i={value:this.value,text:this.text,index:it?n:c++,group:r,cssClass:ni?"mbsc-sel-gr-itm":""};h[this.value]=i;t&&!dt(this.text,t)||(v&&(ot.push(b[r]),v=!1),l.push(i),b[r].options.push(i),this.disabled&&rt.push(this.value))})})):n("option",o).each(function(n){i={value:this.value,text:this.text,index:n};h[this.value]=i;t&&!dt(this.text,t)||(l.push(i),this.disabled&&rt.push(this.value))});ci=f.defaultValue?f.defaultValue:l.length?l[0].value:"";ni&&(l=[],c=0,n.each(b,function(t,u){u.options.length&&(r="__group"+t,i={text:u.text,value:r,group:t,index:c++,cssClass:"mbsc-sel-gr"},h[r]=i,l.push(i),rt.push(i.value),n.each(u.options,function(n,t){t.index=c++;l.push(t)}))}));vt&&(l.length?vt.removeClass("mbsc-sel-empty-v"):vt.addClass("mbsc-sel-empty-v"))}function ti(n,t,i,r,u){for(var e=[],f=0;f<n.length;f++)e.push({value:n[f].value,display:n[f].html||n[f].text,cssClass:n[f].cssClass});return{circular:!1,multiple:t&&!r?1:r,cssClass:(t&&!r?"mbsc-sel-one":"")+" "+u,data:e,label:i}}function wi(){return ti(ot,y,f.groupLabel,!1,"mbsc-sel-gr-whl")}function ii(){return ti(it&&b[v]?b[v].options:l,y,gi,p,"")}function ri(){var n=[[]];return k&&(st=wi(),yi?n[0][s]=st:n[s]=[st]),ht=ii(),yi?n[0][e]=ht:n[e]=[ht],n}function et(t){p&&(t&&lt(t)&&(t=t.split(",")),n.isArray(t)&&(t=t[0]));c=void 0===t||null===t||""===t?ci:t;!h[c]&&l&&l.length&&(c=l[0].value);k&&(v=h[c]?h[c].group:null)}function bt(n){return li[n]||(h[n]?h[n].text:"")}function bi(n,t,i){var r,u,f=[],o=i?t._selected:t._tempSelected;if(y){for(r in o[e])f.push(bt(r));return f.join(", ")}return u=n[e],bt(u)}function kt(){var t,i="",n=r.getVal(),u=f.formatValue.call(at,r.getArrayVal(),r,!0);if(f.filter&&"inline"==f.display||a.val(u),o.is("select")&&pt){if(p)for(t=0;t<n.length;t++)i+='<option value="'+n[t]+'">'+bt(n[t])+"<\/option>";else i='<option value="'+(null===n?"":n)+'">'+u+"<\/option>";o.html(i)}at!==a[0]&&o.val(n)}function ui(){var n={};n[e]=ii();ct=!0;r.changeWheel(n)}function dt(n,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),n.match(new RegExp(t,"ig"))}function fi(n){return f.data.dataField?n[f.data.dataField]:f.data.processResponse?f.data.processResponse(n):n}function ei(n){var t={};wt(n);et(c);f.wheels=ri();t[e]=ht;r._tempWheelArray[e]=c;k&&(t[s]=st,r._tempWheelArray[s]=v);r.changeWheel(t,0,!0);kt()}function oi(n){return r.trigger("onFilter",{filterText:n})}function si(n){n[s]!=v&&(v=n[s],c=b[v].options[0].value,n[e]=c,it?ui():r.setArrayVal(n,!1,!1,!0,ai))}var a,ut,hi,d,v,ot,st,b,s,g,c,l,ht,e,ct,ci="",li={},ai=1e3,at=this,o=n(at),ki=t({},r.settings),f=t(r.settings,ls,ki),vt=n('<div class="mbsc-sel-empty">'+f.filterEmptyText+"<\/div>"),di=f.readonly,h={},vi=f.layout||(/top|bottom|inline/.test(f.display)||f.filter?"liquid":""),yi="liquid"==vi||!f.touchUi,p=w(f.select)?f.select:"multiple"==f.select||o.prop("multiple"),y=p||!(!f.filter&&!f.tapSelect)&&1,yt=this.id+"_dummy",pi=n('label[for="'+this.id+'"]').attr("for",yt),gi=void 0!==f.label?f.label:pi.length?pi.text():o.attr("name"),nt=f.group,pt=!!f.data,tt=pt?!!f.group:n("optgroup",o).length,k=tt&&nt&&nt.groupWheel!==!1,it=tt&&nt&&k&&nt.clustered===!0,ni=tt&&(!nt||nt.header!==!1&&!it),ft=o.val()||(p?[]:[""]),rt=[];return r.setVal=function(n,t,i,u,f){if(y&&(null===n||void 0===n||p||(n=[n]),n&&lt(n)&&(n=n.split(",")),r._tempSelected[e]=gt(n),u||(r._selected[e]=gt(n)),n=n?n[0]:null,k)){var o=h[n],c=o&&o.group;r._tempSelected[s]=gt([c]);u||(r._selected[s]=gt([c]))}r._setVal(n,t,i,u,f)},r.getVal=function(n,t){var i;return y?(i=tu(n?r._tempSelected[e]:r._selected[e]),i=p?i:i.length?i[0]:null):(i=n?r._tempWheelArray:r._hasValue?r._wheelArray:null,i=i?i[e]:null),p?i:void 0!==i?tt&&t?[h[i]?h[i].group:null,i]:i:null},r.refresh=function(t,r,u){u=u||i;t?(ut=t,g||(f.data=t)):n.isArray(f.data)&&(ut=f.data);!t&&g&&void 0===r?hf(f.data.url,function(n){ut=fi(n);ei();u()},f.data.dataType):(ei(r),u())},u.invalid||(f.invalid=rt),k?(s=0,e=1):(s=-1,e=0),y&&(p&&o.prop("multiple",!0),ft&&lt(ft)&&(ft=ft.split(",")),r._selected[e]=gt(ft)),r._$input&&r._$input.remove(),o.next().is(".mbsc-select-input")?a=o.next().removeAttr("tabindex"):f.input?a=n(f.input):(f.filter&&"inline"==f.display?r._$input=n('<div class="mbsc-sel-input-wrap"><input type="text" id="'+yt+'" class="mbsc-select-input mbsc-control '+f.inputClass+'" readonly /><\/div>'):(a=n('<input type="text" id="'+yt+'" class="mbsc-select-input mbsc-control '+f.inputClass+'" readonly />'),r._$input=a),f.showInput&&(r._$input.insertAfter(o),a||(a=r._$input.find("#"+yt)))),r.attachShow(a.attr("placeholder",f.placeholder||"")),a[0]!==at&&(o.addClass("mbsc-sel-hdn").attr("tabindex",-1),f.showInput||o.attr("data-enhance",!1)),!y||f.rows%2||(f.rows=f.rows-1),f.filter&&(hi=f.filter.minLength||0),g=f.data&&f.data.url,g?r.refresh():(pt&&(ut=f.data),wt(),et(o.val())),{layout:vi,headerText:!1,anchor:a,compClass:"mbsc-sc mbsc-sel"+(y?" mbsc-sel-multi":""),setOnTap:!k||[!1,!0],formatValue:bi,tapSelect:y,parseValue:function(n){return et(void 0===n?o.val():n),k?[v,c]:[c]},validate:function(n){var i=n.index,t=[];return t[e]=f.invalid,it&&!ct&&void 0===i&&ui(),ct=!1,{disabled:t}},onRead:kt,onFill:kt,onMarkupReady:function(t,i){if(f.filter){var u,s,r,o=n(".mbsc-fr-w",t.target),e=n('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+f.filterClearIcon+'"><\/span>');"inline"==f.display?(u=a,a.parent().find(".mbsc-sel-filter-clear").remove()):(o.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w mbsc-'+f.theme+(f.baseTheme?" mbsc-"+f.baseTheme:"")+'"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/><\/span><\/div>'),u=o.find(".mbsc-sel-filter-input"));d=null;r=u[0];u.prop("readonly",!1).attr("placeholder",f.filterPlaceholderText).parent().append(e);o.find(".mbsc-fr-c").prepend(vt);i._activeElm=r;i.tap(e,function(){d=null;r.value="";i.refresh();e.removeClass("mbsc-sel-filter-show-clear");oi("")});u.on("keydown",function(n){13!=n.keyCode&&27!=n.keyCode||(n.stopPropagation(),r.blur())}).on("input",function(){clearTimeout(s);r.value.length?e.addClass("mbsc-sel-filter-show-clear"):e.removeClass("mbsc-sel-filter-show-clear");s=setTimeout(function(){d!==r.value&&oi(r.value)!==!1&&(d=r.value,(d.length>=hi||!d.length)&&(g&&f.data.remoteFilter?hf(f.data.url+encodeURIComponent(d),function(n){i.refresh(fi(n))},f.data.dataType):i.refresh(void 0,d)))},500)})}},onBeforeShow:function(){p&&f.counter&&(f.headerText=function(){var t=0;return n.each(r._tempSelected[e],function(){t++}),(t>1?f.selectedPluralText||f.selectedText:f.selectedText).replace(/{count}/,t)});et(o.val());y&&k&&(r._selected[s]=gt([v]));f.filter&&wt(void 0);r.settings.wheels=ri();ct=!0},onWheelGestureStart:function(n){n.index==s&&(f.readonly=[!1,!0])},onWheelAnimationEnd:function(n){var t=r.getArrayVal(!0);n.index==s?(f.readonly=di,y||si(t)):n.index==e&&t[e]!=c&&(c=t[e],k&&h[c]&&h[c].group!=v&&(v=h[c].group,t[s]=v,r._tempSelected[s]=gt([v]),r.setArrayVal(t,!1,!1,!0,ai)))},onItemTap:function(n){var t;if(n.index==e&&(li[n.value]=h[n.value].text,y&&!p&&n.selected))return!1;if(n.index==s&&y){if(n.selected)return!1;t=r.getArrayVal(!0);t[s]=n.value;si(t)}},onClose:function(){g&&f.data.remoteFilter&&d&&r.refresh()},onDestroy:function(){r._$input&&r._$input.remove();o.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};e("select",h);var sl=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,as=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,ei=/^\d{1,2}(\/\d{1,2})?$/,ht=/^w\d$/i,yu={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(n){return n.getFullYear()},getMonth:function(n){return n.getMonth()},getDay:function(n){return n.getDate()},getDate:yt,getMaxDayOfMonth:function(n,t){return 32-new Date(n,t,32,12).getDate()},getWeekNumber:function(n){n=new Date(n);n.setHours(0,0,0);n.setDate(n.getDate()+4-(n.getDay()||7));var t=new Date(n.getFullYear(),0,1);return Math.ceil(((n-t)/864e5+1)/7)}};hr.datetime={formatDate:s,parseDate:ni};vs={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"};pr=function(i){function fi(n){var u,t,i,o,e=[];if(n){for(u=0;u<n.length;u++)if(t=n[u],t.start&&t.end&&!as.test(t.start))for(i=new Date(f(t.start,a,r)),o=new Date(f(t.end,a,r));i<=o;)e.push(yt(i.getFullYear(),i.getMonth(),i.getDate())),i.setDate(i.getDate()+1);else e.push(t);return e}return n}function l(n,t,i,r){return Math.min(r,Math.floor(n/t)*t+i)}function wt(n,t,i){return Math.floor((i-t)/n)*n+t}function gi(n){return r.getYear(n)}function nr(n){return r.getMonth(n)}function tr(n){return r.getDay(n)}function ir(n){var t=n.getHours();return t=d&&t>=12?t-12:t,l(t,it,pt,bi)}function rr(n){return l(n.getMinutes(),g,ot,ki)}function ur(n){return l(n.getSeconds(),et,ui,di)}function fr(n){return n.getMilliseconds()}function er(n){return n.getHours()>11?1:0}function st(n){return n.getFullYear()+"-"+b(n.getMonth()+1)+"-"+b(n.getDate())}function or(n){return l(Math.round((n.getTime()-new Date(n).setHours(0,0,0,0))/1e3),ct||1,0,86400)}function p(n,t,i,r){var f;return void 0===u[t]||(f=+n[u[t]],isNaN(f))?i?c[t](i):void 0!==lt[t]?lt[t]:c[t](r):f}function w(n){var t,i=new Date((new Date).setHours(0,0,0,0));if(null===n)return n;void 0!==u.dd&&(t=n[u.dd].split("-"),t=new Date(t[0],t[1]-1,t[2]));void 0!==u.tt&&(t=t||i,t=new Date(t.getTime()+n[u.tt]%86400*1e3));var f=p(n,"y",t,i),e=p(n,"m",t,i),s=Math.min(p(n,"d",t,i),r.getMaxDayOfMonth(f,e)),o=p(n,"h",t,i);return r.getDate(f,e,s,d&&p(n,"a",t,i)?o+12:o,p(n,"i",t,i),p(n,"s",t,i),p(n,"u",t,i))}function rt(n,t){var r,i,f=["y","m","d","a","h","i","s","u","dd","tt"],e=[];if(null===n||void 0===n)return n;for(r=0;r<f.length;r++)i=f[r],void 0!==u[i]&&(e[u[i]]=c[i](n)),t&&(lt[i]=c[i](n));return e}function bt(n,t){return t?Math.floor(new Date(n)/864e5):n.getMonth()+12*(n.getFullYear()-1970)}function sr(n){return{value:n,display:(/yy/i.test(ft)?n:(n+"").substr(2,2))+(r.yearSuffix||"")}}function hr(n){return n}function cr(n){var t=/d/i.test(n);return{label:"",cssClass:"mbsc-dt-whl-date",min:e?bt(st(e),t):void 0,max:h?bt(st(h),t):void 0,data:function(i){var f=new Date((new Date).setHours(0,0,0,0)),u=t?new Date(864e5*i):new Date(1970,i,1);return t&&(u=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate())),{invalid:t&&!tt(u,!0),value:st(u),display:f.getTime()==u.getTime()?r.todayText:s(n,u,r)}},getIndex:function(n){return bt(n,t)}}}function lr(n){var t,i,u,f=[];for(/s/i.test(n)?i=et:/i/i.test(n)?i=60*g:/h/i.test(n)&&(i=3600*it),ct=y.tt=i,t=0;t<86400;t+=i)u=new Date((new Date).setHours(0,0,0,0)+1e3*t),f.push({value:t,display:s(n,u,r)});return{label:"",cssClass:"mbsc-dt-whl-time",data:f}}function ar(){var y,p,t,c,n,s,f,v,i=0,w=[],a=[],l=[];if(/date/i.test(ut)){for(y=pi.split(/\|/.test(pi)?"|":""),c=0;c<y.length;c++)if(t=y[c],s=0,t.length)if(/y/i.test(t)&&(o.y=1,s++),/m/i.test(t)&&(o.y=1,o.m=1,s++),/d/i.test(t)&&(o.y=1,o.m=1,o.d=1,s++),s>1&&void 0===u.dd)u.dd=i,i++,a.push(cr(t)),l=a,li=!0;else if(/y/i.test(t)&&void 0===u.y)u.y=i,i++,a.push({cssClass:"mbsc-dt-whl-y",label:r.yearText,min:e?r.getYear(e):void 0,max:h?r.getYear(h):void 0,data:sr,getIndex:hr});else if(/m/i.test(t)&&void 0===u.m){for(u.m=i,f=[],i++,n=0;n<12;n++)v=ft.replace(/[dy|]/gi,"").replace(/mm/,b(n+1)+(r.monthSuffix||"")).replace(/m/,n+1+(r.monthSuffix||"")),f.push({value:n,display:/MM/.test(v)?v.replace(/MM/,'<span class="mbsc-dt-month">'+r.monthNames[n]+"<\/span>"):v.replace(/M/,'<span class="mbsc-dt-month">'+r.monthNamesShort[n]+"<\/span>")});a.push({cssClass:"mbsc-dt-whl-m",label:r.monthText,data:f})}else if(/d/i.test(t)&&void 0===u.d){for(u.d=i,f=[],i++,n=1;n<32;n++)f.push({value:n,display:(/dd/i.test(ft)?b(n):n)+(r.daySuffix||"")});a.push({cssClass:"mbsc-dt-whl-d",label:r.dayText,data:f})}w.push(a)}if(/time/i.test(ut)){for(p=dt.split(/\|/.test(dt)?"|":""),c=0;c<p.length;c++)if(t=p[c],s=0,t.length&&(/h/i.test(t)&&(o.h=1,s++),/i/i.test(t)&&(o.i=1,s++),/s/i.test(t)&&(o.s=1,s++),/a/i.test(t)&&s++),s>1&&void 0===u.tt)u.tt=i,i++,l.push(lr(t));else if(/h/i.test(t)&&void 0===u.h){for(f=[],u.h=i,o.h=1,i++,n=pt;n<(d?12:24);n+=it)f.push({value:n,display:d&&0===n?12:/hh/i.test(at)?b(n):n});l.push({cssClass:"mbsc-dt-whl-h",label:r.hourText,data:f})}else if(/i/i.test(t)&&void 0===u.i){for(f=[],u.i=i,o.i=1,i++,n=ot;n<60;n+=g)f.push({value:n,display:/ii/i.test(at)?b(n):n});l.push({cssClass:"mbsc-dt-whl-i",label:r.minuteText,data:f})}else if(/s/i.test(t)&&void 0===u.s){for(f=[],u.s=i,o.s=1,i++,n=ui;n<60;n+=et)f.push({value:n,display:/ss/i.test(at)?b(n):n});l.push({cssClass:"mbsc-dt-whl-s",label:r.secText,data:f})}else/a/i.test(t)&&void 0===u.a&&(u.a=i,i++,l.push({cssClass:"mbsc-dt-whl-a",label:r.ampmText,data:/A/.test(t)?[{value:0,display:r.amText.toUpperCase()},{value:1,display:r.pmText.toUpperCase()}]:[{value:0,display:r.amText},{value:1,display:r.pmText}]}));l!=a&&w.push(l)}return w}function vr(n){var t,r,u,i={};if(n.is("input")){switch(n.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm";i.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}i.format=t;r=n.attr("min");u=n.attr("max");r&&"undefined"!=r&&(i.min=ni(t,r));u&&"undefined"!=u&&(i.max=ni(t,u))}return i}function yr(n,t){var i,r,f=!1,u=!1,o=0,s=0,c=e?w(rt(e)):-(1/0),l=h?w(rt(h)):1/0;if(tt(n))return n;if(n<c&&(n=c),n>l&&(n=l),i=n,r=n,2!==t)for(f=tt(i,!0);!f&&i<l&&o<100;)i=new Date(i.getTime()+864e5),f=tt(i,!0),o++;if(1!==t)for(u=tt(r,!0);!u&&r>c&&s<100;)r=new Date(r.getTime()-864e5),u=tt(r,!0),s++;return 1===t&&f?i:2===t&&u?r:oi(n,i)?i:oi(n,r)?r:s<=o&&u?r:i}function oi(n,t){return r.getYear(n)===r.getYear(t)&&r.getMonth(n)===r.getMonth(t)}function tt(n,t){return!(!t&&n<e)&&!(!t&&n>h)&&(!!si(n,ii)||!si(n,gt))}function si(n,t){var u,e,i;if(t)for(e=0;e<t.length;e++)if(u=t[e],i=u+"",!u.start)if(ht.test(i)){if(i=+i.replace("w",""),i==n.getDay())return!0}else if(ei.test(i)){if(i=i.split("/"),i[1]){if(i[0]-1==n.getMonth()&&i[1]==n.getDate())return!0}else if(i[0]==n.getDate())return!0}else if(u=f(u,a,r),n.getFullYear()==u.getFullYear()&&n.getMonth()==u.getMonth()&&n.getDate()==u.getDate())return!0;return!1}function hi(n,t,i,u,e,o,s){var c,v,l,h;if(n)for(v=0;v<n.length;v++)if(c=n[v],h=c+"",!c.start)if(ht.test(h))for(h=+h.replace("w",""),l=h-u;l<e;l+=7)l>=0&&(o[l+1]=s);else ei.test(h)?(h=h.split("/"),h[1]?h[0]-1==i&&(o[h[1]]=s):o[h[0]]=s):(c=f(c,a,r),r.getYear(c)==t&&r.getMonth(c)==i&&(o[r.getDay(c)]=s))}function ci(n,t,i,u,f,e,o,s){var yt,st,g,pt,wt,lt,w,at,vt,h,p,c,a,it,rt,bt,ot,ut,ft,et,kt={},tt=r.getDate(u,f,e),b=["a","h","i","s"];if(n){for(w=0;w<n.length;w++)p=n[w],p.start&&(p.apply=!1,g=p.d,ot=g+"",ut=ot.split("/"),g&&(g.getTime&&u==r.getYear(g)&&f==r.getMonth(g)&&e==r.getDay(g)||!ht.test(ot)&&(ut[1]&&e==ut[1]&&f==ut[0]-1||!ut[1]&&e==ut[0])||ht.test(ot)&&tt.getDay()==+ot.replace("w",""))&&(p.apply=!0,kt[tt]=!0));for(w=0;w<n.length;w++)if(p=n[w],yt=0,bt=0,at=nt[i],vt=v[i],it=!0,rt=!0,st=!1,p.start&&(p.apply||!p.d&&!kt[tt])){for(c=p.start.split(":"),a=p.end.split(":"),h=0;h<3;h++)void 0===c[h]&&(c[h]=0),void 0===a[h]&&(a[h]=59),c[h]=+c[h],a[h]=+a[h];if("tt"==i)at=l(Math.round((new Date(tt).setHours(c[0],c[1],c[2])-new Date(tt).setHours(0,0,0,0))/1e3),ct,0,86400),vt=l(Math.round((new Date(tt).setHours(a[0],a[1],a[2])-new Date(tt).setHours(0,0,0,0))/1e3),ct,0,86400);else{for(c.unshift(c[0]>11?1:0),a.unshift(a[0]>11?1:0),d&&(c[1]>=12&&(c[1]=c[1]-12),a[1]>=12&&(a[1]=a[1]-12)),h=0;h<t;h++)void 0!==k[h]&&(ft=l(c[h],y[b[h]],nt[b[h]],v[b[h]]),et=l(a[h],y[b[h]],nt[b[h]],v[b[h]]),pt=0,wt=0,lt=0,d&&1==h&&(pt=c[0]?12:0,wt=a[0]?12:0,lt=k[0]?12:0),it||(ft=0),rt||(et=v[b[h]]),(it||rt)&&ft+pt<k[h]+lt&&k[h]+lt<et+wt&&(st=!0),k[h]!=ft&&(it=!1),k[h]!=et&&(rt=!1));if(!s)for(h=t+1;h<4;h++)c[h]>0&&(yt=y[i]),a[h]<v[b[h]]&&(bt=y[i]);st||(ft=l(c[t],y[i],nt[i],v[i])+yt,et=l(a[t],y[i],nt[i],v[i])-bt,it&&(at=ft),rt&&(vt=et))}if(it||rt||st)for(h=at;h<=vt;h+=y[i])o[h]=!s}}}var ct,li,ai,u={},lt={},o={},k=[],vi=vr(n(this)),yi=t({},i.settings),pr=pc[yi.calendarSystem],r=t(i.settings,yu,pr,vs,vi,yi),ut=r.preset,kt="datetime"==ut?r.dateFormat+r.separator+r.timeFormat:"time"==ut?r.timeFormat:r.dateFormat,a=vi.format||kt,pi=r.dateWheels||r.dateFormat,dt=r.timeWheels||r.timeFormat,ft=r.dateWheels||r.dateDisplay,at=dt,wr=r.baseTheme||r.theme,gt=fi(r.invalid),ii=fi(r.valid),e=f(r.min,a,r),h=f(r.max,a,r),wi=/time/i.test(ut),d=/h/.test(at),br=/D/.test(ft),vt=r.steps||{},it=vt.hour||r.stepHour||1,g=vt.minute||r.stepMinute||1,et=vt.second||r.stepSecond||1,ri=vt.zeroBased,pt=ri||!e?0:e.getHours()%it,ot=ri||!e?0:e.getMinutes()%g,ui=ri||!e?0:e.getSeconds()%et,bi=wt(it,pt,d?11:23),ki=wt(g,ot,59),di=wt(g,ot,59),nt={y:e?e.getFullYear():-(1/0),m:0,d:1,h:pt,i:ot,s:ui,a:0,tt:0},v={y:h?h.getFullYear():1/0,m:11,d:31,h:bi,i:ki,s:di,a:1,tt:86400},y={y:1,m:1,d:1,h:it,i:g,s:et,a:1,tt:1},c={y:gi,m:nr,d:tr,h:ir,i:rr,s:ur,u:fr,a:er,dd:st,tt:or};return i.getVal=function(n){return i._hasValue||n?ti(w(i.getArrayVal(n)),r,a):null},i.getDate=function(n){return i._hasValue||n?w(i.getArrayVal(n)):null},i.setDate=function(n,t,r,u,f){i.setArrayVal(rt(n,!0),t,f,u,r)},ai=ar(),r.isoParts=o,i._format=kt,i._order=u,i.handlers.now=function(){i.setDate(new Date,i.live,1e3,!0,!0)},i.buttons.now={text:r.nowText,icon:r.nowIcon,handler:"now"},{minWidth:li&&wi?{bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50}[wr]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:ai,headerText:!!r.headerText&&function(){return s(kt,w(i.getArrayVal(!0)),r)},formatValue:function(n){return s(a,w(n),r)},parseValue:function(n){return n||(lt={},i._hasValue=!1),rt(f(n||r.defaultValue||new Date,a,r,o),!!n)},validate:function(t){var f,l,d,tt,ct=t.values,it=t.index,ot=t.direction,p=r.wheels[0][u.d],a=yr(w(ct),ot),st=rt(a),b=[],ht={},o=c.y(a),s=c.m(a),g=r.getMaxDayOfMonth(o,s),ut=!0,et=!0;if(n.each(["dd","y","m","d","tt","a","h","i","s"],function(t,i){var p=nt[i],w=v[i],f=c[i](a),d,k;if(b[u[i]]=[],ut&&e&&(p=c[i](e)),et&&h&&(w=c[i](h)),f<p&&(f=p),f>w&&(f=w),"dd"!==i&&"tt"!==i&&(ut&&(ut=f==p),et&&(et=f==w)),void 0!==u[i]){if("y"!=i&&"dd"!=i)for(l=nt[i];l<=v[i];l+=y[i])(l<p||l>w)&&b[u[i]].push(l);"d"==i&&(d=r.getDate(o,s,1).getDay(),k={},hi(gt,o,s,d,g,k,1),hi(ii,o,s,d,g,k,0),n.each(k,function(n,t){t&&b[u[i]].push(n)}))}}),wi&&n.each(["a","h","i","s","tt"],function(t,r){var h=c[r](a),e=c.d(a),f={};void 0!==u[r]&&(ci(gt,t,r,o,s,e,f,0),ci(ii,t,r,o,s,e,f,1),n.each(f,function(n,t){t&&b[u[r]].push(n)}),k[t]=i.getValidValue(u[r],h,ot,f))}),p&&(p._length!==g||br&&(void 0===it||it===u.y||it===u.m))){for(ht[u.d]=p,p.data=[],f=1;f<=g;f++)tt=r.getDate(o,s,f).getDay(),d=ft.replace(/[my|]/gi,"").replace(/dd/,(f<10?"0"+f:f)+(r.daySuffix||"")).replace(/d/,f+(r.daySuffix||"")),p.data.push({value:f,display:/DD/.test(d)?d.replace(/DD/,'<span class="mbsc-dt-day">'+r.dayNames[tt]+"<\/span>"):d.replace(/D/,'<span class="mbsc-dt-day">'+r.dayNamesShort[tt]+"<\/span>")});i._tempWheelArray[u.d]=st[u.d];i.changeWheel(ht)}return{disabled:b,valid:st}}}};o.date=pr;o.time=pr;o.datetime=pr;e("date",h);e("time",h);e("datetime",h);ys={invalid:[],showInput:!0,inputClass:"",itemSelector:"li"};re=function(i){function w(n,t){var i;for(f=t>f?t:f,i=0;i<n.length;i++)n[i].children&&w(n[i].children,t+1)}function rt(n,t,i){for(var r=0,u=[];r<n;)u[r]=ut(i,r,t),r++;return u}function ut(n,t,i){for(var o,f,r=0,u=i,e=[];r<t;){o=n[r];for(f in u)if(u[f].key==o){u=u[f].children;break}r++}for(r=0;r<u.length;)u[r].invalid&&e.push(u[r].key),r++;return e}function ft(n,t){for(var i=[];n;)i[--n]=!0;return i[t]=!1,i}function c(n,t,i){var u,r,f=0,h=!0,s=[[]],e=o;if(t)for(r=0;r<t;r++)v?s[0][r]={}:s[r]=[{}];for(;h;){for(v?s[0][f]=b(e,f):s[f]=[b(e,f)],r=0,u=null;r<e.length&&!u;)e[r].key==n[f]&&(void 0!==i&&f<=i||void 0===i)&&(u=e[r]),r++;u||(u=l(e));u&&u.children?(e=u.children,f++):h=!1}return s}function l(n,t){if(!n)return!1;for(var r,i=0;i<n.length;)if(!(r=n[i++]).invalid)return t?i-1:r;return!1}function b(n,t){for(var u={data:[],label:r.labels&&r.labels[t]?r.labels[t]:t},i=0;i<n.length;)u.data.push({value:n[i].key,display:n[i].value}),i++;return u}function k(t){i._isVisible&&n(".mbsc-sc-whl-w",i._markup).css("display","").slice(t).hide()}function et(n){for(var i,r=[],u=n,t=!0,f=0;t;)i=l(u),r[f++]=i.key,t=i.children,t&&(u=t);return r}function a(n,t){for(var r,e,f,u=0,i=o,s=!0,h=[];s;){if(void 0!==n[u]&&u<=t)for(f=0,e=n[u],r=void 0;f<i.length&&void 0===r;)i[f].key!=n[u]||i[f].invalid||(r=f),f++;else r=l(i,!0),e=i[r]&&i[r].key;h[u]=e;u++;s=!!i[r]&&i[r].children;i=i[r]&&i[r].children}return{lvl:u,nVector:h}}function d(t){var u=[],f=t.length>1?t:t.children(r.itemSelector);return f.each(function(t){var f=n(this),e=f.clone();e.children("ul,ol").remove();e.children(r.itemSelector).remove();var h=i._processMarkup?i._processMarkup(e):e.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),c=!!f.attr("data-invalid"),o={key:void 0===f.attr("data-val")||null===f.attr("data-val")?t:f.attr("data-val"),value:h,invalid:c,children:null},s="li"===r.itemSelector?f.children("ul,ol"):f.children(r.itemSelector);s.length&&(o.children=d(s));u.push(o)}),u}function g(n,t,r){for(var f=(t||0)+1,o=[],e={},h={},e=c(n,null,t),u=0;u<n.length;u++)i._tempWheelArray[u]=n[u]=r.nVector[u]||0;for(;f<r.lvl;)h[f]=v?e[0][f]:e[f][0],o.push(f++);k(r.lvl);p=n.slice(0);o.length&&(s=!0,i.changeWheel(h))}var e,u,s,nt,ot=t({},i.settings),r=t(i.settings,ys,ot),tt=r.layout||(/top|bottom/.test(r.display)?"liquid":""),v="liquid"==tt,st=r.readonly,h=n(this),y=this.id+"_dummy",f=0,p=[],o=r.wheelArray||d(h),it=et(o);return w(o,1),nt=c(it,f),n("#"+y).remove(),r.input?u=n(r.input):r.showInput&&(u=n('<input type="text" id="'+y+'" value="" class="'+r.inputClass+'" placeholder="'+(r.placeholder||"")+'" readonly />').insertBefore(h)),u&&i.attachShow(u),r.wheelArray||h.hide(),{wheels:nt,anchor:u,layout:tt,headerText:!1,setOnTap:1==f,formatValue:function(n){return void 0===e&&(e=a(n,n.length).lvl),n.slice(0,e).join(" ")},parseValue:function(n){return n?(n+"").split(" "):(r.defaultValue||it).slice(0)},onBeforeShow:function(){var n=i.getArrayVal(!0);p=n.slice(0);r.wheels=c(n,f,f);s=!0},onWheelGestureStart:function(n){r.readonly=ft(f,n.index)},onWheelAnimationEnd:function(n){var t=n.index,u=i.getArrayVal(!0),f=a(u,t);e=f.lvl;r.readonly=st;u[t]!=p[t]&&g(u,t,f)},onFill:function(n){e=void 0;u&&u.val(n.valueText)},validate:function(n){var t=n.values,r=n.index,i=a(t,t.length);return e=i.lvl,void 0===r&&(k(i.lvl),s||g(t,r,i)),s=!1,{disabled:rt(e,o,t)}},onDestroy:function(){u&&n("#"+y).remove();h.show()}}};o.image=function(t){return t.settings.enhance&&(t._processMarkup=function(t){var i=t.attr("data-icon");return t.children().each(function(t,i){i=n(i);i.is("img")?n('<div class="mbsc-img-c"><\/div>').insertAfter(i).append(i.addClass("mbsc-img")):i.is("p")&&i.addClass("mbsc-img-txt")}),i&&t.prepend('<div class="mbsc-ic mbsc-ic-'+i+'"><\/div'),t.html('<div class="mbsc-img-w">'+t.html()+"<\/div>"),t.html()}),re.call(this,t)};e("image",h);o.treelist=re;e("treelist",h);var hl={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",fromText:"Start",toText:"End",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},ue=function(r){function hf(n){n.hasClass("mbsc-cal-h")&&(n.removeClass("mbsc-cal-h"),r._onSelectShow())}function st(n){n.hasClass("mbsc-cal-h")||n.addClass("mbsc-cal-h")}function ou(n){n.hasClass("mbsc-cal-h")?hf(n):st(n)}function cf(){var i,f,e;l={};gt=[];ni={};v=r.trigger;bi=n(sf);e=t({},r.settings);u=t(r.settings,hl,e);i=u.controls.join(",");w=u.firstDay;li=u.rtl;et=u.pageBuffer;ai=u.weekCounter;s=u.weeks;y=6==s;p="vertical"==u.calendarScroll;gu="inline"==u.display?bi.is("div")?bi:bi.parent():r._$window;of="full"==u.weekDays?"":"min"==u.weekDays?"Min":"Short";f=u.layout||("inline"==u.display||/top|bottom/.test(u.display)&&u.touchUi?"liquid":"");ut="liquid"==f;gi=ut?null:u.calendarWidth;rt=li&&!p?-1:1;iu="mbsc-disabled "+(u.disabledClass||"");nr="mbsc-selected "+(u.selectedTabClass||"");ct="mbsc-selected "+(u.selectedClass||"");er=Math.max(1,Math.floor(((u.calendarHeight||0)/s-45)/18));i.match(/calendar/)&&(l.calendar=1,a=!0);i.match(/date/)&&!a&&(l.date=1);i.match(/time/)&&(l.time=1);u.controls.forEach(function(n){l[n]&&gt.push(n)});vt=u.quickNav&&a&&y;bt=u.yearChange&&y;ut&&a&&"center"==u.display&&(r._isFullScreen=!0);u.layout=f;u.preset=(l.date||a?"date":"")+(l.time?"time":"")}function lf(){cr=bt?u.monthNamesShort:u.monthNames;wr=u.yearSuffix||"";hr=(u.dateWheels||u.dateFormat).search(/m/i);yr=(u.dateWheels||u.dateFormat).search(/y/i);lt=r._format;u.min&&(d=ft(f(u.min,lt,u)),sr=u.getYear(d),ff=u.getMonth(d),uf=u.getDate(12*Math.floor(sr/12),0,1));u.max&&(b=ft(f(u.max,lt,u)),or=u.getYear(b),rf=u.getMonth(b),tf=u.getDate(12*Math.floor(or/12),0,1))}function ri(n,t,i){n[t]=n[t]||[];n[t].push(i)}function ui(t,i,r){var h,o,c,e,l=u.getYear(i),a=u.getMonth(i),s={};return t&&n.each(t,function(n,t){if(h=t.d||t.start||t,o=h+"",t.start&&t.end)for(e=ft(f(t.start,lt,u)),c=ft(f(t.end,lt,u));e<=c;)ri(s,e,t),e=u.getDate(u.getYear(e),u.getMonth(e),u.getDay(e)+1);else if(ht.test(o))for(e=fi(i,!1,+o.replace("w",""));e<=r;)ri(s,e,t),e=u.getDate(u.getYear(e),u.getMonth(e),u.getDay(e)+7);else if(ei.test(o))if(o=o.split("/"),o[1])for(e=u.getDate(l,o[0]-1,o[1]);e<=r;)ri(s,e,t),e=u.getDate(u.getYear(e)+1,u.getMonth(e),o[1]);else for(e=u.getDate(l,a,o[0]);e<=r;)ri(s,e,t),e=u.getDate(u.getYear(e),u.getMonth(e)+1,o[0]);else ri(s,ft(f(h,lt,u)),t)}),s}function af(n){return!(n<d)&&!(n>b)&&(void 0===nf[n]||void 0!==ef[n])}function vf(n){var i,e,o,s,u=!!rr[n]&&rr[n],f=!!ur[n]&&ur[n],c=f&&f[0].background?f[0].background:u&&u[0].background,h="";if(f)for(i=0;i<f.length;i++)h+=(f[i].cssClass||"")+" ";if(u){for(o='<div class="mbsc-cal-marks">',i=0;i<u.length;i++)e=u[i],h+=(e.cssClass||"")+" ",o+='<div class="mbsc-cal-mark"'+(e.color?' style="background:'+e.color+';"':"")+"><\/div>";o+="<\/div>"}return s={marked:u,background:c,cssClass:h,markup:ni[n]?ni[n].join(""):uu?o:""},t(s,r._getDayProps(n,s))}function br(n){return' style="'+(p?"transform: translateY("+100*n+"%)":"left:"+100*n*rt+"%")+'"'}function yf(){h="auto"==u.months?Math.max(1,Math.min(3,Math.floor((gi||uc(gu))/280))):+u.months;eu=h+2*et;g=0;p=p&&h<2;vr=void 0===u.showOuterDays?h<2&&!p:u.showOuterDays}function su(n){return tt(n,h-1)>b&&(n=tt(b,1-h)),n<d&&(n=d),n}function vi(t,i,r){var u=t.color,f=t.text;return'<div data-id="'+t._id+'" data-index="'+i+'" class="mbsc-cal-txt" title="'+n("<div>"+f+"<\/div>").text()+'"'+(u?' style="background:'+u+(r?";color:"+eo(u):"")+';"':"")+">"+(r?f:"")+"<\/div>"}function hu(n){var i=fi(tt(n,-g-et),!1),t=fi(tt(n,-g+h+et-1),!1);t=u.getDate(u.getYear(t),u.getMonth(t),u.getDay(t)+7*s);r._onGenMonth(i,t);nf=ui(u.invalid,i,t);ef=ui(u.valid,i,t);rr=ui(u.labels||u.events||u.marked,i,t);ur=ui(u.colors,i,t);fu=r._labels||rr||ur;ti=u.labels||r._labels;ti&&!function(){ni={};for(var r={},n=i,e=function(){var l,tt;n.getDay()==w&&(r={});for(var g=er,a=fu[n]||[],s=a.length,h=[],e=void 0,v=void 0,t=0,c=0,o=0,nt=void 0;t<g;)if(e=null,a.forEach(function(n,i){r[t]==n&&(e=n,v=i)}),t==g-1&&(c<s-1||s&&o==s&&!e))l=s-c,tt=(l>1?u.moreEventsPluralText||u.moreEventsText:u.moreEventsText).replace(/{count}/,l),l&&h.push('<div class="mbsc-cal-txt-more">'+tt+"<\/div>"),e&&(r[t]=null,e._days.forEach(function(n){ni[n][t]='<div class="mbsc-cal-txt-more">'+u.moreEventsText.replace(/{count}/,1)+"<\/div>"})),c++,t++;else if(e)v==o&&o++,k(n,f(e.end))&&(r[t]=null),h.push(vi(e,v)),t++,c++,e._days.push(n);else if(o<s){var i=a[o],y=i.start&&f(i.start),p=i.end&&f(i.end),b=n.getDay(),it=w-b>0?7:0,d=p&&!k(y,p);y&&!k(n,y)&&b!=w||(void 0===i._id&&(i._id=te++),d&&(r[t]=i),i._days=[n],nt=d?100*Math.min(ho(n,ft(p))+1,7+w-b-it):100,h.push(d?'<div class="mbsc-cal-txt-w" style="width:'+nt+'%">'+vi(i,o,!0)+"<\/div>"+vi(i,o):vi(i,o,!0)),t++,c++);o++}else h.push('<div class="mbsc-cal-txt-ph"><\/div>'),t++;ni[n]=h;n=u.getDate(u.getYear(n),u.getMonth(n),u.getDay(n)+1)};n<t;)e()}()}function pf(n){var t=u.getYear(n),i=u.getMonth(n);c=n;it=n;gr(n);v("onMonthChange",{year:t,month:i});v("onMonthLoading",{year:t,month:i});v("onPageChange",{firstDay:n});v("onPageLoading",{firstDay:n});hu(n)}function cu(n){var t=u.getYear(n),i=u.getMonth(n);void 0===ar?lu(n,t,i):kr(n,ar,!0);dr(it,e.focus);e.focus=!1}function lu(t,i,r){var u=e.$scroller;n(".mbsc-cal-slide",u).removeClass("mbsc-cal-slide-a");n(".mbsc-cal-slide",u).slice(et,et+h).addClass("mbsc-cal-slide-a");ti&&n(".mbsc-cal-slide-a .mbsc-cal-txt",u).on("mouseenter",function(){var t=n(this).attr("data-id");n('.mbsc-cal-txt[data-id="'+t+'"]',u).addClass("mbsc-hover")}).on("mouseleave",function(){n(".mbsc-cal-txt.mbsc-hover",u).removeClass("mbsc-hover")});v("onMonthLoaded",{year:i,month:r});v("onPageLoaded",{firstDay:t})}function wf(){var n,t;return n='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',gt.forEach(function(i,r){t=u[("calendar"==i?"date":i)+"Text"];n+='<div role="tab" aria-controls="'+(sf.id+"-mbsc-pnl-"+r)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(r?"":nr)+'" data-control="'+i+'"'+(u.tabLink?'><a href="#">'+t+"<\/a>":' tabindex="0">'+t)+"<\/div>"}),n+="<\/div><\/div>"}function bf(){for(var t,i,f,o,e="",l=li?u.btnCalNextClass:u.btnCalPrevClass,a=li?u.btnCalPrevClass:u.btnCalNextClass,r='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+u.prevMonthText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div>',n=0;n<(s?h:1);n++)r+='<div role="button" class="mbsc-cal-month"><\/div>';if(r+='<div data-step="1" role="button" tabindex="0" aria-label="'+u.nextMonthText+'" class="'+a+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div><\/div>',bt&&(e='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+u.prevYearText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div><div role="button" class="mbsc-cal-year"><\/div><div data-step="12" role="button" tabindex="0" aria-label="'+u.nextYearText+'" class="'+a+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div><\/div>'),s&&(o=kr(c)),t='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(y?"":" mbsc-cal-week-view")+(h>1?" mbsc-cal-multi ":"")+(ai?" mbsc-cal-weeks ":"")+(p?" mbsc-cal-vertical":"")+(uu?" mbsc-cal-has-marks":"")+(ti?" mbsc-cal-has-labels":"")+(vr?"":" mbsc-cal-hide-diff ")+(u.calendarClass||"")+'"'+(ut?"":' style="width:'+(gi||280*h)+'px;"')+'><div class="mbsc-cal-hdr">'+(yr<hr||h>1?e+r:r+e)+"<\/div>",s){for(t+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',i=0;i<h;i++){for(t+='<div class="mbsc-cal-days">',n=0;n<7;n++)f=(n+w)%7,t+='<div class="mbsc-cal-week-day'+f+'" aria-label="'+u.dayNames[f]+'">'+u["dayNames"+of][f]+"<\/div>";t+="<\/div>"}t+='<\/div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(u.calendarClass||"")+'"'+(u.calendarHeight?' style="height:'+u.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/h+'%">'+o+"<\/div><\/div>"}if(t+="<\/div>",vt){for(t+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(u.calendarClass||"")+'"><div class="mbsc-cal-scroll">',n=0;n<3;n++){for(t+='<div class="mbsc-cal-slide"'+br(n-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',i=0;i<12;i++)i&&i%3==0&&(t+='<\/div><div class="mbsc-cal-row">'),t+='<div role="gridcell"'+(1==n?' tabindex="-1" aria-label="'+u.monthNames[i]+'" data-val="'+i+'"':"")+' class="mbsc-cal-cell'+(1==n?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==n?u.monthNamesShort[i]:"&nbsp;")+"<\/div><\/div>";t+="<\/div><\/div><\/div>"}for(t+="<\/div><\/div><\/div>",t+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(u.calendarClass||"")+'"><div class="mbsc-cal-scroll">',n=-1;n<2;n++)t+=au(wu(c,n),n);t+="<\/div><\/div><\/div>"}return t+"<\/div><\/div><\/div>"}function au(n,t){for(var i=u.getYear(n),f='<div class="mbsc-cal-slide"'+br(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',r=0;r<12;r++)r&&r%3==0&&(f+='<\/div><div class="mbsc-cal-row">'),f+='<div role="gridcell" tabindex="-1" aria-label="'+i+'" data-val="'+i+'" class="mbsc-cal-cell mbsc-btn-e '+(i<sr||i>or?" mbsc-disabled ":"")+(i==u.getYear(c)?ct:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+i+wr+"<\/div><\/div>",i++;return f+"<\/div><\/div><\/div>"}function vu(n,i){for(var e,b,l,a,v,d,h,g,f,nt,tt,it,y,ft,rt,c=1,et=u.getYear(n),ut=u.getMonth(n),ot=u.getDay(n),st=null!==u.defaultValue||r._hasValue?r.getDate(!0):null,ht=u.getDate(et,ut,ot).getDay(),lt=w-ht>0?7:0,p='<div class="mbsc-cal-slide"'+br(i)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',o=0;o<7*s;o++)rt=o+w-lt,e=u.getDate(et,ut,rt-ht+ot),l=e.getFullYear(),a=e.getMonth(),v=e.getDate(),d=u.getMonth(e),h=u.getDay(e),ft=u.getMaxDayOfMonth(l,a),g=l+"-"+(a+1)+"-"+v,f=t({valid:af(e),selected:st&&k(st,e)},vf(e)),nt=f.valid,tt=f.selected,b=f.cssClass,it=new Date(e).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),y=d!==ut,tr[g]=f,o&&o%7==0&&(p+='<\/div><div class="mbsc-cal-row">'),ai&&o%7==0&&("month"==ai&&y&&c>1?c=1==v?1:2:"year"==ai&&(c=u.getWeekNumber(u.getDate(l,a,v+(8-w)%7))),p+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+c+"<\/div>",c++),p+='<div role="gridcell" aria-label="'+(it?u.todayText+", ":"")+u.dayNames[e.getDay()]+", "+u.monthNames[d]+" "+h+" "+(f.ariaLabel?", "+f.ariaLabel:"")+'"'+(y&&!vr?' aria-hidden="true"':' data-full="'+g+'"')+(tt?' aria-selected="true"':"")+(nt?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+rt%7+" "+(u.dayClass||"")+" "+(tt?ct:"")+(it?" "+u.todayClass:"")+(b?" "+b:"")+(1==h?" mbsc-cal-day-first":"")+(h==ft?" mbsc-cal-day-last":"")+(y?" mbsc-cal-day-diff":"")+(nt?" mbsc-btn-e":" mbsc-disabled")+(f.marked?" mbsc-cal-day-marked":"")+(f.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(f.background?' style="background:'+f.background+";color:"+eo(f.background)+'"':"")+">"+h+"<\/div>"+(f.markup?"<div>"+f.markup+"<\/div>":"")+"<\/div><\/div>";return p+"<\/div><\/div><\/div>"}function kr(n,t,i){var r,o=u.getYear(n),h=u.getMonth(n),c=e?e.pos:0,f="";if(tr={},s)for(t||(v("onMonthLoading",{year:o,month:h}),v("onPageLoading",{firstDay:n})),hu(n),r=0;r<eu;r++)f+=vu(tt(n,r-g-et),c*rt+r-et);return ar=void 0,i&&e&&(e.$active=null,e.$scroller.html(f),lu(n,o,h)),f}function dr(t,i){if(e){var r=e.$active;r&&r.length&&(r[0].blur(),r.hasClass("mbsc-disabled")?r.removeAttr("tabindex"):r.attr("tabindex","-1"));e.$active=n('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+fr(t)+'"]',e.$scroller).attr("tabindex","0");i&&e.$active.length&&e.$active[0].focus()}}function kf(t){var i=e&&e.$scroller;u.highlight&&e&&(n(".mbsc-selected",i).removeClass(ct).removeAttr("aria-selected"),(null!==u.defaultValue||r._hasValue)&&n('.mbsc-cal-day[data-full="'+fr(t)+'"]',i).addClass(ct).attr("aria-selected","true"))}function yu(t,i){n(".mbsc-selected",i).removeClass(ct).removeAttr("aria-selected");n('.mbsc-cal-cell[data-val="'+t+'"]',i).addClass(ct).attr("aria-selected","true")}function kt(n,t,i,f){var o,l;nt&&(n<d&&(n=d),n>b&&(n=b),"calendar"!==nt&&ci&&!t||(r._isSetDate=!t,a&&s&&(l=fi(su(n),y),lr&&(n<tt(c,-g)||n>=tt(c,h-g))&&(o=y?u.getMonth(l)-u.getMonth(c)+12*(u.getYear(l)-u.getYear(c)):Math.floor(ho(c,l)/(7*s)),o&&(e.queue=[],e.focus=f&&i,pi(e,o,i))),o&&i||dr(n,f),t||kf(n),y||gr(n,!0),it=n,lr=!0),r._onSetDate(n,o),r._isSetDate=!1))}function gr(t,i){var r,l,c,f=u.getYear(t),e=u.getMonth(t),s=f+wr;if(vt){if(yu(e,pt.$scroller),yu(f,ii.$scroller),pi(ii,Math.floor(f/12)-Math.floor(u.getYear(ii.first)/12),!0),n(".mbsc-cal-cell",pt.$scroller).removeClass("mbsc-disabled"),f===sr)for(r=0;r<ff;r++)n('.mbsc-cal-cell[data-val="'+r+'"]',pt.$scroller).addClass("mbsc-disabled");if(f===or)for(r=rf+1;r<=12;r++)n('.mbsc-cal-cell[data-val="'+r+'"]',pt.$scroller).addClass("mbsc-disabled")}for(i||(yi(n(".mbsc-cal-prev-m",o),tt(t,-g)<=d),yi(n(".mbsc-cal-next-m",o),tt(t,h-g)>b),yi(n(".mbsc-cal-prev-y",o),u.getDate(f-1,e+1,1)<=d),yi(n(".mbsc-cal-next-y",o),u.getDate(f+1,e,1)>b)),tu.attr("aria-label",f).html(s),r=0;r<h;r++)t=u.getDate(f,e-g+r,1),l=u.getYear(t),c=u.getMonth(t),s=l+wr,oi.eq(r).attr("aria-label",u.monthNames[c]+(bt?"":" "+f)).html((!bt&&yr<hr?s+" ":"")+cr[c]+(!bt&&yr>hr?" "+s:""))}function yi(n,t){t?n.addClass(iu).attr("aria-disabled","true"):n.removeClass(iu).removeAttr("aria-disabled")}function pu(i,f){var s=r.getDate(!0),h=i[0],c=i.attr("data-full"),l=c?c.split("-"):[],o=yt(l[0],l[1]-1,l[2]),a=yt(o.getFullYear(),o.getMonth(),o.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),w=i.hasClass("mbsc-selected"),e=n(f.target),y=e[0],b,p;if(vr||!i.hasClass("mbsc-cal-day-diff")){if(ti&&h.contains(y))for(;y!=h;){if(e.hasClass("mbsc-cal-txt")||e.hasClass("mbsc-cal-txt-more")){if(b=e.attr("data-index"),p=fu[o],v("onLabelTap",{date:a,domEvent:f,target:e[0],labels:p,label:p[b]})===!1)return;break}e=e.parent();y=e[0]}v("onDayChange",t(tr[c],{date:a,target:h,selected:w}))===!1||u.readonly||i.hasClass("mbsc-disabled")||r._selectDay(i,o,a,w)}}function df(n){st(si);kt(u.getDate(u.getYear(e.first),n.attr("data-val"),1),!0,!0)}function gf(n){st(hi);kt(u.getDate(n.attr("data-val"),u.getMonth(e.first),1),!0,!0)}function fi(n,t,i){var r=u.getYear(n),f=u.getMonth(n),e=n.getDay(),o=w-e>0?7:0;return t?u.getDate(r,f,1):u.getDate(r,f,(void 0===i?w:i)-o-e+u.getDay(n))}function tt(n,t){var i=u.getYear(n),r=u.getMonth(n),f=u.getDay(n);return y?u.getDate(i,r+t,1):u.getDate(i,r,f+t*s*7)}function wu(n,t){var i=12*Math.floor(u.getYear(n)/12);return u.getDate(i+12*t,0,1)}function pi(n,t,i,u){t&&r._isVisible&&(n.queue.push(arguments),1==n.queue.length&&bu(n,t,i,u))}function bu(t,i,u,f){var e,s,y="",o=t.$scroller,c=t.buffer,l=t.offset,p=t.pages,d=t.total,a=t.first,w=t.genPage,v=t.getFirst,h=i>0?Math.min(i,c):Math.max(i,-c),b=t.pos*rt+h-i+l,k=Math.abs(i)>c;t.callback&&(t.load(),t.callback(!0));t.first=v(a,i);t.pos+=h*rt;t.changing=!0;t.load=function(){if(k){for(e=0;e<p;e++)s=i+e-l,y+=w(v(a,s),b+s);i>0?(n(".mbsc-cal-slide",o).slice(-p).remove(),o.append(y)):i<0&&(n(".mbsc-cal-slide",o).slice(0,p).remove(),o.prepend(y))}};t.callback=function(u){var p=Math.abs(h),y="";if(r._isVisible){for(e=0;e<p;e++)s=i+e-l-c+(i>0?d-p:0),y+=w(v(a,s),b+s);if(i>0?(o.append(y),n(".mbsc-cal-slide",o).slice(0,h).remove()):i<0&&(o.prepend(y),n(".mbsc-cal-slide",o).slice(h).remove()),k){for(y="",e=0;e<p;e++)s=i+e-l-c+(i>0?0:d-p),y+=w(v(a,s),b+s);i>0?(n(".mbsc-cal-slide",o).slice(0,h).remove(),o.prepend(y)):i<0&&(n(".mbsc-cal-slide",o).slice(h).remove(),o.append(y))}wi(t);f&&!u&&f();t.callback=null;t.load=null;t.queue.shift();k=!1;t.queue.length?bu.apply(this,t.queue[0]):(t.changing=!1,t.onAfterChange(t.first))}};t.onBeforeChange(t.first);t.load&&(t.load(),t.scroller.scroll(-t.pos*t.size,u?200:0,!1,t.callback))}function nu(t,i,f,e,o,s,h,c,l,a,v,y,w){var k=p?"Y":"X",b={$scroller:n(".mbsc-cal-scroll",t),queue:[],buffer:e,offset:o,pages:s,first:c,total:h,pos:0,min:i,max:f,genPage:y,getFirst:w,onBeforeChange:a,onAfterChange:v};return b.scroller=new wt(t,{axis:k,easing:"",contSize:0,maxSnapScroll:e,mousewheel:void 0===u.mousewheel?p:u.mousewheel,time:200,lock:!0,rtl:li,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(t){"touchend"==t.domEvent.type&&at();l(n(t.target),t.domEvent)},onAnimationStart:function(){b.changing=!0},onAnimationEnd:function(n){y&&pi(b,Math.round((-b.pos*b.size-n["pos"+k])/b.size)*rt)}}),r._scrollers.push(b.scroller),b}function wi(n,i){var r,u=0,f=0,e=n.first;if(!n.changing||!i){if(n.getFirst){for(u=n.buffer,f=n.buffer;f&&n.getFirst(e,f+n.pages-n.offset-1)>n.max;)f--;for(;u&&n.getFirst(e,1-u-n.offset)<=n.min;)u--}r=Math.round(di/n.pages);ut&&r&&n.size!=r&&n.$scroller[p?"height":"width"](r);t(n.scroller.settings,{snap:r,minScroll:(-n.pos*rt-f)*r,maxScroll:(-n.pos*rt+u)*r});n.size=r;n.scroller.refresh()}}function ku(n){r._onRefresh(n);r._isVisible&&a&&s&&(e&&e.changing?ar=n:(kr(c,n,!0),dr(it)))}function ne(){if(a&&s){var t=n(".mbsc-cal-scroll-c",o);e=nu(t[0],d,b,et,g,h,eu,c,pu,pf,cu,vu,tt);vt&&(pt=nu(t[1],null,null,1,0,1,3,c,df),ii=nu(t[2],uf,tf,1,0,1,3,c,gf,i,i,au,wu),r.tap(oi,function(){ou(si);st(hi)}),r.tap(tu,function(){ou(hi);st(si)}));ru(n(".mbsc-cal-btn",o),function(n,t,i,r){pi(e,t,!0,r)});cu(c);null===u.defaultValue&&!r._hasValue||r._multiple||(r._activeElm=e.$active[0]);ot.on("keydown",function(n){var r,t=u.getYear(it),i=u.getMonth(it),f=u.getDay(it);switch(n.keyCode){case 32:pu(e.$active,n);break;case 37:r=u.getDate(t,i,f-1*rt);break;case 39:r=u.getDate(t,i,f+1*rt);break;case 38:r=u.getDate(t,i,f-7);break;case 40:r=u.getDate(t,i,f+7);break;case 36:r=u.getDate(t,i,1);break;case 35:r=u.getDate(t,i+1,0);break;case 33:r=n.altKey?u.getDate(t-1,i,f):y?u.getDate(t,i-1,f):u.getDate(t,i,f-7*s);break;case 34:r=n.altKey?u.getDate(t+1,i,f):y?u.getDate(t,i+1,f):u.getDate(t,i,f+7*s)}r&&(n.preventDefault(),kt(r,!0,!1,!0))})}r.tap(n(".mbsc-cal-tab",o),function(){r.changeTab(n(this).attr("data-control"))})}var bi,ot,o,oi,si,ki,dt,tu,hi,it,du,s,di,gi,gu,l,gt,iu,ct,nr,c,ni,tr,e,lt,w,a,ti,uu,ci,vt,nf,ir,ut,y,li,p,fu,rr,ur,b,tf,er,rf,or,d,uf,ff,sr,hr,cr,pt,lr,ar,et,h,g,eu,rt,u,vr,v,ef,nt,ai,of,bt,yr,ii,wr,te=1,sf=this;return cf(),du=pr.call(this,r),lf(),r.refresh=function(){ku(!1)},r.redraw=function(){ku(!0)},r.navigate=function(n,t){kt(f(n,lt,u),!0,t)},r.changeTab=function(t){r._isVisible&&l[t]&&nt!=t&&(nt=t,n(".mbsc-cal-tab",o).removeClass(nr).removeAttr("aria-selected"),n('.mbsc-cal-tab[data-control="'+t+'"]',o).addClass(nr).attr("aria-selected","true"),ci&&(dt.addClass("mbsc-cal-h"),l[nt].removeClass("mbsc-cal-h")),"calendar"==nt&&kt(r.getDate(!0),!1,!0),r._showDayPicker(),r.trigger("onTabChange",{tab:nt}))},r._checkSize=!0,r._onGenMonth=i,r._onSelectShow=i,r._onSetDate=i,r._onRefresh=i,r._getDayProps=i,r._prepareObj=ui,r._showDayPicker=function(){vt&&(st(hi,!0),st(si,!0))},r._selectDay=r.__selectDay=function(n,t,i){var f=r.live;lr=u.outerMonthChange;ir=!0;r.setDate(i,f,1e3,!f,!0);f&&v("onSet",{valueText:r._value})},t(du,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var i=0;o=n(t.target);ki=n(".mbsc-fr-c",o);it=r.getDate(!0);di=0;a&&(uu=!(!u.marked&&!u.data||u.labels||u.multiLabel||u.showEventCount),lr=!0,nt="calendar",yf(),c=fi(su(it),y),ki.append(bf()),oi=n(".mbsc-cal-month",o),tu=n(".mbsc-cal-year",o),ot=n(".mbsc-cal-day-scroll-c",o));vt&&(hi=n(".mbsc-cal-year-picker",o),si=n(".mbsc-cal-month-picker",o));dt=n(".mbsc-w-p",o);gt.length>1&&ki.before(wf());["date","time","calendar"].forEach(function(n){l[n]?(l[n]=dt.eq(i),i++):"date"==n&&!l.date&&a&&(dt.eq(i).remove(),i++)});gt.forEach(function(n){ki.append(l[n])});!a&&l.date&&l.date.css("position","relative");r._scrollers=[];ne()},onShow:function(){a&&s&&gr(y?c:it)},onHide:function(){r._scrollers.forEach(function(n){n.destroy()});tr=null;e=null;pt=null;ii=null;nt=null},onValidated:function(n){var i,f,t=n.index,u=r._order;f=r.getDate(!0);ir?i="calendar":void 0!==t&&(i=u.dd==t||u.d==t||u.m==t||u.y==t?"date":"time");v("onSetDate",{date:f,control:i});"time"!==i&&kt(f,!1,!!n.time,ir&&!r._multiple);ir=!1},onPosition:function(t){var i,k,d,f,v,y,w,rt=t.oldHeight,b=t.windowHeight;if(ci=(t.hasTabs||u.tabs===!0||u.tabs!==!1&&ut)&&gt.length>1,ut&&(t.windowWidth>=u.breakPointMd?n(t.target).addClass("mbsc-fr-md"):n(t.target).removeClass("mbsc-fr-md")),ci?(o.addClass("mbsc-cal-tabbed"),nt=n(".mbsc-cal-tab.mbsc-selected",o).attr("data-control"),dt.addClass("mbsc-cal-h"),l[nt].removeClass("mbsc-cal-h")):(o.removeClass("mbsc-cal-tabbed"),dt.removeClass("mbsc-cal-h")),r._isFullScreen&&(ot.height(""),v=t.popup.offsetHeight,w=b-v+ot[0].offsetHeight,b>=v&&ot.height(w)),ti&&s&&b!=rt){var ft=w||ot[0].offsetHeight,tt=ot.find(".mbsc-cal-txt-ph")[0],et=tt.offsetTop,st=tt.offsetHeight,it=Math.max(1,Math.floor((ft/s-et)/(st+2)));er!=it&&(er=it,r.redraw())}if(a&&s){if(y=ut||p||ci?ot[0][p?"offsetHeight":"offsetWidth"]:gi||280*h,f=y!=di,di=y,ut&&f&&bt)for(cr=u.maxMonthWidth>oi[0].offsetWidth?u.monthNamesShort:u.monthNames,k=u.getYear(c),d=u.getMonth(c),i=0;i<h;i++)oi.eq(i).text(cr[u.getMonth(u.getDate(k,d-g+i,1))]);f&&wi(e,!0)}vt&&f&&(wi(pt,!0),wi(ii,!0))}})},cl={};o.calendar=function(i){function d(n){return yt(n.getFullYear(),n.getMonth(),n.getDate())}function l(n){var t,i,e=null;if(u={},n&&n.length)for(i=0;i<n.length;i++)t=f(n[i],h,r,r.isoParts),e=e||t,u[d(t)]=t;return e}function a(){i.redraw()}var o,v,h,y,p,g=t({},i.settings),r=t(i.settings,cl,g),b="mbsc-selected "+(r.selectedClass||""),c=r.defaultValue,e="multiple"==r.select||r.select>1||"week"==r.selectType,k=w(r.select)?r.select:1/0,u={};return o=ue.call(this,i),y=void 0===r.firstSelectDay?r.firstDay:r.firstSelectDay,h=i._format,e&&l(c),i._multiple=e,i._getDayProps=function(n){return{selected:e?void 0!==u[n]:void 0}},i._selectDay=function(t,f,o,s){var c,l,h,p;if(r.setOnDayTap&&"multiple"!=r.select&&"inline"!=r.display)return i.setDate(o),void i.select();if(e)if("week"==r.selectType){for(h=f.getDay()-y,h=h<0?7+h:h,"multiple"!=r.select&&(u={}),c=0;c<7;c++)l=yt(f.getFullYear(),f.getMonth(),f.getDate()-h+c),s?delete u[l]:tu(u).length/7<k&&(u[l]=l);a()}else p=n('.mbsc-cal-day[data-full="'+t.attr("data-full")+'"]',v),s?(p.removeClass(b).removeAttr("aria-selected"),delete u[f]):tu(u).length<k&&(p.addClass(b).attr("aria-selected","true"),u[f]=f);i.__selectDay(t,f,o)},i.setVal=function(n,t,r,u,f){e&&(n=l(n));i._setVal(n,t,r,u,f);e&&a()},i.getVal=function(n){var t,f=[];if(e){for(t in u)f.push(ti(u[t],r,h));return f}return ti(i.getDate(n),r,h)},t({},o,{highlight:!e,outerMonthChange:!e,parseValue:function(n){return e&&n&&"string"==typeof n&&(n=l(n.split(","))),e&&c&&c.length&&(r.defaultValue=c[0]),o.parseValue.call(this,n)},formatValue:function(n){var t,f=[];if(e){for(t in u)f.push(s(h,u[t],r));return f.join(", ")}return o.formatValue.call(this,n,i)},onClear:function(){e&&(u={},a())},onBeforeShow:function(){void 0!==r.setOnDayTap||r.buttons&&r.buttons.length||1!=r.controls.length||(r.setOnDayTap=!0);r.setOnDayTap&&"inline"!=r.display&&(r.outerMonthChange=!1);r.counter&&e&&(r.headerText=function(){var t=0,i="week"==r.selectType?7:1;return n.each(u,function(){t++}),t=Math.round(t/i),(t>1?r.selectedPluralText||r.selectedText:r.selectedText).replace(/{count}/,t)})},onMarkupReady:function(i){o.onMarkupReady.call(this,i);v=n(i.target);e&&(n(".mbsc-fr-hdr",v).attr("aria-live","off"),p=t({},u))},onCancel:function(){!i.live&&e&&(u=t({},p))}})};e("calendar",h);ps={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};o.timespan=function(i){function h(t){var i={};return n(y).each(function(n,r){i[r]=s[r]?Math.floor(t/u[r].limit):0;t-=i[r]*u[r].limit}),i}function tt(n){var f=!1,r=g[s[n]-1]||1,i=u[n],e=i.label,t=i.wheel;if(t.data=[],t.label=i.label,d.match(new RegExp(i.re+i.re,"i"))&&(f=!0),n==a)t.min=c[n],t.max=l[n],t.data=function(n){return{value:n*r,display:p(n*r,f,e)}},t.getIndex=function(n){return Math.round(n/r)};else for(o=0;o<=i.until;o+=r)t.data.push({value:o,display:p(o,f,e)})}function p(n,t,i){return(n<10&&t?"0":"")+n+'<span class="mbsc-ts-lbl">'+i+"<\/span>"}function b(t){var r=0,i=0;return n.each(f,function(n,f){isNaN(+t[r])||(i+=u[f.v].limit*t[n])}),i}function it(n,t){return Math.floor(n/t)*t}var o,v,k,c,l,rt=t({},i.settings),r=t(i.settings,ps,rt),d=r.wheelOrder,e=r.useShortLabels?r.labelsShort:r.labels,y=["years","months","days","hours","minutes","seconds"],u={years:{ord:0,index:6,until:10,limit:31536e6,label:e[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:e[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:e[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:e[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:e[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:e[5],re:"s",wheel:{}}},f=[],g=r.steps||[],s={},a="seconds",ut=r.defaultValue||Math.max(r.min,Math.min(0,r.max)),nt=[[]];return n(y).each(function(n,t){v=d.search(new RegExp(u[t].re,"i"));v>-1&&(f.push({o:v,v:t}),u[t].index>u[a].index&&(a=t))}),f.sort(function(n,t){return n.o>t.o?1:-1}),n.each(f,function(n,t){s[t.v]=n+1;nt[0].push(u[t.v].wheel)}),c=h(r.min),l=h(r.max),n.each(f,function(n,t){tt(t.v)}),i.getVal=function(n,t){return t?i._getVal(n):i._hasValue||n?b(i.getArrayVal(n)):null},{showLabel:!0,wheels:nt,compClass:"mbsc-ts mbsc-sc",parseValue:function(t){var e,i=[];return w(t)||!t?(k=h(t||ut),n.each(f,function(n,t){i.push(k[t.v])})):n.each(f,function(n,f){e=new RegExp("(\\d+)\\s?("+r.labels[u[f.v].ord]+"|"+r.labelsShort[u[f.v].ord]+")","gi").exec(t);i.push(e?e[1]:0)}),n(i).each(function(n,t){i[n]=it(t,g[n]||1)}),i},formatValue:function(t){var i="";return n.each(f,function(n,r){i+=+t[n]?t[n]+" "+u[r.v].label+" ":""}),i?i.replace(/\s+$/g,""):0},validate:function(t){var o,r,f,e,v=t.values,d=t.direction,p=[],w=!0,k=!0;return n(y).each(function(t,y){if(void 0!==s[y]){if(f=s[y]-1,p[f]=[],e={},y!=a){if(w)for(r=l[y]+1;r<=u[y].until;r++)e[r]=!0;if(k)for(r=0;r<c[y];r++)e[r]=!0}v[f]=i.getValidValue(f,v[f],d,e);o=h(b(v));w=w&&o[y]==l[y];k=k&&o[y]==c[y];n.each(e,function(n){p[f].push(n)})}}),{disabled:p}}}};e("timespan",h);ws={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide",mode:"countdown"};o.timer=function(i){function ct(n){return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())}function wt(t){var i={};if(ht&&o[l].index>o.days.index){var e,f,v,a,y=new Date,r=s?y:c,u=s?c:y;for(u=ct(u),r=ct(r),i.years=r.getFullYear()-u.getFullYear(),i.months=r.getMonth()-u.getMonth(),i.days=r.getDate()-u.getDate(),i.hours=r.getHours()-u.getHours(),i.minutes=r.getMinutes()-u.getMinutes(),i.seconds=r.getSeconds()-u.getSeconds(),i.fract=(r.getMilliseconds()-u.getMilliseconds())/10,e=h.length;e>0;e--)f=h[e-1],v=o[f],a=h[n.inArray(f,h)-1],o[a]&&i[f]<0&&(i[a]--,i[f]+="months"==a?32-new Date(r.getFullYear(),r.getMonth(),32).getDate():v.until+1);"months"==l&&(i.months+=12*i.years,delete i.years)}else n(h).each(function(n,r){o[r].index<=o[l].index&&(i[r]=Math.floor(t/o[r].limit),t-=i[r]*o[r].limit)});return i}function bt(t){var u=1,i=o[t],r=i.wheel,f=i.prefix,s=i.until,e=o[h[n.inArray(t,h)-1]];if(i.index<=o[l].index&&(!e||e.limit>rt))if(d[t]||pt[0].push(r),d[t]=1,r.data=[],r.label=i.label||"",r.cssClass="mbsc-timer-whl-"+t,rt>=i.limit&&(u=Math.max(Math.round(rt/i.limit),1),w=u*i.limit),t==l)r.min=0,r.data=function(n){return{value:n,display:lt(n,f,i.label)}},r.getIndex=function(n){return n};else for(g=0;g<=s;g+=u)r.data.push({value:g,display:lt(g,f,i.label)})}function lt(n,t,i){return(t||"")+(n<10?"0":"")+n+'<span class="mbsc-timer-lbl">'+i+"<\/span>"}function p(t){var i,r=[],u=wt(t);return n(h).each(function(n,t){d[t]&&(i=Math.max(Math.round(rt/o[t].limit),1),r.push(Math.round(u[t]/i)*i))}),r}function ft(n){ht?(f=c-new Date,f<0?(f*=-1,s=!0):s=!1,u=0,tt=!0):void 0!==c?(tt=!1,f=1e3*c,s="countdown"!=r.mode,n&&(u=0)):(f=0,s="countdown"!=r.mode,tt=s,n&&(u=0))}function et(){a?(n(".mbsc-fr-w",e).addClass("mbsc-timer-running mbsc-timer-locked"),n(".mbsc-timer-btn-toggle-c > div",e).text(r.stopText),i.buttons.start.icon&&n(".mbsc-timer-btn-toggle-c > div",e).removeClass("mbsc-ic-"+i.buttons.start.icon),i.buttons.stop.icon&&n(".mbsc-timer-btn-toggle-c > div",e).addClass("mbsc-ic-"+i.buttons.stop.icon),"stopwatch"==r.mode&&(n(".mbsc-timer-btn-resetlap-c > div",e).text(r.lapText),i.buttons.reset.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).removeClass("mbsc-ic-"+i.buttons.reset.icon),i.buttons.lap.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).addClass("mbsc-ic-"+i.buttons.lap.icon))):(n(".mbsc-fr-w",e).removeClass("mbsc-timer-running"),n(".mbsc-timer-btn-toggle-c > div",e).text(r.startText),i.buttons.start.icon&&n(".mbsc-timer-btn-toggle-c > div",e).addClass("mbsc-ic-"+i.buttons.start.icon),i.buttons.stop.icon&&n(".mbsc-timer-btn-toggle-c > div",e).removeClass("mbsc-ic-"+i.buttons.stop.icon),"stopwatch"==r.mode&&(n(".mbsc-timer-btn-resetlap-c > div",e).text(r.resetText),i.buttons.reset.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).addClass("mbsc-ic-"+i.buttons.reset.icon),i.buttons.lap.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).removeClass("mbsc-ic-"+i.buttons.lap.icon)))}var g,it,w,b,k,nt,f,u,s,e,at,kt=t({},i.settings),r=t(i.settings,ws,kt),v=r.useShortLabels?r.labelsShort:r.labels,vt=1e3,yt=["resetlap","toggle"],h=["years","months","days","hours","minutes","seconds","fract"],o={years:{index:6,until:10,limit:31536e6,label:v[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:v[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:v[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:v[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:v[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:v[5],wheel:{}},fract:{index:0,until:99,limit:10,label:v[6],prefix:".",wheel:{}}},d={},ot=[],st=0,a=!1,y=!0,tt=!1,rt=Math.max(10,1e3*r.step),l=r.maxWheel,ut="stopwatch"==r.mode||ht,c=r.targetTime,ht=c&&void 0!==c.getTime,pt=[[]];return i.start=function(){if(y&&i.reset(),!a){if(ft(),!tt&&u>=f)return;a=!0;y=!1;k=new Date;b=u;r.readonly=!0;i.setVal(p(s?u:f-u),!0,!0,!1,100);it=setInterval(function(){u=new Date-k+b;i.setVal(p(s?u:f-u),!0,!0,!1,Math.min(100,w-10));!tt&&u+w>=f&&(clearInterval(it),setTimeout(function(){i.stop();u=f;i.setVal(p(s?u:0),!0,!0,!1,100);i.trigger("onFinish",{time:f});y=!0},f-u))},w);et();i.trigger("onStart")}},i.stop=function(){a&&(a=!1,clearInterval(it),u=new Date-k+b,et(),i.trigger("onStop",{ellapsed:u}))},i.toggle=function(){a?i.stop():i.start()},i.reset=function(){i.stop();u=0;ot=[];st=0;i.setVal(p(s?0:f),!0,!0,!1,vt);i.settings.readonly=ut;y=!0;ut||n(".mbsc-fr-w",e).removeClass("mbsc-timer-locked");i.trigger("onReset")},i.lap=function(){a&&(nt=new Date-k+b,at=nt-st,st=nt,ot.push(nt),i.trigger("onLap",{ellapsed:nt,lap:at,laps:ot}))},i.resetlap=function(){a&&"stopwatch"==r.mode?i.lap():i.reset()},i.getTime=function(){return f},i.setTime=function(n){c=n/1e3;f=n},i.getEllapsedTime=function(){return y?0:a?new Date-k+b:u},i.setEllapsedTime=function(n,t){y||(b=u=n,k=new Date,i.setVal(p(s?u:f-u),!0,t,!1,vt))},ft(!0),l||f||(l="minutes"),"inline"!==r.display&&yt.unshift("hide"),l||n(h).each(function(n,t){if(!l&&f>=o[t].limit)return l=t,!1}),n(h).each(function(n,t){bt(t)}),w=Math.max(97,w),r.autostart&&setTimeout(function(){i.start()},0),i.handlers.toggle=i.toggle,i.handlers.start=i.start,i.handlers.stop=i.stop,i.handlers.resetlap=i.resetlap,i.handlers.reset=i.reset,i.handlers.lap=i.lap,i.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:r.startText,icon:r.startIcon,handler:"toggle"},i.buttons.start={text:r.startText,icon:r.startIcon,handler:"start"},i.buttons.stop={text:r.stopText,icon:r.stopIcon,handler:"stop"},i.buttons.reset={text:r.resetText,icon:r.resetIcon,handler:"reset"},i.buttons.lap={text:r.lapText,icon:r.lapIcon,handler:"lap"},i.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:r.resetText,icon:r.resetIcon,handler:"resetlap"},i.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:r.hideText,icon:r.closeIcon,handler:"cancel"},{wheels:pt,headerText:!1,readonly:ut,buttons:yt,compClass:"mbsc-timer mbsc-sc",parseValue:function(){return p(s?0:f)},formatValue:function(t){var r="",i=0;return n(h).each(function(n,u){"fract"!=u&&d[u]&&(r+=t[i]+("seconds"==u&&d.fract?"."+t[i+1]:"")+" "+v[n]+" ",i++)}),r},validate:function(t){var r=t.values,u=t.index,i=0;y&&void 0!==u&&(c=0,n(h).each(function(n,t){d[t]&&(c+=o[t].limit*r[i],i++)}),c/=1e3,ft(!0))},onBeforeShow:function(){r.showLabel=!0},onMarkupReady:function(t){e=n(t.target);et();ut&&n(".mbsc-fr-w",e).addClass("mbsc-timer-locked")},onPosition:function(t){n(".mbsc-fr-w",t.target).css("min-width",0).css("min-width",n(".mbsc-fr-btn-cont",t.target)[0].offsetWidth)},onDestroy:function(){clearInterval(it)}}};e("timer",h);var pu="mbsc-input-wrap",bs=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],ll={tap:pi},wr=void 0,wi=function(){function i(r,f){var y=this,s;et(this,i);var e=t({},ll,u.settings,f),o=n(r),c=o.parent(),h=c.hasClass("mbsc-input-wrap")?c.parent():c,l=o.next().hasClass("mbsc-fr")?o.next():null,a=iu(o),p=yo(o,"data-input-style",e.inputStyle),v=yo(o,"data-label-style",e.labelStyle);r.mbscInst&&r.mbscInst.destroy();l&&l.insertAfter(h);s=e.theme;"auto"!=s&&s||(s=u.autoTheme);e.theme=s;void 0===e.rtl&&e.lang&&u.i18n[e.lang]&&(e.rtl=u.i18n[e.lang].rtl);ao(h,a,p,v,r);o.addClass("mbsc-control");this._handle=this._handle.bind(this);bs.forEach(function(n){o.on(n,y._handle)});this.settings=e;this._type=a;this._elm=r;this._$elm=o;this._$parent=h;this._$frame=l;this._ripple=vo(e.theme);this._isFloating="floating"==v||h.hasClass("mbsc-label-floating");this.cssClass=lf(e);this.getClassElm().addClass(this.cssClass);r.mbscInst=this}return ii(i,[{key:"getClassElm",value:function(){return this._$parent}},{key:"destroy",value:function(){var n=this;this._$elm.removeClass("mbsc-control");this.getClassElm().removeClass(this.cssClass);bs.forEach(function(t){n._$elm.off(t,n._handle)});delete this._elm.mbscInst}},{key:"option",value:function(n){t(this.settings,n);var i=this.getClassElm();this.cssClass&&i.removeClass(this.cssClass);this.cssClass=lf(this.settings);i.addClass(this.cssClass);this._ripple=vo(this.settings.theme)}},{key:"_handle",value:function(n){switch(n.type){case"touchstart":case"mousedown":this._onStart(n);break;case"touchmove":case"mousemove":this._onMove(n);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(n)}}},{key:"_addRipple",value:function(n){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,n)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(n){var t=this._elm;vt(n,t)&&(this._startX=r(n,"X"),this._startY=r(n,"Y"),wr&&wr.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,wr=this._$elm,wr.addClass("mbsc-active"),this._addRipple(n)));"touchstart"==n.type&&this._$elm.closest(".mbsc-no-touch").removeClass("mbsc-no-touch")}},{key:"_onMove",value:function(n){(this._isActive&&Math.abs(r(n,"X")-this._startX)>9||Math.abs(r(n,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(n){var t=this,i=this._elm,r=this._type;this._isActive&&this.settings.tap&&"touchend"==n.type&&!i.readOnly&&of(i,r,n);this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active");t._removeRipple()},100);this._isActive=!1;wr=null}}]),i}();u.themes.form.mobiscroll={};fe=function(t,r,u){var s,e,o,h,f=this;rt.call(this,t,r,!0);f.__init=i;f.__destroy=i;f._init=function(){var i;h=f.settings;s=n(t);i=!!e;e=s.parent();e=e.hasClass("mbsc-input-wrap")?e.parent():e;f._$parent=e;o&&e.removeClass(o);o=f._css+" mbsc-progress-w mbsc-control-w "+lf(h);e.addClass(o);s.addClass("mbsc-control");f.__init();i||f._attachChange();f.refresh();t.mbscInst=f};f._destroy=function(){f.__destroy();e.removeClass(o);s.removeClass("mbsc-control");delete t.mbscInst};u||f.init()};oi=function(t,i,r){function k(){var n=h("value",s);n!==l&&v(n)}function h(n,t,i){var r=f.attr(n);return void 0===r||""===r?t:i?r:+r}function v(n,t,i,r){n=Math.min(c,Math.max(n,s));d.css("width",100*(n-s)/(c-s)+"%");void 0===i&&(i=!0);void 0===r&&(r=i);(n!==l||t)&&u._display(n);n!==l&&(l=n,i&&f.attr("value",l),r&&f.trigger("change"))}var a,f,o,d,y,p,s,c,g,nt,e,w,l,b,u=this;fe.call(this,t,i,!0);u._display=function(n){b=w&&e.returnAffix?w.replace(/\{value\}/,n).replace(/\{max\}/,c):n;y&&y.html(b);a&&a.html(b)};u._attachChange=function(){f.on("change",k)};u.__init=function(){var v,b,r,k;if(e=u.settings,f=n(t),k=!!o,o=u._$parent,s=u._min=void 0===i.min?h("min",e.min):i.min,c=u._max=void 0===i.max?h("max",e.max):i.max,g=void 0===i.inputStyle?h("data-input-style",e.inputStyle,!0):i.inputStyle,nt=void 0===i.labelStyle?h("data-label-style",e.labelStyle,!0):i.labelStyle,l=h("value",s),v=f.attr("data-val")||e.val,r=f.attr("data-step-labels"),r=r?JSON.parse(r):e.stepLabels,w=f.attr("data-template")||(100!=c||e.template?e.template:"{value}%"),k?(v&&(a.remove(),o.removeClass("mbsc-progress-value-"+("right"==v?"right":"left"))),r&&n(".mbsc-progress-step-label",p).remove()):(ao(o,null,g,nt,t),lo(f),o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"><\/span><\/span><\/span>'),d=u._$progress=o.find(".mbsc-progress-bar"),p=u._$track=o.find(".mbsc-progress-track")),f.attr("min",s).attr("max",c),v&&(a=n('<span class="mbsc-progress-value"><\/span>'),o.addClass("mbsc-progress-value-"+("right"==v?"right":"left")).find(".mbsc-input-wrap").append(a)),r)for(b=0;b<r.length;++b)p.append('<span class="mbsc-progress-step-label" style="'+(e.rtl?"right":"left")+": "+100*(r[b]-s)/(c-s)+'%" >'+r[b]+"<\/span>");y=n(f.attr("data-target")||e.target)};u.__destroy=function(){o.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove();o.find(".mbsc-input-ic").remove();f.off("change",k)};u.refresh=function(){v(h("value",s),!0,!1)};u.getVal=function(){return l};u.setVal=function(n,t,i){v(n,!0,t,i)};r||u.init()};oi.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}};c.Progress=oi;p("[mbsc-progress]",oi);ee=function(t,u,f){function ii(i){"mousedown"===i.type&&i.preventDefault();!vt(i,this)||b&&!y||t.disabled||t.readOnly||(l.stopProp&&i.stopPropagation(),b=!0,ut=!1,bt=!1,gt=r(i,"X"),vi=r(i,"Y"),it=gt,tt.removeClass("mbsc-progress-anim"),pt=g?n(".mbsc-slider-handle",this):v,ot&&ot.removeClass("mbsc-handle-curr"),ot=pt.parent().addClass("mbsc-active mbsc-handle-curr"),h.addClass("mbsc-active"),s=+pt.attr("data-index"),ti=tt[0].offsetWidth,kt=tt[0].getBoundingClientRect().left,"mousedown"===i.type&&(rt=!0,n(document).on("mousemove",nt).on("mouseup",ft)),"mouseenter"===i.type&&(y=!0,n(document).on("mousemove",nt)))}function nt(n){b&&(it=r(n,"X"),li=r(n,"Y"),hi=it-gt,ci=li-vi,Math.abs(hi)>5&&(ut=!0),(ut||rt||y)&&Math.abs(yi-new Date)>50&&(yi=new Date,si(it,l.round,ai&&(!y||rt))),ut?n.preventDefault():Math.abs(ci)>7&&"touchmove"==n.type&&yt(n))}function ft(n){b&&(n.preventDefault(),g||tt.addClass("mbsc-progress-anim"),y&&!rt?a(o[s],s,!1,!1,!0):si(it,!0,!0),ut||bt||("touchend"==n.type&&at(),e._onTap(o[s])),"mouseup"==n.type&&(rt=!1),"mouseleave"==n.type&&(y=!1),y||yt())}function ri(){b&&yt()}function ui(){var t=e._readValue(n(this)),i=+n(this).attr("data-index");t!==o[i]&&(o[i]=t,ct[i]=t,a(t,i))}function fi(n){n.stopPropagation()}function ei(n){n.preventDefault()}function oi(i){var r;if(!t.disabled){switch(i.keyCode){case 38:case 39:r=1;break;case 40:case 37:r=-1}r&&(i.preventDefault(),lt||(s=+n(this).attr("data-index"),a(o[s]+p*r,s,!0),lt=setInterval(function(){a(o[s]+p*r,s,!0)},200)))}}function et(n){n.preventDefault();clearInterval(lt);lt=null}function yt(){b=!1;ot.removeClass("mbsc-active");h.removeClass("mbsc-active");n(document).off("mousemove",nt).off("mouseup",ft)}function si(n,t,i){var r=t?Math.min(Math[e._rounding||"round"](Math.max(100*(n-kt)/ti,0)/dt/p)*p*100/(k-c+st),100):Math.max(0,Math.min(100*(n-kt)/ti,100));ht&&(r=100-r);a(Math.round((c-st+r/dt)*ni)/ni,s,i,r)}function a(n,t,i,r,u,f){var h=v.eq(t),s=h.parent();n=Math.min(k,Math.max(n,c));void 0===f&&(f=i);e._update?n=e._update(n,o,t,r,g,u,s):s.css({left:ht?"auto":(r||d(n,c,k))+"%",right:ht?(r||d(n,c,k))+"%":"auto"});n>c?s.removeClass("mbsc-slider-start"):(o[t]>c||u)&&s.addClass("mbsc-slider-start");i&&(o[t]=n);i&&ct[t]!=n&&(bt=!0,ct[t]=n,e._fillValue(n,t,f));h.attr("aria-valuenow",n)}var h,pt,ot,v,wt,w,tt,b,st,bt,hi,ci,kt,it,li,s,y,rt,ht,ai,k,c,ut,g,ct,p,l,dt,gt,vi,ni,lt,ti,o,e=this,yi=new Date;fe.call(this,t,u,!0);e._onTap=i;e.___init=i;e.___destroy=i;e._attachChange=function(){h.on(l.changeEvent,ui)};e.__init=function(){var t;v&&(t=!0,v.parent().remove());e.___init();w=e._$parent;tt=e._$track;h=w.find("input");l=e.settings;c=e._min;k=e._max;st=e._base||0;p=e._step;ai=e._live;ni=p%1!=0?1/+(p%1).toFixed(2):1;dt=100/(k-c+st)||100;g=h.length>1;ht=l.rtl;o=[];ct=[];h.each(function(t){o[t]=e._readValue(n(this));n(this).attr("data-index",t)});v=w.find(".mbsc-slider-handle");wt=w.find(g?".mbsc-slider-handle-cont":".mbsc-progress-cont");v.on("keydown",oi).on("keyup",et).on("blur",et);wt.on("touchstart mousedown"+(l.hover?" mouseenter":""),ii).on("touchmove",nt).on("touchend touchcancel"+(l.hover?" mouseleave":""),ft).on("pointercancel",ri);t||(h.on("click",fi),w.on("click",ei))};e.__destroy=function(){w.off("click",ei);h.off(l.changeEvent,ui).off("click",fi);v.off("keydown",oi).off("keyup",et).off("blur",et);wt.off("touchstart mousedown mouseenter",ii).off("touchmove",nt).off("touchend touchcancel mouseleave",ft).off("pointercancel",ri);e.___destroy()};e.refresh=function(){h.each(function(t){a(e._readValue(n(this)),t,!0,!1,!0,!1)})};e.getVal=function(){return g?o.slice(0):o[0]};e.setVal=e._setVal=function(t,i,r){n.isArray(t)||(t=[t]);n.each(t,function(n,t){o[n]=t});n.each(t,function(n,t){a(t,n,!0,!1,!0,r)})};f||e.init()};bt=function(t,i,r){var o,s,l,b,v,y,p,w,h,f,e,a,c,u=this,k,g,nt,tt;oi.call(this,t,i,!0);k=u.__init;g=u.__destroy;ee.call(this,t,i,!0);nt=u.__init;tt=u.__destroy;u.__init=function(){k();nt()};u.__destroy=function(){g();tt()};u._update=function(n,t,i,r,o,s,c){return w?0===i?(n=Math.min(n,t[1]),l.css({width:d(t[1],e,f)-d(n,e,f)+"%",left:h?"auto":d(n,e,f)+"%",right:h?d(n,e,f)+"%":"auto"})):(n=Math.max(n,t[0]),l.css({width:d(n,e,f)-d(t[0],e,f)+"%"})):o||!y?c.css({left:h?"auto":(r||d(n,e,f))+"%",right:h?(r||d(n,e,f))+"%":"auto"}):l.css("width",(r||d(n,e,f))+"%"),p&&b.eq(i).html(n),o||t[i]==n&&!s||u._display(n),n};u._readValue=function(n){return+n.val()};u._fillValue=function(n,t,i){o.eq(t).val(n);i&&o.eq(t).trigger("change")};u._markupReady=function(){var t,i;if(p&&s.addClass("mbsc-slider-has-tooltip"),1!=a)for(i=(f-e)/a,t=0;t<=i;++t)v.append('<span class="mbsc-slider-step" style="'+(h?"right":"left")+":"+100/i*t+'%"><\/span>');o.each(function(t){"range"==this.type&&n(this).attr("min",e).attr("max",f).attr("step",a);(y?l:v).append('<span class="mbsc-slider-handle-cont'+(w&&!t?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+e+'" aria-valuemax="'+f+'" data-index="'+t+'"><\/span>'+(p?'<span class="mbsc-slider-tooltip"><\/span>':"")+"<\/span>")});b=s.find(".mbsc-slider-tooltip")};u.___init=function(){s&&(s.removeClass("mbsc-slider-has-tooltip"),1!=a&&n(".mbsc-slider-step",v).remove());s=u._$parent;v=u._$track;l=u._$progress;o=s.find("input");c=u.settings;e=u._min;f=u._max;u._step=a=void 0===i.step?+o.attr("step")||c.step:i.step;u._live=ff("data-live",c.live,o);p=ff("data-tooltip",c.tooltip,o);y=ff("data-highlight",c.highlight,o)&&o.length<3;w=y&&2==o.length;h=c.rtl;u._markupReady()};r||u.init()};bt.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}};c.Slider=bt;p("[mbsc-slider]",bt);wu=function(i,r,u){function lt(n,i,r){if(!r){f._value=f._hasValue?f._tempValue.slice(0):null;for(var u=0;u<e.length;++u)e[u].tempChangedColor&&f._value&&f._value.indexOf(e[u].tempChangedColor)!=-1&&(e[u].changedColor=e[u].tempChangedColor),delete e[u].tempChangedColor}n&&(f._isInput&&nt.val(f._hasValue?f._tempValue:""),et("onFill",{valueText:f._hasValue?f._tempValue:"",change:i}),i&&(p=t(!0,{},h),f._preventChange=!0,nt.trigger("change")),ni(f._value,!0))}function dt(n,t){return t=void 0!==t?t:at(n),'<div class="mbsc-color-input-item" data-color="'+(void 0!==t?t:n)+'" style="background: '+n+';">'+(a?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"><\/div>')+"<\/div>"}function gt(n){ui[0].style.background=n?st+"linear-gradient(left, "+(s.rtl?"#000000":"#FFFFFF")+" 0%, "+n+" 50%, "+(s.rtl?"#FFFFFF":"#000000")+" 100%)":""}function at(n){if(Object.keys(h).length&&!isNaN(n))return n;for(var t in e)if(n==e[t].color||n==e[t].changedColor)return t}function si(){if(ct){var t,i="";if(k.empty(),f._hasValue){if(a)i+=dt(f._value,o);else for(t=0;t<f._value.length;++t)i+=dt(f._value[t],Object.keys(h).length&&h[t].colorIndex?h[t].colorIndex:at(f._value[t]));k.append(i);f.tap(n(".mbsc-color-input-item",k),function(t){if(n(t.target).hasClass("mbsc-color-input-item-close")){var i=n(this).index();t.stopPropagation();t.preventDefault();void 0===o&&(o=n(t.target).parent().attr("data-color"));l&&e[o]&&(c=e[o].previewInd,y.eq(c).parent().removeClass("mbsc-color-active"),p[i]={},h[i]={});f._value.splice(i,1);f.setVal(f._value,!0,!0)}else b&&"inline"!==s.display&&(o=n(t.target).attr("data-color"),isNaN(o)&&(o=at(o)),o&&e[o]&&(e[o].selected=!0,c=e[o].previewInd,setTimeout(function(){tt.scroll(g.eq(o),400);l&&it.scroll(y.eq(c),400)},200)))})}}}function ot(n,t){var r,i=n.match(/\d+/gim);switch(!0){case n.indexOf("rgb")>-1:r=fu({r:i[0],g:i[1],b:i[2]});break;case n.indexOf("hsl")>-1:r=oc({h:i[0],s:i[1],l:i[2]});break;case n.indexOf("hsv")>-1:r=go({h:i[0],s:i[1],v:i[2]});break;case n.indexOf("#")>-1:r=n}return hi(r,t||s.format)}function hi(n,t){switch(t){case"rgb":return eu(n);case"hsl":return ko(n);case"hsv":return ns(n);default:return n}}function ci(){for(var n=0;n<s.select;++n)if(void 0===h[n].colorIndex)return n}function vt(t,i){n(".mbsc-color-active",i).removeClass("mbsc-color-active");b&&(t.parent().addClass("mbsc-color-active"),l&&t&&void 0!==c&&y.eq(c).parent().addClass("mbsc-color-active"))}function ni(i,r){var u,c,f=[],g=0,w=n.map(e,function(n){return n.changedColor||n.color}),v,d;if(a)(i=n.isArray(i)?i[0]:i,c=w.indexOf(i),c>-1&&f.push(c),i&&!f.length&&b)&&(v=+n(".mbsc-color-input-item",k).attr("data-color"),isNaN(v)?v=void 0:f.push(v),o=v);else if(i)if(l&&b)for(d in p)void 0!==p[d].colorIndex&&f.push(+p[d].colorIndex);else for(u=0;u<i.length;++u)c=w.indexOf(i[u]),c>-1&&(f.push(c),w[c]="temp"+u);for(u=0;u<f.length;++u)e[f[u]]&&yt(!0,f[u],g++,e[f[u]].changedColor||e[f[u]].color,!0);for(u=0;u<e.length;++u)f.indexOf(u)==-1&&yt(!1,u,void 0,e[u].changedColor||e[u].color,!1);if(l)for(u=g;u<s.select;++u)h[u]={},y&&y.eq(u).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});p=t(!0,{},h);r!==!1&&si()}function yt(n,t,i,r,u,o){if(l&&u&&(h[i].colorIndex=n?t:void 0,h[i].color=n?r:void 0,y)){var s=y.eq(i);s.removeClass("mbsc-color-preview-item-empty").css({background:n?r:"transparent"});n||s.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}o&&(n?f._tempValue.splice(i,0,r):f._tempValue.splice(f._tempValue.indexOf(r),1));g&&(n?g.eq(t).addClass("mbsc-color-selected"):g.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active"));e[t].previewInd=n?i:void 0;e[t].selected=n}function pt(n,t){void 0!==n&&(a||e[n]&&e[n].selected)?(o=n,e[n]&&(w=e[n].changedColor||e[n].color,v=g.eq(n),b&&(vt(g.eq(n),t||""),ft=ot(e[n].color,"hsl"),ft.l=ot(w,"hsl").l,gt(e[n].color),ht.setVal(100-ft.l,!1,!1)))):b&&gt()}function li(){for(var t=[],n=0;n<e.length;++n)e[n].selected&&t.push(e[n]);return t}function ti(t,i){var r=n(t.target).index();o=h[r].colorIndex;v=g.eq(o);c=r;pt(o,i);tt.scroll(v,250);et("onPreviewItemTap",{target:t.target,value:h[r].color,index:r})}function ii(t,i){var r=!1,u=n(".mbsc-color-selected",i);return v=n(t.target),v.hasClass("mbsc-color-clear-item")?(w="",void f.clear()):void((a||ei>+u.length||v.hasClass("mbsc-color-selected"))&&(o=v.attr("data-index"),l&&(c=void 0!==e[o].previewInd?e[o].previewInd:ci(),r=b&&v.hasClass("mbsc-color-selected")&&!v.parent().hasClass("mbsc-color-active"),y.length>6&&it.scroll(y.eq(c))),w=e[o].changedColor||e[o].color,a?(u.removeClass("mbsc-color-selected"),f._tempValue=w,w&&v.toggleClass("mbsc-color-selected"),vt(v,i)):(vt(v,i),r||yt(!e[o].selected,o,c,w,!0,!0)),pt(o,i),f.live&&(f._fillValue(),et("onSet",{value:f._value})),et("onItemTap",{target:t.target,value:w,selected:e[o].selected,index:o}),f._updateHeader()))}var s,ri,e,et,tt,it,rt,w,ft,d,l,ui,b,fi,ht,o,ct,a,ei,oi,k,g,y,v,kt,f=this,nt=n(i),c=0,p={},h={};ut.call(this,i,r,!0);f.setVal=f._setVal=function(t,i,r,u){f._hasValue=null!==t&&void 0!==t;f._tempValue=a?n.isArray(t)?t[0]:t:n.isArray(t)?t:t?[t]:[];lt(i,void 0===r?i:r,u)};f.getVal=f._getVal=function(n){return f._hasValue||n?oi?li():f[n?"_tempValue":"_value"]:null};f._readValue=function(){var n=nt.val()||"";f._hasValue=!1;0!==n.length&&""!==n&&(f._hasValue=!0);f._hasValue?(f._tempValue=a?n:"hex"==s.format?n.split(","):n.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),lt(!0)):f._tempValue=[];ni(f._tempValue,f._hasValue)};f._fillValue=function(){f._hasValue=!0;lt(!0,!0)};f._generateContent=function(){var n,t,r,u=rt?1:0,i;for(fi=d?Math.ceil((e.length+u)/s.rows):s.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(d?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(d?'<div class="mbsc-color-row">':""),n=0;n<e.length;++n)r=e[n].changedColor||e[n].color,rt&&0===n&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"><\/div><\/div><\/div>'),0!==n&&(n+u)%fi==0&&(t+=d?'<\/div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+n+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(e[n].selected?"mbsc-color-selected":"")+'"  style="background:'+r+'"><\/div><\/div>';if(t+="<\/div><\/div>"+(d?"<\/div>":""),b&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/><\/div>'),l){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(i in p)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(p[i].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(p[i].color||"initial")+';"><\/div><\/div>';t+="<\/div><\/div>"}return t};f._position=function(n){var t,i;d||(t=n.find(".mbsc-color-cont"),i=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(n.find(".mbsc-fr-c").width()/i),Math.round(e.length/s.rows))*i+1));tt&&tt.refresh();it&&it.refresh()};f._markupInserted=function(n){d||n.find(".mbsc-color-scroll-cont").css("max-height",n.find(".mbsc-color-item-c")[0].offsetHeight*s.rows);tt=new wt(n.find(".mbsc-color-scroll-cont")[0],{axis:d?"X":"Y",rtl:s.rtl,elastic:60,stopProp:!1,mousewheel:s.mousewheel,onBtnTap:function(t){ii(t,n)}})};f._attachEvents=function(t){var i;g=n(".mbsc-color-item",t);t.on("keydown",".mbsc-color-btn-e",function(n){n.stopPropagation();32==n.keyCode&&(n.target.classList.contains("mbsc-color-item")?ii(n,t):ti(n,t))});l&&(y=n(".mbsc-color-preview-item",t));b&&(t.addClass("mbsc-color-refine"),kt=n(".mbsc-color-slider",t),ht=new bt(kt[0],{theme:s.theme,rtl:s.rtl}),ui=t.find(".mbsc-progress-track"),o&&f._value&&pt(o,t),kt.on("change",function(){void 0!==o&&(a||e[o]&&e[o].selected)&&(ft.l=100-this.value,i=ot(ft.toString()).toString(),a?f._tempValue=i:f._tempValue[void 0!==c?c:f._tempValue.length]=i,e[o].tempChangedColor=i,g.eq(o).css("background",i),l&&(h[c].color=i,y.eq(c).removeClass("mbsc-color-preview-item-empty").css({background:i})),f.live&&rf(f._fillValue()))}));l&&(it=new wt(t.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:s.rtl,stopProp:!1,mousewheel:s.mousewheel,onBtnTap:function(n){ti(n,t)}}));f._updateHeader()};f._markupRemove=function(){tt&&tt.destroy();ht&&ht.destroy();it&&it.destroy()};f.__processSettings=function(){var t,r;if(s=f.settings,et=f.trigger,d="horizontal"==s.navigation,f._value=[],f._tempValue=[],a="single"==s.select,rt=void 0!==s.clear?s.clear:a,r=s.data||[],!r.length)switch(s.format){case"rgb":r=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"];rt&&r.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":r=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"];rt&&r.splice(10,0,"hsl(20, 12%, 29%)");break;default:r=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"];rt&&r.splice(10,0,"#534741")}if(b="refine"==s.mode,l=!isNaN(s.select),ei=isNaN(s.select)?a?2:r.length:s.select,oi=n.isPlainObject(r[0]),l&&!Object.keys(p).length)for(t=0;t<s.select;++t)p[t]={},h[t]={};for(e=r.slice(0),t=0;t<e.length;++t)n.isPlainObject(r[t])?e[t].color=r[t].color:(r[t]=r[t].toLowerCase(),e[t]={key:t,name:r[t],color:r[t]});ri=s.defaultValue||e[0].color;w=ri;ft=ot(w,"hsl");ct=s.enhance&&nt.is("input");ct&&(nt.hasClass("mbsc-color-input-hdn")?k=nt.prev():(k=n("<div "+(i.placeholder?'data-placeholder="'+i.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(s.inputClass||"")+'" readonly ><\/div>'),k.insertBefore(nt),nt.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),s.anchor=k,f.attachShow(k))};f.__destroy=function(){ct&&(nt.removeClass("mbsc-color-input-hdn"),k.remove())};f._checkSize=!0;u||f.init()};wu.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:t({},ut.prototype._defaults,{headerText:!1,validate:i,parseValue:i,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal",compClass:"mbsc-color"})};c.Color=wu;u.themes.color=u.themes.frame;hr.color={hsv2hex:go,hsv2rgb:po,rgb2hsv:wo,rgb2hex:fu,rgb2hsl:bo,hex2rgb:eu,hex2hsv:ns,hex2hsl:ko};e("color",wu,!1);ks={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0};o.range=function(i){function bt(n,t){n&&(n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()))}function w(n,t){var u=i._order,r=new Date(n);return void 0===u.h&&r.setHours(t?23:0),void 0===u.i&&r.setMinutes(t?59:0),void 0===u.s&&r.setSeconds(t?59:0),r.setMilliseconds(t?999:0),r}function ui(t){i._startDate=v=e;i._endDate=y=u;r.startInput&&(n(r.startInput).val(i.startVal),t&&n(r.startInput).trigger("change"));r.endInput&&(n(r.endInput).val(i.endVal),t&&n(r.endInput).trigger("change"))}function rt(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)}function kt(n){ii?(u-e>r.maxRange-1&&(n?e=new Date(Math.max(g,u-r.maxRange+1)):u=new Date(Math.min(d,+e+r.maxRange-1))),u-e<r.minRange-1&&(n?e=new Date(Math.max(g,u-r.minRange+1)):u=new Date(Math.min(d,+e+r.minRange-1)))):(Math.ceil((u-e)/et)>wt&&(n?e=w(Math.max(g,rt(u,1-wt)),!1):u=w(Math.min(d,rt(e,wt-1)),!0)),Math.ceil((u-e)/et)<pt&&(n?e=w(Math.max(g,rt(u,1-pt)),!1):u=w(Math.min(d,rt(e,pt-1)),!0)))}function ht(n,t){var i=!0;return n&&e&&u&&(kt(o),kt(!o)),e&&u||(i=!1),t&&dt(),i}function fi(){return e&&u?Math.max(1,Math.round((new Date(u).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0))/864e5)+1):0}function ei(n){n.addClass(ot).attr("aria-checked","true")}function ct(){at&&c&&(n(".mbsc-range-btn",c).removeClass(ot).removeAttr("aria-checked"),ei(n(".mbsc-range-btn",c).eq(o)))}function dt(){var t,v,f,y,l,p=0,w=a||!o?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",b=a||o?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(i.startVal=e?s(h,e,r):"",i.endVal=u?s(h,u,r):"",c&&(n(".mbsc-range-btn-v-start",c).html(i.startVal||"&nbsp;"),n(".mbsc-range-btn-v-end",c).html(i.endVal||"&nbsp;"),t=e?new Date(e):null,f=u?new Date(u):null,!t&&f&&(t=new Date(f)),!f&&t&&(f=new Date(t)),l=o?f:t,n(".mbsc-cal-day-picker .mbsc-cal-day-hl",c).removeClass(st),n(".mbsc-cal-day-picker .mbsc-selected",c).removeClass("mbsc-cal-sel-start mbsc-cal-sel-end "+ot).removeAttr("aria-selected"),t&&f))for(v=t.setHours(0,0,0,0),y=f.setHours(0,0,0,0);f>=t&&p<126;)n('.mbsc-cal-day[data-full="'+l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate()+'"]',c).addClass(ot+" "+(l.getTime()===v?w:"")+(l.getTime()===y?b:"")).attr("aria-selected","true"),l.setDate(l.getDate()+(o?-1:1)),l.setHours(0,0,0,0),p++}function ut(n,t){return{h:n?n.getHours():t?23:0,i:n?n.getMinutes():t?59:0,s:n?n.getSeconds():t?59:0}}function gt(){e&&(p=!0,i.setDate(e,!1,0,!0),e=i.getDate(!0));u&&(p=!0,i.setDate(u,!1,0,!0),u=i.getDate(!0))}var k,c,b,h,ii,p,d,g,nt,e,tt,u,it,lt,at,v=i._startDate,y=i._endDate,o=0,ft=new Date,oi=t({},i.settings),r=t(i.settings,ks,oi),yt=r.anchor,a=r.rangeTap,et=864e5,pt=Math.max(1,Math.ceil(r.minRange/et)),wt=Math.max(1,Math.ceil(r.maxRange/et)),ri="mbsc-disabled "+(r.disabledClass||""),ot="mbsc-selected "+(r.selectedClass||""),st="mbsc-cal-day-hl",l=null===r.defaultValue?[]:r.defaultValue||[new Date(ft.setHours(0,0,0,0)),new Date(ft.getFullYear(),ft.getMonth(),ft.getDate()+6,23,59,59,999)];return a&&(r.tabs=!0),k=ue.call(this,i),h=i._format,ii=/time/i.test(r.controls.join(",")),lt="time"===r.controls.join(""),at=r.showSelector,d=r.max?w(f(r.max,h,r),!0):1/0,g=r.min?w(f(r.min,h,r),!1):-(1/0),l[0]=f(l[0],h,r,r.isoParts),l[1]=f(l[1],h,r,r.isoParts),r.startInput&&i.attachShow(n(r.startInput),function(){o=0;r.anchor=yt||n(r.startInput)}),r.endInput&&i.attachShow(n(r.endInput),function(){o=1;r.anchor=yt||n(r.endInput)}),i._getDayProps=function(n,t){var i=e?new Date(e.getFullYear(),e.getMonth(),e.getDate()):null,r=u?new Date(u.getFullYear(),u.getMonth(),u.getDate()):null;return{selected:i&&r&&n>=i&&n<=u,cssClass:t.cssClass+" "+((a||!o)&&i&&i.getTime()===n.getTime()||(a||o)&&r&&r.getTime()===n.getTime()?st:"")+(i&&i.getTime()===n.getTime()?" mbsc-cal-sel-start":"")+(r&&r.getTime()===n.getTime()?" mbsc-cal-sel-end":"")}},i.setVal=function(n,t,c,l,a){var p=n||[],w=n;e=f(p[0],h,r,r.isoParts);u=f(p[1],h,r,r.isoParts);gt();i.startVal=e?s(h,e,r):"";i.endVal=u?s(h,u,r):"";w=k.parseValue(o?u:e,i);l||(i._startDate=v=e,i._endDate=y=u);nt=!0;i._setVal(w,t,c,l,a)},i.getVal=function(n){return n?[ti(e,r,h),ti(u,r,h)]:i._hasValue?[ti(v,r,h),ti(y,r,h)]:null},i.setActiveDate=function(t){var r;o="start"==t?0:1;r="start"==t?e:u;i.isVisible()&&(ct(),a||(n(".mbsc-cal-table .mbsc-cal-day-hl",c).removeClass(st),r&&n('.mbsc-cal-day[data-full="'+r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+'"]',c).addClass(st)),r&&(p=!0,i.setDate(r,!1,1e3,!0)))},i.getValue=i.getVal,t({},k,{highlight:!1,outerMonthChange:!1,formatValue:function(){return i.startVal+(r.endInput?"":i.endVal?" - "+i.endVal:"")},parseValue:function(t){var u=t?t.split(" - "):[],f=r.startInput?n(r.startInput).val():u[0],e=r.endInput?n(r.endInput).val():u[1];return r.defaultValue=l[1],y=e?ni(h,e,r):l[1],r.defaultValue=l[0],v=f?ni(h,f,r):l[2],r.defaultValue=l[o],i.startVal=v?s(h,v,r):"",i.endVal=y?s(h,y,r):"",i._startDate=v,i._endDate=y,k.parseValue(o?y:v,i)},onFill:function(n){ui(n.change)},onBeforeClose:function(n){if("set"===n.button&&!ht(!0,!0))return i.setActiveDate(o?"start":"end"),!1},onHide:function(){k.onHide.call(i);o=0;c=null;r.anchor=yt},onClear:function(){a&&(o=0)},onBeforeShow:function(){e=v||l[0];u=y||l[1];tt=ut(e,0);it=ut(u,1);r.counter&&(r.headerText=function(){var n=fi();return(n>1?r.selectedPluralText||r.selectedText:r.selectedText).replace(/{count}/,n)});nt=!0},onMarkupReady:function(t){var f;gt();(o&&u||!o&&e)&&(p=!0,i.setDate(o?u:e,!1,0,!0));dt();k.onMarkupReady.call(this,t);c=n(t.target);c.addClass("mbsc-range");at&&(f='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" data-select="start" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+r.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(i.startVal||"&nbsp;")+'<\/div><\/div><\/div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" data-select="end" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+r.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(i.endVal||"&nbsp;")+"<\/div><\/div><\/div><\/div>",r.headerText?n(".mbsc-fr-hdr",c).after(f):n(".mbsc-fr-w",c).prepend(f),ct());n(".mbsc-range-btn",c).on("touchstart click",function(t){vt(t,this)&&(i._showDayPicker(),i.setActiveDate(n(this).attr("data-select")))})},onDayChange:function(n){n.active=o?"end":"start";b=!0},onSetDate:function(t){var f;p||(f=w(t.date,o),nt&&!b||(a&&b&&(1==o&&f<e&&(o=0),o?f.setHours(it.h,it.i,it.s,999):f.setHours(tt.h,tt.i,tt.s,0)),o?(u=new Date(f),it=ut(u)):(e=new Date(f),tt=ut(e)),lt&&r.autoCorrect&&(bt(e,f),bt(u,f)),a&&b&&!o&&(u=null)));lt&&!r.autoCorrect&&u<e&&(u=new Date(u.setDate(u.getDate()+1)));i._isValid=ht(nt||b||r.autoCorrect,!p);t.active=o?"end":"start";!p&&a&&(b&&(o=o?0:1),ct());i.isVisible()&&(i._isValid?n(".mbsc-fr-btn-s .mbsc-fr-btn",i._markup).removeClass(ri):n(".mbsc-fr-btn-s .mbsc-fr-btn",i._markup).addClass(ri));b=!1;nt=!1;p=!1},onTabChange:function(n){"calendar"!=n.tab&&i.setDate(o?u:e,!1,1e3,!0);ht(!0,!0)}})};e("range",h);e("scroller",h,!1);var kt,br="mbsc-selected",bi="mbsc-lv-item-active",al="ios"==a&&nt>7,bu=1,ds="transparent",oe=function(u,f){function eo(){tf=!1;gu=!1;l=0;gs=0;nh=new Date;ir=ut.width();fs=vr(ut);a=fs.index(o);d=o[0].offsetHeight;it=o[0].offsetTop;p=ki[o.attr("data-type")||"defaults"];sr=p.stages}function rh(t){var i;"touchstart"===t.type&&(h.removeClass("mbsc-no-touch"),nf=!0,clearTimeout(bs));!vt(t,this)||gt||vi||kt||pf||(gt=!0,hu=!0,ve=!1,ye="touchstart"===t.type,ef=r(t,"X"),sf=r(t,"Y"),ct=0,yi=0,o=n(this),i=o,eo(),io=p.actionable||o.hasClass("mbsc-lv-parent")||o.hasClass("mbsc-lv-back"),pe=o.offset().top,io&&(tr=setTimeout(function(){i.addClass(ye?bi:"");b("onItemActivate",{target:i[0],domEvent:t})},120)),s.sortable&&!o.hasClass("mbsc-lv-back")&&(s.sortable.group||(be=o.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),ke=o.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),ku=(s.sortable.group?ut.children(bt).eq(0):ke.length?ke.eq(-1):o)[0].offsetTop-it,wu=(s.sortable.group?ut.children(bt).eq(-1):be.length?be.eq(-1):o)[0].offsetTop-it,s.sortable.handle?n(t.target).hasClass("mbsc-lv-handle")&&(clearTimeout(tr),"Moz"===v?(t.preventDefault(),df()):lf=setTimeout(function(){df()},100)):lf=setTimeout(function(){kr.appendTo(o);kr[0].style[v+"Animation"]="mbsc-lv-fill "+(e.sortDelay-100)+"ms linear";clearTimeout(hs);clearTimeout(tr);hu=!1;lf=setTimeout(function(){kr[0].style[v+"Animation"]="";df()},e.sortDelay-80)},80)),"mousedown"==t.type&&n(document).on("mousemove",wf).on("mouseup",ru))}function wf(n){var u=!1,f=!0,v=l;if(gt)if(cs=r(n,"X"),ls=r(n,"Y"),ct=cs-ef,yi=ls-sf,clearTimeout(hs),pi||ui||er||o.hasClass("mbsc-lv-back")||(Math.abs(yi)>10?(er=!0,ru(t({},n,{type:"mousemove"==n.type?"mouseup":"touchend"})),clearTimeout(tr)):Math.abs(ct)>7&&oo()),ui)n.preventDefault(),l=ct/ir*100,bf(v);else if(pi){n.preventDefault();var a,e=c.scrollTop(),i=Math.max(ku,Math.min(yi+nu,wu)),h=wt?pe-ro+e-nu:pe;hr+e<h+i+d?(c.scrollTop(h+i-hr+d),a=!0):h+i<e&&(c.scrollTop(h+i),a=!0);a&&(nu+=c.scrollTop()-e);ci&&(s.sortable.multiLevel&&ft.hasClass("mbsc-lv-parent")?it+d/4+i>ci?u=!0:it+d-d/4+i>ci&&(yt=ft.addClass("mbsc-lv-item-hl"),f=!1):it+d/2+i>ci&&(ft.hasClass("mbsc-lv-back")?s.sortable.multiLevel&&(ni=ft.addClass("mbsc-lv-item-hl"),f=!1):u=!0),u&&(dt.insertAfter(ft),nt=ft,ft=ou(ft,"next"),li=ci,ci=ft.length&&ft[0].offsetTop,ht++));!u&&li&&(s.sortable.multiLevel&&nt.hasClass("mbsc-lv-parent")?it+d-d/4+i<li?u=!0:it+d/4+i<li&&(yt=nt.addClass("mbsc-lv-item-hl"),f=!1):it+d/2+i<li&&(nt.hasClass("mbsc-lv-back")?s.sortable.multiLevel&&(ni=nt.addClass("mbsc-lv-item-hl"),f=!1):u=!0),u&&(dt.insertBefore(nt),ft=nt,nt=ou(nt,"prev"),ci=li,li=nt.length&&nt[0].offsetTop+nt[0].offsetHeight,ht--));f&&(yt&&(yt.removeClass("mbsc-lv-item-hl"),yt=!1),ni&&(ni.removeClass("mbsc-lv-item-hl"),ni=!1));u&&b("onSortChange",{target:o[0],index:ht});po(o,i);b("onSort",{target:o[0],index:ht})}else(Math.abs(ct)>5||Math.abs(yi)>5)&&te()}function ru(t){var u,i,r,f=o;gt&&(gt=!1,te(),"mouseup"==t.type&&n(document).off("mousemove",wf).off("mouseup",ru),er||(bs=setTimeout(function(){nf=!1},300)),(ui||er||pi)&&(gu=!0),ui?so():pi?(r=ut,yt?(gi(o.detach()),i=g[yt.attr("data-ref")],ht=vr(i.child).length,yt.removeClass("mbsc-lv-item-hl"),e.navigateOnDrop?ue(yt,function(){s.add(null,o,null,null,yt,!0);yr(o);ar(o,a,r,!0)}):(s.add(null,o,null,null,yt,!0),ar(o,a,r,!0))):ni?(gi(o.detach()),i=g[ni.attr("data-back")],ht=vr(i.parent).index(i.item)+1,ni.removeClass("mbsc-lv-item-hl"),e.navigateOnDrop?ue(ni,function(){s.add(null,o,ht,null,ut,!0);yr(o);ar(o,a,r,!0)}):(s.add(null,o,ht,null,i.parent,!0),ar(o,a,r,!0))):(u=dt[0].offsetTop-it,po(o,u,6*Math.abs(u-Math.max(ku,Math.min(yi+nu,wu))),function(){gi(o);o.insertBefore(dt);ar(o,a,r,ht!==a)})),pi=!1):!er&&Math.abs(ct)<5&&Math.abs(yi)<5&&(ve=!0,"touchend"===t.type&&e.tap&&of(t.target,iu(n(t.target)),t)),clearTimeout(tr),setTimeout(function(){f.removeClass(bi);b("onItemDeactivate",{target:f[0]})},100),er=!1,y=null)}function uh(t){var i,r;ve&&(i="true"==o.attr("data-selected"),p.tap&&(r=p.tap.call(tt,{target:o,index:a,domEvent:t},s)),io&&!o.hasClass(bi)&&(o.addClass(ye?bi:""),b("onItemActivate",{target:o[0],domEvent:t})),de&&(we?i?su(o):oe(o):(su(n(bt,h).filter("."+br)),oe(o))),r=b("onItemTap",{target:o[0],index:a,domEvent:t,selected:i}),r!==!1&&ue(o))}function oo(){ui=nr(p.swipe,{target:o[0],index:a,direction:ct>0?"right":"left"});ui&&(te(),clearTimeout(tr),p.actions?(pr=ts(p,ct),du.html(p.icons).show().children().css("width",pr+"%"),lt.hide(),n(".mbsc-lv-ic-m",k).removeClass("mbsc-lv-ic-disabled"),n(p.leftMenu).each(ao),n(p.rightMenu).each(ao)):(lt.show(),du.hide(),si=p.start,y=sr[si],fr=sr[si-1],rr=sr[si+1]),o.addClass("mbsc-lv-item-swiping").removeClass(bi),hf.css("line-height",d+"px"),k.css({top:it,height:d,backgroundColor:ns(ct)}).addClass("mbsc-lv-stage-c-v").appendTo(ut.parent()),e.iconSlide&&o.append(lt),b("onSlideStart",{target:o[0],index:a}))}function bf(n){var t=!1;ff||(p.actions?k.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(l<0?"right":"left")):(fr&&(l<0?l<=fr.percent:l<y.percent)?(si--,rr=y,y=fr,fr=sr[si-1],t=!0):rr&&(l<0?l>y.percent:l>=rr.percent)&&(si++,fr=y,y=rr,rr=sr[si+1],t=!0),y&&((t||l>0==n<=0)&&eu(y,e.iconSlide),t&&b("onStageChange",{target:o[0],index:a,stage:y}))),or||(ff=!0,ks=pt(yo)))}function so(t){var u,f,i,r=!1;kf(ks);ff=!1;or||yo();p.actions?Math.abs(l)>10&&pr&&(di(o,l<0?-pr:pr,200),r=!0,kt=!0,rs=o,us=a,n(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(n){n.preventDefault();fu(o,!0,t)})):l&&(e.quickSwipe&&!or&&(i=new Date-nh,u=i<300&&ct<-50,f=i<300&&ct>50,u?(tf=!0,y=p.left,eu(y,e.iconSlide)):f&&(tf=!0,y=p.right,eu(y,e.iconSlide))),y&&y.action&&(os=nr(y.disabled,{target:o[0],index:a}),os||(r=!0,kt=or||nr(y.confirm,{target:o[0],index:a}),kt?(di(o,(l<0?-1:1)*lt[0].offsetWidth*100/ir,200,!0),vo(y,o,a,!1,t)):ne(y,o,a,t))));r||fu(o,!0,t);ui=!1}function df(){pi=!0;yt=!1;ni=!1;nu=0;ht=a;e.vibrate&&uf();ft=ou(o,"next");ci=ft.length&&ft[0].offsetTop;nt=ou(o,"prev");li=nt.length&&nt[0].offsetTop+nt[0].offsetHeight;dt.height(d).insertAfter(o);o.css({top:it}).addClass("mbsc-lv-item-dragging").removeClass(bi).appendTo(ss);b("onSortStart",{target:o[0],index:ht})}function ar(n,t,i,r){n.removeClass("mbsc-lv-item-dragging");dt.remove();b("onSortEnd",{target:n[0],index:ht});e.vibrate&&uf();r&&(s.addUndoAction(function(r){s.move(n,t,null,r,i,!0)},!0),b("onSortUpdate",{target:n[0],index:ht}))}function ho(){nf||(clearTimeout(ps),kt&&n(document).trigger("touchstart"),ce&&(s.close(hi,vu),ce=!1,hi=null))}function uu(){clearTimeout(es);es=setTimeout(function(){hr=c[0].innerHeight||c.innerHeight();ro=wt?c.offset().top:0;gt&&(it=o[0].offsetTop,d=o[0].offsetHeight,k.css({top:it,height:d}))},200)}function co(n){gu&&(n.stopPropagation(),n.preventDefault(),gu=!1)}function gf(){yu||(clearTimeout(ws),ws=setTimeout(function(){var n=wt?c[0].getBoundingClientRect().top+c.innerHeight():window.innerHeight,t=pu[0].getBoundingClientRect().top-3<n;!yu&&t&&b("onListEnd")},250))}function lo(){if(pi||!gt){var i,u=c.scrollTop(),r=et.offset().top,f=et[0].offsetHeight,t=wt?c.offset().top:u;n(".mbsc-lv-gr-title",et).each(function(r,u){n(u).offset().top<t&&(i=u)});r<t&&r+f>t?ii.show().empty().append(n(i).clone()):ii.hide()}}function ao(t,i){nr(i.disabled,{target:o[0],index:a})&&n(".mbsc-ic-"+i.icon,k).addClass("mbsc-lv-ic-disabled")}function ne(t,i,r,u){var f,o={icon:"undo2",text:e.undoText,action:function(){s.undo()}};t.undo&&(s.startActionTrack(),n.isFunction(t.undo)&&s.addUndoAction(function(){t.undo.call(tt,{target:i[0],index:r},s)}),af=i.attr("data-ref"));f=t.action.call(tt,{target:i[0],index:r},s);t.undo?(s.endActionTrack(),f!==!1&&di(i,+i.attr("data-pos")<0?-100:100,200),dt.height(d).insertAfter(i),i.css("top",it).addClass("mbsc-lv-item-undo"),du.hide(),lt.show(),k.append(lt),eu(o),vo(o,i,r,!0,u)):fu(i,f,u)}function vo(t,i,u,f,e){var o,s;kt=!0;n(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(n){n.preventDefault();f&&wo(i);fu(i,!0,e)});wr||lt.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(n){n.stopPropagation();o=r(n,"X");s=r(n,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(n){n.preventDefault();"touchend"===n.type&&at();Math.abs(r(n,"X")-o)<10&&Math.abs(r(n,"Y")-s)<10&&(ne(t,i,u,e),f&&(vf=null,wo(i)))})}function yo(){di(o,gs+100*ct/ir);ff=!1}function fu(t,i,r){n(document).off(".mbsc-lv-conf");lt.off(".mbsc-lv-conf");i!==!1?di(t,0,"0"!==t.attr("data-pos")?200:0,!1,function(){ie(t,r);gi(t)}):ie(t,r);kt=!1}function di(n,t,i,r,u){t=Math.max("right"==ui?0:-100,Math.min(t,"left"==ui?0:100));ti=n[0].style;n.attr("data-pos",t);ti[v+"Transform"]="translate3d("+(r?ir*t/100+"px":t+"%")+",0,0)";ti[v+"Transition"]=st+"transform "+(i||0)+"ms";u&&(vi++,setTimeout(function(){u();vi--},i));l=t}function po(n,t,i,r){t=Math.max(ku,Math.min(t,wu));ti=n[0].style;ti[v+"Transform"]="translate3d(0,"+t+"px,0)";ti[v+"Transition"]=st+"transform "+(i||0)+"ms ease-out";r&&(vi++,setTimeout(function(){r();vi--},i))}function te(){clearTimeout(lf);!hu&&s.sortable&&(hu=!0,kr.remove())}function eu(n,t){var i=nr(n.text,{target:o[0],index:a})||"";nr(n.disabled,{target:o[0],index:a})?k.addClass("mbsc-lv-ic-disabled"):k.removeClass("mbsc-lv-ic-disabled");k.css("background-color",n.color||(0===n.percent?ns(l):ds));lt.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(l<0?"right":"left"));dr.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(n.icon||"none"));hf.attr("class","mbsc-lv-ic-text"+(n.icon?"":" mbsc-lv-ic-text-only")+(i?"":" mbsc-lv-ic-only")).html(i||"&nbsp;");e.animateIcons&&(tf?dr.addClass("mbsc-lv-ic-v"):setTimeout(function(){dr.addClass("mbsc-lv-ic-a")},10))}function ie(n,t){gt||(dr.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),k.attr("style","").removeClass("mbsc-lv-stage-c-v"),hf.html(""));k.removeClass("mbsc-lv-left mbsc-lv-right");n&&(b("onSlideEnd",{target:n[0],index:a}),t&&t())}function wo(n){n.css("top","").removeClass("mbsc-lv-item-undo");vf?s.animate(dt,"collapse",function(){dt.remove()}):dt.remove();ie();af=null;vf=null}function gi(n){ti=n[0].style;ti[v+"Transform"]="";ti[v+"Transition"]="";ti.top="";n.removeClass("mbsc-lv-item-swiping")}function nr(t,i){return n.isFunction(t)?t.call(this,i,s):t}function bo(n){return de&&!n.hasClass("mbsc-lv-parent")&&!n.hasClass("mbsc-lv-back")}function ko(t){var i=t.attr("data-ref"),f=t.attr("data-role"),h=ki[t.attr("data-type")||"defaults"],o=bo(t)&&"true"==t.attr("data-selected"),r,u;(i||(i=bu++,t.attr("data-ref",i)),g[i]={item:t,child:t.children(ri),parent:t.parent(),ref:t.parent()[0]===tt?null:t.parent().parent().attr("data-ref")},t.addClass("list-divider"==f?"mbsc-lv-gr-title":"mbsc-lv-item"+(h.actionable?" mbsc-lv-item-actionable":"")+(o?" "+br:"")),t.attr("aria-selected",o?"true":"false"),s.sortable.handle&&"list-divider"!=f&&!t.children(".mbsc-lv-handle-c").length&&t.append(as),e.enhance&&!t.hasClass("mbsc-lv-item-enhanced"))&&(r=t.attr("data-icon"),u=t.find("img").eq(0).addClass("mbsc-lv-img"),u.is(":first-child")?t.addClass("mbsc-lv-img-"+(e.rtl?"right":"left")):u.length&&t.addClass("mbsc-lv-img-"+(e.rtl?"left":"right")),t.addClass("mbsc-lv-item-enhanced").children().each(function(t,i){i=n(i);i.is("p, h1, h2, h3, h4, h5, h6")&&i.addClass("mbsc-lv-txt")}),r&&t.addClass("mbsc-lv-item-ic-"+(t.attr("data-icon-align")||(e.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+r+'"><\/div>'))}function go(t){n(bt,t).not(".mbsc-lv-back").each(function(){ko(n(this))});n(ri,t).not(".mbsc-lv").addClass("mbsc-lv").prepend(le).parent().addClass("mbsc-lv-parent mbsc-lv-item-actionable").prepend(ae);n(".mbsc-lv-back",t).each(function(){n(this).attr("data-back",n(this).parent().parent().attr("data-ref"))})}function vr(n){return n.children(bt).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function ei(t){return"object"!==("undefined"==typeof t?"undefined":ai(t))&&(t=n(bt,h).filter('[data-id="'+t+'"]')),n(t)}function fh(n){for(var i=0,t=g[n.attr("data-ref")];t&&t.ref;)i++,t=g[t.ref];return i}function ou(n,t){for(n=n[t]();n.length&&(!n.hasClass("mbsc-lv-item")||n.hasClass("mbsc-lv-ph")||n.hasClass("mbsc-lv-item-dragging"));){if(!s.sortable.group&&n.hasClass("mbsc-lv-gr-title"))return!1;n=n[t]()}return n}function ns(n){return(n>0?p.right:p.left).color||ds}function oi(n){return w(n)?n+"":0}function ts(n,t){return+(t<0?oi((n.actionsWidth||0).right)||oi(n.actionsWidth)||oi(e.actionsWidth.right)||oi(e.actionsWidth):oi((n.actionsWidth||0).left)||oi(n.actionsWidth)||oi(e.actionsWidth.left)||oi(e.actionsWidth))}function yr(n,t){if(n){var r=c.scrollTop(),u=n.is(".mbsc-lv-item")?n[0].offsetHeight:0,i=n.offset().top+(wt?r-ro:0);t?(i<r||i+u>r+hr)&&c.scrollTop(i):i<r?c.scrollTop(i):i+u>r+hr&&c.scrollTop(Math.min(i,i+u-hr/2))}}function re(n,t,r,u,f){var o=t.parent(),e=t.prev();u=u||i;e[0]===lt[0]&&(e=lt.prev());ut[0]!==t[0]?(b("onNavStart",{level:cr,direction:n,list:t[0]}),ge.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),yr(h),is(ge,"mbsc-lv-sl-"+n,function(){ut.removeClass("mbsc-lv-sl-curr");t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr");cu&&cu.length?ut.removeClass("mbsc-lv-v").insertAfter(cu):lu.append(ut.removeClass("mbsc-lv-v"));cu=e;lu=o;ut=t;yr(r,f);u.call(tt,r);b("onNavEnd",{level:cr,direction:n,list:t[0]})})):(yr(r,f),u.call(tt,r))}function ue(n,t){vi||(n.hasClass("mbsc-lv-parent")?(cr++,re("r",g[n.attr("data-ref")].child,null,t)):n.hasClass("mbsc-lv-back")&&(cr--,re("l",g[n.attr("data-back")].parent,g[n.attr("data-back")].item,t)))}function is(n,t,r){function u(){clearTimeout(f);vi--;n.off(fi,u).removeClass(t);r.call(tt,n)}var f;r=r||i;e.animation&&"mbsc-lv-item-none"!==t?(vi++,n.on(fi,u).addClass(t),f=setTimeout(u,250)):r.call(tt,n)}function fe(n,t){var i,r=n.attr("data-ref");i=uo[r]=uo[r]||[];t&&i.push(t);n.attr("data-action")||(t=i.shift(),t&&(n.attr("data-action",1),t(function(){n.removeAttr("data-action");i.length?fe(n):delete uo[r]})))}function ee(i,r,u){var e,f;i&&i.length&&(e=100/(i.length+2),n.each(i,function(n,o){void 0===o.key&&(o.key=no++);void 0===o.percent&&(o.percent=r*e*(n+1),u&&(f=t({},o),f.key=no++,f.percent=-e*(n+1),i.push(f),yf[f.key]=f));yf[o.key]=o}))}function oe(n){bo(n)&&n.addClass(br).attr("data-selected","true").attr("aria-selected","true")}function su(n){n.removeClass(br).removeAttr("data-selected").removeAttr("aria-selected")}var gt,pr,tr,l,hu,rs,us,h,ht,ut,cu,lu,fs,y,si,es,wr,os,ct,yi,yt,ni,pi,ss,hs,cs,ls,b,kr,au,ii,se,he,wt,as,vs,hi,ce,vu,ys,ps,le,ae,dr,lt,k,ve,yu,ye,ir,o,d,a,wi,bt,pe,gr,ri,pu,wu,ku,du,we,ft,ci,rr,be,ur,ws,gu,nf,bs,ke,dt,nt,li,fr,tf,ks,ff,e,er,de,or,ge,no,sr,gs,nh,ef,sf,ti,ui,to,th,io,hf,lf,p,ki,af,vf,c,hr,nu,ro,s=this,tt=u,et=n(tt),vi=0,cr=0,it=0,yf={},uo={},g={};rt.call(this,u,f,!0);s.animate=function(n,t,i){is(n,"mbsc-lv-item-"+t,i)};s.add=function(t,r,u,f,o,c){var it,p,d,ut,y,w,nt="",a=void 0===o?et:ei(o),v=a,l=n("object"!==("undefined"==typeof r?"undefined":ai(r))?"<"+wi+' data-ref="'+bu+++'" data-id="'+t+'">'+r+"<\/"+wi+">":r),rt=l[0],ft=rt.style,ot=l.attr("data-pos")<0?"left":"right",k=l.attr("data-ref");f=f||i;k||(k=bu++,l.attr("data-ref",k));ko(l);c||s.addUndoAction(function(n){ut?s.navigate(a,function(){v.remove();a.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove();y.child=a.children(ri);s.remove(l,null,n,!0)}):s.remove(l,null,n,!0)},!0);fe(l,function(t){gi(l.css("top","").removeClass("mbsc-lv-item-undo"));a.is(bt)?(w=a.attr("data-ref"),a.children(ri).length||(ut=!0,a.append("<"+gr+"><\/"+gr+">"))):w=a.children(".mbsc-lv-back").attr("data-back");y=g[w];y&&(y.child.length?v=y.child:(a.addClass("mbsc-lv-parent").prepend(ae),v=a.children(ri).prepend(le).addClass("mbsc-lv"),y.child=v,n(".mbsc-lv-back",a).attr("data-back",w)));g[k]={item:l,child:l.children(ri),parent:v,ref:w};d=vr(v);p=d.length;void 0!==u&&null!==u||(u=p);c&&(nt="mbsc-lv-item-new-"+(c?ot:""));go(l.addClass(nt));u!==!1&&(p?u<p?l.insertBefore(d.eq(u)):l.insertAfter(d.eq(p-1)):(it=n(".mbsc-lv-back",v),it.length?l.insertAfter(it):v.append(l)));h.trigger("mbsc-refresh");e.animateAddRemove&&v.hasClass("mbsc-lv-v")?(ft.height=rt.offsetHeight+"px",s.animate(l,c&&af===k?"none":"expand",function(n){s.animate(n,c?"add-"+ot:"pop-in",function(n){ft.height="";f.call(tt,n.removeClass(nt));t()})})):(f.call(tt,l.removeClass(nt)),t());b("onItemAdd",{target:rt})})};s.swipe=function(n,t,i,r,u){var f;n=ei(n);o=n;wr=r;or=!0;gt=!0;i=void 0===i?300:i;ct=t>0?1:-1;eo();oo();di(n,t,i);clearTimeout(th);clearInterval(to);to=setInterval(function(){f=l;l=cf(n)/ir*100;bf(f)},10);th=setTimeout(function(){clearInterval(to);f=l;l=t;bf(f);so(u);wr=!1;or=!1;gt=!1},i)};s.openStage=function(n,t,i,r){yf[t]&&s.swipe(n,yf[t].percent,i,r)};s.openActions=function(n,t,i,r){n=ei(n);var u=ts(ki[n.attr("data-type")||"defaults"],"left"==t?-1:1);s.swipe(n,"left"==t?-u:u,i,r)};s.close=function(n,t){s.swipe(n,0,t)};s.remove=function(t,r,u,f){function v(t){t&&(l=l||t.hasClass("mbsc-lv-v"),t.children("[data-ref]").each(function(){var t=n(this).attr("data-ref");g[t]&&(v(g[t].child),delete g[t])}))}var o,h,y,p,c,l,a;u=u||i;o=ei(t);c=o.attr("data-ref");o.length&&g[c]&&(h=o.parent(),p=vr(h).index(o),a=o[0].style,v(g[c].child),l&&(y=e.animation,e.animation=!1,s.navigate(o),e.animation=y),delete g[c],f||(o.attr("data-ref")===af&&(vf=!0),s.addUndoAction(function(n){s.add(null,o,p,n,h,!0)},!0)),fe(o,function(n){r=r||(o.attr("data-pos")<0?"left":"right");e.animateAddRemove&&h.hasClass("mbsc-lv-v")?s.animate(o.addClass("mbsc-lv-removed"),f?"pop-out":"remove-"+r,function(t){a.height=t[0].offsetHeight+"px";s.animate(t,"collapse",function(t){a.height="";gi(t.removeClass("mbsc-lv-removed"));u.call(tt,t)!==!1&&t.remove();n()})}):(u.call(tt,o)!==!1&&o.remove(),n());b("onItemRemove",{target:o[0]})}))};s.move=function(n,t,i,r,u,f){n=ei(n);f||s.startActionTrack();k.append(lt);s.remove(n,i,null,f);s.add(null,n,t,r,u,f);f||s.endActionTrack()};s.navigate=function(n,t){var i,r;n=ei(n);i=g[n.attr("data-ref")];r=fh(n);i&&(re(r>=cr?"r":"l",i.parent,n,t,!0),cr=r)};s.showLoading=function(){yu=!0;pu.addClass("mbsc-show-lv-loading");c.scrollTop(wt?c[0].scrollHeight:n(e.context)[0].scrollHeight)};s.hideLoading=function(){pu.removeClass("mbsc-show-lv-loading");setTimeout(function(){yu=!1},100)};s.select=function(t){we||su(n(bt,h).filter("."+br));oe(ei(t))};s.deselect=function(n){su(ei(n))};s._processSettings=function(){et.is("[mbsc-enhance]")&&(se=!0,et.removeAttr("mbsc-enhance"))};s._init=function(){var u,f,i,y=et.find(ri).length?"left":"right",t=0,o="",a="",v="";gr=e.listNode;ri=e.listSelector;wi=e.itemNode;bt=e.itemSelector;we="multiple"==e.select;de="off"!=e.select;i=e.sort||e.sortable||!1;"group"===i&&(i={group:!1,multiLevel:!0});i===!0&&(i={group:!0,multiLevel:!0,handle:e.sortHandle});i&&void 0===i.handle&&(i.handle=e.sortHandle);i.handle&&(he=i.handle===!0?y:i.handle,as='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+he+' mbsc-lv-handle"><div class="'+e.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+e.handleMarkup+"<\/div><\/div>");le="<"+wi+' class="mbsc-lv-item mbsc-lv-back mbsc-lv-item-actionable">'+e.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+e.leftArrowClass+'"><\/div><\/'+wi+">";ae='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+e.rightArrowClass+'"><\/div>';u="mbsc-no-touch mbsc-lv-cont mbsc-lv-"+e.theme+" mbsc-"+e.theme+(al?" mbsc-lv-hb":"")+(e.rtl?" mbsc-lv-rtl":"")+(e.baseTheme?" mbsc-lv-"+e.baseTheme+" mbsc-"+e.baseTheme:"")+(e.animateIcons?" mbsc-lv-ic-anim":"")+(e.striped?" mbsc-lv-alt-row":"")+(e.fixedHeader?" mbsc-lv-has-fixed-header":"")+(i.handle?" mbsc-lv-handle-"+he:"");s.sortable=i||!1;h?(h.attr("class",u),n(".mbsc-lv-handle-c",h).remove(),n(bt,h).not(".mbsc-lv-back").removeClass("mbsc-lv-item"),c.off("orientationchange resize",uu),ur&&c.off("scroll touchmove",ur),c.off("scroll touchmove",gf)):(o+='<div class="mbsc-lv-multi-c"><\/div>',o+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"><\/div><div class="mbsc-lv-ic-text"><\/div><\/div>',et.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").removeClass("mbsc-cloak").show(),k=n('<div class="mbsc-lv-stage-c">'+o+"<\/div>"),lt=n(".mbsc-lv-ic-c",k),du=n(".mbsc-lv-multi-c",k),dr=n(".mbsc-lv-ic-s",k),hf=n(".mbsc-lv-ic-text",k),dt=n("<"+wi+' class="mbsc-lv-item mbsc-lv-ph"><\/'+wi+">"),kr=n('<div class="mbsc-lv-fill-item"><\/div>'),h=n('<div class="'+u+'"><'+gr+' class="mbsc-lv mbsc-lv-dummy"><\/'+gr+'><div class="mbsc-lv-sl-c"><\/div><div class="mbsc-lv-loading"><span class="mbsc-ic mbsc-ic-'+(e.loadingIcon||"loop2")+'"><\/span><\/div><\/div>'),ss=n(".mbsc-lv-dummy",h),pu=n(".mbsc-lv-loading",h),h.insertAfter(et),uu(),h.on("touchstart mousedown",".mbsc-lv-item",rh).on("touchmove",".mbsc-lv-item",wf).on("touchend touchcancel",".mbsc-lv-item",ru).on("click",".mbsc-lv-item",uh),tt.addEventListener("click",co,!0),h.on("touchstart mousedown",".mbsc-lv-ic-m",function(n){wr||(n.stopPropagation(),n.preventDefault());ef=r(n,"X");sf=r(n,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(t){wr||("touchend"===t.type&&at(),kt&&!n(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(r(t,"X")-ef)<10&&Math.abs(r(t,"Y")-sf)<10&&ne((l<0?p.rightMenu:p.leftMenu)[n(this).index()],rs,us))}),ge=n(".mbsc-lv-sl-c",h).append(et.addClass("mbsc-lv-sl-curr")).attr("data-ref",bu++),ut=et,lu=h);wt="body"!==e.context;c=n(wt?e.context:window);c.on("orientationchange resize",uu);c.on("scroll touchmove",gf);no=0;ki=e.itemGroups||{};ki.defaults={swipeleft:e.swipeleft,swiperight:e.swiperight,stages:e.stages,actions:e.actions,actionsWidth:e.actionsWidth,actionable:e.actionable};go(et);n.each(ki,function(i,r){if(r.swipe=void 0!==r.swipe?r.swipe:e.swipe,r.actionable=void 0!==r.actionable?r.actionable:e.actionable,r.stages=r.stages||[],ee(r.stages,1,!0),ee(r.stages.left,1),ee(r.stages.right,-1),(r.stages.left||r.stages.right)&&(r.stages=[].concat(r.stages.left||[],r.stages.right||[])),au=!1,r.stages.length||(r.swipeleft&&r.stages.push({percent:-30,action:r.swipeleft}),r.swiperight&&r.stages.push({percent:30,action:r.swiperight})),n.each(r.stages,function(n,t){if(0===t.percent)return au=!0,!1}),au||r.stages.push({percent:0}),r.stages.sort(function(n,t){return n.percent-t.percent}),n.each(r.stages,function(n,t){if(0===t.percent)return r.start=n,!1}),au?r.left=r.right=r.stages[r.start]:(r.left=r.stages[r.start-1]||{},r.right=r.stages[r.start+1]||{}),r.actions){for(r.leftMenu=r.actions.left||r.actions,r.rightMenu=r.actions.right||r.leftMenu,a="",v="",t=0;t<r.leftMenu.length;t++)a+="<div "+(r.leftMenu[t].color?'style="background-color: '+r.leftMenu[t].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+r.leftMenu[t].icon+'">'+(r.leftMenu[t].text||"")+"<\/div>";for(t=0;t<r.rightMenu.length;++t)v+="<div "+(r.rightMenu[t].color?'style="background-color: '+r.rightMenu[t].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+r.rightMenu[t].icon+'">'+(r.rightMenu[t].text||"")+"<\/div>";r.actions.left&&(r.swipe=r.actions.right?r.swipe:"right");r.actions.right&&(r.swipe=r.actions.left?r.swipe:"left");r.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+a+'<\/div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+v+"<\/div>"}});e.fixedHeader&&(f="mbsc-lv-fixed-header"+(wt?" mbsc-lv-fixed-header-ctx mbsc-lv-"+e.theme+" mbsc-"+e.theme+(e.baseTheme?" mbsc-lv-"+e.baseTheme+" mbsc-"+e.baseTheme:""):""),ii?(ii.attr("class",f),lo()):ii=n('<div class="'+f+'"><\/div>'),wt?c.before(ii):h.prepend(ii),ur=rf(lo,200),c.on("scroll touchmove",ur));e.hover&&(vu||h.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){hi&&hi[0]==this||(ho(),hi=n(this),ki[hi.attr("data-type")||"defaults"].actions&&(ps=setTimeout(function(){nf?hi=null:(ce=!0,s.openActions(hi,vs,vu,!1))},ys)))}).on("mouseleave.mbsc-lv",ho),vu=e.hover.time||200,ys=e.hover.timeout||200,vs=e.hover.direction||e.hover||"right");se&&h.attr("mbsc-enhance","");h.trigger("mbsc-enhance",[{theme:e.theme,lang:e.lang}])};s._destroy=function(){var t;lu.append(ut);wt&&ii&&ii.remove();se&&(et.attr("mbsc-enhance",""),t=ot[h[0].id],t&&t.destroy());tt.removeEventListener("click",co,!0);h.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img");h.find(ri).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(bt).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref");n(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",h).remove();et.insertAfter(h);h.remove();k.remove();c.off("orientationchange resize",uu);c.off("scroll touchmove",gf);ur&&c.off("scroll touchmove",ur)};var pf,ih=[],lr=[],fo=[],tu=0;s.startActionTrack=function(){tu||(fo=[]);tu++};s.endActionTrack=function(){tu--;tu||lr.push(fo)};s.addUndoAction=function(n,t){var i={action:n,"async":t};tu?fo.push(i):(lr.push([i]),lr.length>e.undoLimit&&lr.shift())};s.undo=function(){function r(){t<0?(pf=!1,u()):(n=i[t],t--,n.async?n.action(r):(n.action(),r()))}function u(){i=ih.shift();i&&(pf=!0,t=i.length-1,r())}var n,t,i;lr.length&&ih.push(lr.pop());pf||u()};e=s.settings;b=s.trigger;s.init()};oe.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,tap:pi,swipe:!0,quickSwipe:!0,animateAddRemove:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,actionable:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"><\/div><div class="mbsc-lv-handle-bar mbsc-lv-handle"><\/div><div class="mbsc-lv-handle-bar mbsc-lv-handle"><\/div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[],select:"off"}};c.ListView=oe;u.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"};e("listview",oe,!1);gs={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(n){return n},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};o.measurement=function(i){function ni(n){return Math.max(h,Math.min(p,e?n<0?Math.ceil(n):Math.floor(n):at(Math.round(n-dt),g)+dt))}function lt(n){return e?at((Math.abs(n)-Math.abs(ni(n)))*et-gt,g)+gt:0}function ot(n){var t=ni(n),i=lt(n),r=n<0?"-":"+";return i>=et&&(n<0?t--:t++,i=0),[r,t,i]}function ti(n){var t=+n[s],i=e?n[v]/et*(t<0?-1:1):0;return(f&&"-"==n[0]?-1:1)*(t+i)}function at(n,t){return Math.round(n/t)*t}function tt(n,t,i){return t!==i&&r.convert?r.convert.call(this,n,t,i):n}function vt(n){var t,i;l=tt(r.min,nt,n);a=tt(r.max,nt,n);e?(h=l<0?Math.ceil(l):Math.floor(l),p=a<0?Math.ceil(a):Math.floor(a),yt=lt(l),pt=lt(a)):(h=Math.round(l),p=Math.round(a),p=h+Math.floor((p-h)/g)*g,dt=h%g);t=h;i=p;f&&(i=Math.abs(t)>Math.abs(i)?Math.abs(t):Math.abs(i),t=t<0?0:t);ft.min=t<0?Math.ceil(t/c):Math.floor(t/c);ft.max=i<0?Math.ceil(i/c):Math.floor(i/c)}function ii(n){return ti(n).toFixed(e?kt:0)+(w?" "+ct[n[rt]]:"")}var ri,o,it,v,s,rt,l,a,h,p,yt,pt,st,u,ui=t({},i.settings),r=t(i.settings,gs,ui),wt={},ut=[[]],d={},ft={},ht={},bt=[],f=r.sign,w=r.units&&r.units.length,nt=w?r.defaultUnit||r.units[0]:"",ct=[],e=r.step<1,c=r.step>1?r.step:1,kt=e?Math.max(r.scale,(r.step+"").split(".")[1].length):1,et=Math.pow(10,kt),g=Math.round(e?r.step*et:r.step),dt=0,gt=0,k=0;if(i.setVal=function(t,r,u,f,e){i._setVal(n.isArray(t)?ii(t):t,r,u,f,e)},r.units)for(u=0;u<r.units.length;++u)st=r.units[u],ct.push(r.unitNames?r.unitNames[st]||st:st);if(f)if(f=!1,w)for(u=0;u<r.units.length;u++)tt(r.min,nt,r.units[u])<0&&(f=!0);else f=r.min<0;if(f&&(ut[0].push({data:["-","+"],label:r.signText}),k++),ft={label:r.wholeText,data:function(n){return h%c+n*c},getIndex:function(n){return Math.round((n-h%c)/c)}},ut[0].push(ft),s=k++,vt(nt),e){for(ut[0].push(ht),ht.data=[],ht.label=r.fractionText,u=gt;u<et;u+=g)bt.push(u),ht.data.push({value:u,display:"."+b(u,kt)});v=k++;ri=Math.ceil(100/g);r.invalid&&r.invalid.length&&(n.each(r.invalid,function(n,t){var i=t>0?Math.floor(t):Math.ceil(t);0===i&&(i=t<=0?-.001:.001);d[i]=(d[i]||0)+1;0===t&&(i=.001,d[i]=(d[i]||0)+1)}),n.each(d,function(n,t){t<ri?delete d[n]:d[n]=n}))}if(w){for(wt={data:[],label:r.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},u=0;u<r.units.length;u++)wt.data.push({value:u,display:ct[u]});ut[0].push(wt)}return rt=k,{wheels:ut,minWidth:f&&e?70:80,showLabel:!1,formatValue:ii,compClass:"mbsc-msr mbsc-sc",parseValue:function(t){var u,d=("number"==typeof t?t+"":t)||r.defaultValue,k=(d+"").split(" "),c=+k[0],b=[],i="";return w&&(i=n.inArray(k[1],ct),i=i==-1?n.inArray(nt,r.units):i,i=i==-1?0:i),it=w?r.units[i]:"",vt(it),c=isNaN(c)?0:c,c=y(c,l,a),u=ot(c),u[1]=y(u[1],h,p),o=c,f&&(b[0]=u[0],u[1]=Math.abs(u[1])),b[s]=u[1],e&&(b[v]=u[2]),w&&(b[rt]=i),b},onCancel:function(){o=void 0},validate:function(t){var ht,b,lt,ct,wt,u=t.values,et=t.index,ni=t.direction,kt={},ut=[],dt={},st=w?r.units[u[rt]]:"";if(f&&0===et&&(o=Math.abs(o)*("-"==u[0]?-1:1)),(et===s||et===v&&e||void 0===o||void 0===et)&&(o=ti(u),it=st),(w&&et===rt&&it!==st||void 0===et)&&(vt(st),o=tt(o,it,st),it=st,b=ot(o),void 0!==et&&(dt[s]=ft,i.changeWheel(dt)),f&&(u[0]=b[0])),ut[s]=[],f)for(ut[0]=[],l>0&&(ut[0].push("-"),u[0]="+"),a<0&&(ut[0].push("+"),u[0]="-"),wt=Math.abs("-"==u[0]?h:p),k=wt+c;k<wt+20*c;k+=c)ut[s].push(k),kt[k]=!0;if(o=y(o,l,a),b=ot(o),lt=f?Math.abs(b[1]):b[1],ht=f?"-"==u[0]:o<0,u[s]=lt,ht&&(b[0]="-"),e&&(u[v]=b[2]),n.each(e?d:r.invalid,function(n,t){if(f&&ht){if(!(t<=0))return;t=Math.abs(t)}t=at(tt(t,nt,st),e?1:g);kt[t]=!0;ut[s].push(t)}),u[s]=i.getValidValue(s,lt,ni,kt),b[1]=u[s]*(f&&ht?-1:1),e){ut[v]=[];var gt=f?u[0]+u[1]:(o<0?"-":"+")+Math.abs(b[1]),ii=(l<0?"-":"+")+Math.abs(h),ri=(a<0?"-":"+")+Math.abs(p);gt===ii&&n(bt).each(function(n,t){(ht?t>yt:t<yt)&&ut[v].push(t)});gt===ri&&n(bt).each(function(n,t){(ht?t<pt:t>pt)&&ut[v].push(t)});n.each(r.invalid,function(n,t){ct=ot(tt(t,nt,st));(b[0]===ct[0]||0===b[1]&&0===ct[1]&&0===ct[2])&&b[1]===ct[1]&&ut[v].push(ct[2])})}return{disabled:ut,valid:u}}}};o.number=o.measurement;e("number",h);ki={};ku=function(i,u,f){function y(t){var r,u=o.validate.call(i,{values:s.slice(0),variables:c},e)||[],f=u&&u.disabled||[];if(e._isValid=!u.invalid,e._tempValue=o.formatValue.call(i,s.slice(0),c,e),l=s.length,ot=u.length||v,e._isVisible){if(n(".mbsc-np-ph",a).each(function(t){n(this).html("ltr"==o.fill?t>=l?g:b||s[t]:t>=v-ot?t+l<v?g:b||s[t+l-v]:"")}),n(".mbsc-np-cph",a).each(function(){n(this).html(c[n(this).attr("data-var")]||n(this).attr("data-ph"))}),l===v)for(r=0;r<=9;r++)f.push(r);for(n(".mbsc-np-btn",a).removeClass(p),r=0;r<f.length;r++)n('.mbsc-np-btn[data-val="'+f[r]+'"]',a).addClass(p);e._isValid?n(".mbsc-fr-btn-s .mbsc-fr-btn",a).removeClass(p):n(".mbsc-fr-btn-s .mbsc-fr-btn",a).addClass(p);e.live&&(e._hasValue=t||e._hasValue,d(t,!1,t),t&&st("onSet",{valueText:e._value}))}}function d(n,i,r,u){i&&y();u||(it=s.slice(0),ti=t({},c),ni=h.slice(0),e._value=e._hasValue?e._tempValue:null);n&&(e._isInput&&k.val(e._hasValue&&e._isValid?e._value:""),st("onFill",{valueText:e._hasValue?e._tempValue:"",change:r}),r&&(e._preventChange=!0,k.trigger("change")))}function ct(n){var t,i,r=n||[],u=[];for(h=[],c={},t=0;t<r.length;t++)/:/.test(r[t])?(i=r[t].split(":"),c[i[0]]=i[1],h.push(i[0])):(u.push(r[t]),h.push("digit"));return u}function lt(n,t){(l||t||o.allowLeadingZero)&&!n.hasClass("mbsc-disabled")&&!n.hasClass("mbsc-np-btn-empty")&&l<v&&(h.push("digit"),s.push(t),y(!0))}function at(n){var i,t,r=n.attr("data-val"),f="false"!==n.attr("data-track"),u=n.attr("data-var");if(!n.hasClass("mbsc-disabled")){if(u&&(t=u.split(":"),f&&h.push(t[0]),c[t[0]]=void 0===t[2]?t[1]:c[t[0]]==t[1]?t[2]:t[1]),r.length+l<=ot)for(i=0;i<r.length;++i)t=w(r[i])?+r[i]:r[i],(o.allowLeadingZero||l||t)&&(h.push("digit"),s.push(t),l=s.length);y(!0)}}function rt(){var n,i,t=h.pop();if(l||"digit"!==t){if("digit"!==t&&c[t])for(delete c[t],i=h.slice(0),h=[],n=0;n<i.length;n++)i[n]!==t&&h.push(i[n]);else s.pop();y(!0)}}function ii(n){nt=!0;pt=r(n,"X");wt=r(n,"Y");clearInterval(tt);clearTimeout(tt);rt();tt=setInterval(function(){rt()},150)}function yt(){clearInterval(tt);nt=!1}function ri(t){if(vt(t,this)){if("keydown"==t.type&&32!=t.keyCode)return;ii(t);"mousedown"==t.type&&n(document).on("mousemove",ft).on("mouseup",et)}}function ft(n){nt&&(bt=r(n,"X"),kt=r(n,"Y"),dt=bt-pt,gt=kt-wt,(Math.abs(dt)>7||Math.abs(gt)>7)&&yt())}function et(t){nt&&(t.preventDefault(),yt(),"mouseup"==t.type&&n(document).off("mousemove",ft).off("mouseup",et))}var a,p,g,l,o,b,pt,wt,bt,kt,dt,gt,nt,tt,s,ot,st,v,it,k=n(i),e=this,ni=[],h=[],c={},ti={},ui={107:"+",109:"-"},ht={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};ut.call(this,i,u,!0);e.setVal=e._setVal=function(t,r,u,f){e._hasValue=null!==t&&void 0!==t;s=ct(n.isArray(t)?t.slice(0):o.parseValue.call(i,t,e));d(r,!0,void 0===u?r:u,f)};e.getVal=e._getVal=function(n){return e._hasValue||n?e[n?"_tempValue":"_value"]:null};e.setArrayVal=e.setVal;e.getArrayVal=function(n){return n?s.slice(0):e._hasValue?it.slice(0):null};e._readValue=function(){var n=k.val()||"";""!==n&&(e._hasValue=!0);b?(c={},h=[],s=[]):(c=e._hasValue?ti:{},h=e._hasValue?ni:[],s=e._hasValue&&it?it.slice(0):ct(o.parseValue.call(i,n,e)),d(!1,!0))};e._fillValue=function(){e._hasValue=!0;d(!0,!1,!0)};e._generateContent=function(){var u,f,i,t=1,r="",n="";for(n+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+o.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+o.deleteIcon+'"><\/div><div class="mbsc-np-dsp">',r=o.template.replace(/d/g,'<span class="mbsc-np-ph">'+g+"<\/span>").replace(/&#100;/g,"d"),r=r.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2<\/span>'),n+=r,n+="<\/div><\/div>",n+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',u=0;u<4;u++){for(n+='<div class="mbsc-np-row">',f=0;f<3;f++)i=t,10==t||12==t?i="":11==t&&(i=0),n+=""===i?10==t&&o.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(o.leftKey.variable?'data-var="'+o.leftKey.variable+'"':"")+' data-val="'+(o.leftKey.value||"")+'" '+(void 0!==o.leftKey.track?' data-track="'+o.leftKey.track+'"':"")+">"+o.leftKey.text+"<\/div>":12==t&&o.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(o.rightKey.variable?'data-var="'+o.rightKey.variable+'"':"")+' data-val="'+(o.rightKey.value||"")+'" '+(void 0!==o.rightKey.track?' data-track="'+o.rightKey.track+'"':"")+" >"+o.rightKey.text+"<\/div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"><\/div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+i+'">'+i+"<\/div>",t++;n+="<\/div>"}return n+"<\/div><\/div>"};e._markupReady=function(){a=e._markup;y()};e._attachEvents=function(t){t.on("keydown",function(i){var r;void 0!==ui[i.keyCode]?(r=n('.mbsc-np-btn[data-var="sign:-:"]',t),r.length&&(c.sign=107==i.keyCode?"-":"",at(r))):void 0!==ht[i.keyCode]?lt(n('.mbsc-np-btn[data-val="'+ht[i.keyCode]+'"]',t),ht[i.keyCode]):8==i.keyCode&&(i.preventDefault(),rt())});e.tap(n(".mbsc-np-btn",t),function(){var t=n(this);t.hasClass("mbsc-np-btn-custom")?at(t):lt(t,+t.attr("data-val"))},!1,30,!0);n(".mbsc-np-del",t).on("touchstart mousedown keydown",ri).on("touchmove mousemove",ft).on("touchend mouseup keyup",et)};e.__init=function(){o=e.settings;o.template=o.template.replace(/\\d/,"&#100;");g=o.placeholder;v=(o.template.match(/d/g)||[]).length;p="mbsc-disabled "+(o.disabledClass||"");b=o.mask;st=e.trigger;b&&k.is("input")&&k.attr("type","password")};e._indexOf=function(n,t){for(var i=0;i<n.length;++i)if(n[i].toString()===t.toString())return i;return-1};f||e.init()};ku.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"numpad",_presets:ki,_defaults:t({},ut.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",compClass:"mbsc-np",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:i,parseValue:i,formatValue:function(t,i,r){for(var e=1,h=r.settings,l=h.placeholder,o=h.template,c=t.length,s=o.length,u="",f=0;f<s;f++)"d"==o[s-f-1]?(u=e<=c?t[c-e]+u:l+u,e++):u=o[s-f-1]+u;return n.each(i,function(n,t){u=u.replace("{"+n+"}",t)}),n("<div>"+u+"<\/div>").text()}})};c.Numpad=ku;u.themes.numpad=u.themes.frame;nh={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};ki.decimal=function(i){function e(n,t){for(var r,f=n.slice(0),i=0;f.length;)i=10*i+f.shift();for(r=0;r<u;r++)i/=10;return t?i*-1:i}function s(n){var t=e(n).toFixed(u).split("."),i=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandsSeparator);return i+(t[1]?r.decimalSeparator+t[1]:"")}var l=t({},i.settings),r=t(i.settings,nh,l),u=r.scale,f=+r.min.toFixed(u),o=+r.max.toFixed(u),h=f<0,c=new RegExp(r.thousandsSeparator,"g");return i.setVal=function(n,t,r,u){return i._setVal(y(n,f,o),t,r,u)},i.getVal=function(n){var t=i._getVal(n),u=(t+"").replace(c,"").replace(r.decimalSeparator,".");return w(u)?+u:t},{template:(h?"{sign}":"")+r.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(o,Math.abs(f)))+"").length+1).join("d")+(u?"."+Array(u+1).join("d"):"")+r.suffix.replace(/d/g,"\\d"),leftKey:h?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(n){var i,t,e=n||r.defaultValue,f=[];if(e&&(e=(e+"").replace(c,"").replace(r.decimalSeparator,"."),t=e.match(/\d+\.?\d*/g)))for(t=(+t[0]).toFixed(u),i=0;i<t.length;i++)"."!=t[i]&&(+t[i]?f.push(+t[i]):f.length&&f.push(0));return n<0&&f.push("sign:-"),f},formatValue:function(n,t){var i=s(n),u=e(n,t&&"-"==t.sign);return(u<0?"-":"")+(r.returnAffix?r.prefix+i+r.suffix:i)},validate:function(t){var u=t.values,l=s(u),h=e(u,t.variables&&"-"==t.variables.sign),c=[];return u.length||r.allowLeadingZero||c.push(0),i.isVisible()&&n(".mbsc-np-dsp",i._markup).html((t.variables.sign||"")+r.prefix+l+r.suffix),{disabled:c,invalid:h>o||h<f||!!r.invalid&&i._indexOf(r.invalid,h)!=-1}}}};se=["h","m","s"];th={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};ki.timespan=function(i){function e(t){var r,i="",u=3600;return n(se).each(function(n,e){r=Math.floor(t/u);t-=r*u;u/=60;(r>0||"s"==e&&!i)&&(i=i+(i?" ":"")+r+f[e])}),i}var o=t({},i.settings),r=t(i.settings,th,o),f={h:r.hourTextShort.replace(/d/g,"\\d"),m:r.minuteTextShort.replace(/d/g,"\\d"),s:r.secTextShort.replace(/d/g,"\\d")},u='d<span class="mbsc-np-sup mbsc-np-time">'+f.s+"<\/span>";return r.max>9&&(u="d"+u),r.max>99&&(u='<span class="mbsc-np-ts-m">'+(r.max>639?"d":"")+'d<\/span><span class="mbsc-np-sup mbsc-np-time">'+f.m+"<\/span>"+u),r.max>6039&&(u='<span class="mbsc-np-ts-h">'+(r.max>38439?"d":"")+'d<\/span><span class="mbsc-np-sup mbsc-np-time">'+f.h+"<\/span>"+u),i.setVal=function(n,t,r,u){return w(n)&&(n=e(n)),i._setVal(n,t,r,u)},i.getVal=function(n){return i._hasValue||n?af(i.getArrayVal(n)):null},{template:u,parseValue:function(t){var u,o=t||e(r.defaultValue),i=[];return o&&n(se).each(function(n,t){u=new RegExp("(\\d+)"+f[t],"gi").exec(o);u?(u=+u[1],u>9?(i.push(Math.floor(u/10)),i.push(u%10)):(i.length&&i.push(0),(u||i.length)&&i.push(u))):i.length&&(i.push(0),i.push(0))}),i},formatValue:function(n){return e(af(n))},validate:function(n){var u=n.values,t=af(u.slice(0)),f=[];return u.length||f.push(0),{disabled:f,invalid:t>r.max||t<r.min||!!r.invalid&&i._indexOf(r.invalid,+t)!=-1}}}};ih={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};ki.time=function(i){function p(t,i){for(var u="",r=0;r<t.length;++r)u+=t[r]+(r%2==(t.length%2==1?0:1)&&r!=t.length-1?":":"");return n.each(i,function(n,t){u+=" "+t}),u}function w(n){var t,a,v,b,k,tt,p,w,g,nt,i=[],d=2*s.length;if(y=d,n.length||(u&&(i.push(0),i.push(r.leftKey.value)),i.push(r.rightKey.value)),!u&&(d-n.length<2||1!=n[0]&&(n[0]>2||n[1]>3)&&d-n.length<=2)&&(i.push("30"),i.push("00")),(u?n[0]>1||n[1]>2:1!=n[0]&&(n[0]>2||n[1]>3))&&n[0]&&(n.unshift(0),y=d-1),n.length==d)for(t=0;t<=9;++t)i.push(t);else if(1==n.length&&u&&1==n[0]||n.length&&n.length%2==0||!u&&2==n[0]&&n[1]>3&&n.length%2==1)for(t=6;t<=9;++t)i.push(t);if(g=void 0!==n[1]?""+n[0]+n[1]:"",nt=+o==+(void 0!==n[3]?""+n[2]+n[3]:""),r.invalid)for(t=0;t<r.invalid.length;++t)if(tt=r.invalid[t].getHours(),p=r.invalid[t].getMinutes(),w=r.invalid[t].getSeconds(),tt==+g){if(2==s.length&&(p<10?0:+(""+p)[0])==+n[2]){i.push(p<10?p:+(""+p)[1]);break}if((w<10?0:+(""+w)[0])==+n[4]){i.push(w<10?w:+(""+w)[1]);break}}if(r.min||r.max){if(a=+f==+g,v=+e==+g,k=v&&nt,b=a&&nt,0===n.length){for(t=u?2:f>19?f[0]:3;t<=(1==f[0]?9:f[0]-1);++t)i.push(t);if(f>=10&&(i.push(0),2==f[0]))for(t=3;t<=9;++t)i.push(t);if(e&&e<10||f&&f>=10)for(t=e&&e<10?+e[0]+1:0;t<(f&&f>=10?f[0]:10);++t)i.push(t)}if(1==n.length){if(0===n[0])for(t=0;t<f[0];++t)i.push(t);if(f&&0!==n[0]&&(u?1==n[0]:2==n[0]))for(t=u?3:4;t<=9;++t)i.push(t);if(n[0]==f[0])for(t=0;t<f[1];++t)i.push(t);if(n[0]==e[0]&&!u)for(t=+e[1]+1;t<=9;++t)i.push(t)}if(2==n.length&&(a||v))for(t=v?+o[0]+1:0;t<(a?+h[0]:10);++t)i.push(t);if(3==n.length&&(v&&n[2]==o[0]||a&&n[2]==h[0]))for(t=v&&n[2]==o[0]?+o[1]+1:0;t<(a&&n[2]==h[0]?+h[1]:10);++t)i.push(t);if(4==n.length&&(b||k))for(t=k?+l[0]+1:0;t<(b?+c[0]:10);++t)i.push(t);if(5==n.length&&(b&&n[4]==c[0]||k&&n[4]==l[0]))for(t=k&&n[4]==l[0]?+l[1]+1:0;t<(b&&n[4]==c[0]?+c[1]:10);++t)i.push(t)}return i}var b=t({},i.settings),r=t(i.settings,ih,b),s=r.timeFormat.split(":"),u=r.timeFormat.match(/a/i),a=u?"a"==u[0]?r.amText:r.amText.toUpperCase():"",v=u?"a"==u[0]?r.pmText:r.pmText.toUpperCase():"",y=0,f=r.min?""+r.min.getHours():"",e=r.max?""+r.max.getHours():"",h=r.min?""+(r.min.getMinutes()<10?"0"+r.min.getMinutes():r.min.getMinutes()):"",o=r.max?""+(r.max.getMinutes()<10?"0"+r.max.getMinutes():r.max.getMinutes()):"",c=r.min?""+(r.min.getSeconds()<10?"0"+r.min.getSeconds():r.min.getSeconds()):"",l=r.max?""+(r.max.getSeconds()<10?"0"+r.max.getSeconds():r.max.getSeconds()):"";return r.min?r.min.setFullYear(2014,7,20):"",r.max?r.max.setFullYear(2014,7,20):"",{placeholder:"-",allowLeadingZero:!0,template:(3==s.length?"dd:dd:dd":2==s.length?"dd:dd":"dd")+(u?'<span class="mbsc-np-sup">{ampm:--}<\/span>':""),leftKey:u?{text:a,variable:"ampm:"+a,value:"00"}:{text:":00",value:"00"},rightKey:u?{text:v,variable:"ampm:"+v,value:"00"}:{text:":30",value:"30"},parseValue:function(n){var t,f,i=n||r.defaultValue,e=[];if(i){if(i+="",f=i.match(/\d/g))for(t=0;t<f.length;t++)e.push(+f[t]);u&&e.push("ampm:"+(i.match(new RegExp(r.pmText,"gi"))?v:a))}return e},formatValue:function(n,t){return p(n,t)},validate:function(n){var t=n.values,o=n.variables,e=p(t,o),f=t.length>=3?new Date(2014,7,20,""+t[0]+(t.length%2==0?t[1]:""),""+t[t.length%2==0?2:1]+t[t.length%2==0?3:2]):"";return{disabled:w(t),length:y,invalid:(u?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+r.amText+"|"+r.pmText+")$","i").test(e):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(e))||!!r.invalid&&i._indexOf(r.invalid,f)!=-1||!((!r.min||r.min<=f)&&(!r.max||f<=r.max))}}}};rh={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};ki.date=function(i){function k(n){return n%4==0&&n%100!=0||n%400==0}function d(n){var t,e,g,a,b,i=[],s=void 0!==n[u+3]?""+n[u]+n[u+1]+n[u+2]+n[u+3]:"",l=void 0!==n[f+1]?""+n[f]+n[f+1]:"",d=void 0!==n[o+1]?""+n[o]+n[o+1]:"",it=""+r.getMaxDayOfMonth(s||2012,l-1||0),nt=h===s&&+v==+l,tt=c===s&&+y==+l;if(r.invalid)for(t=0;t<r.invalid.length;++t){if(g=r.getYear(r.invalid[t]),a=r.getMonth(r.invalid[t]),b=r.getDay(r.invalid[t]),g==+s&&a+1==+l&&(b<10?0:+(""+b)[0])==+n[o]){i.push(b<10?b:+(""+b)[1]);break}if(a+1==+l&&b==+d&&(""+g).substring(0,3)==""+n[u]+n[u+1]+n[u+2]){i.push((""+g)[3]);break}if(g==+s&&b==+d&&(a<10?0:+(""+(a+1))[0])==+n[f]){i.push(a<10?a:+(""+(a+1))[1]);break}}if("31"!=d||n.length!=f&&n.length!=f+1||(1!=n[f]?i.push(2,4,6,9,11):i.push(1)),"30"==d&&0===n[f]&&n.length<=f+1&&i.push(2),n.length==f){for(t=c===s&&+y<10?1:2;t<=9;++t)i.push(t);h===s&&+v>=10&&i.push(0)}if(n.length==f+1){if(1==n[f]){for(t=c===s?+y[1]+1:3;t<=9;++t)i.push(t);if(h==s)for(t=0;t<+v[1];++t)i.push(t)}if(0===n[f]&&(i.push(0),c===s||h===s))for(t=c===s?+d>+w?+y:+y+1:0;t<=(h===s?+d<+p?+v-1:+v-1:9);++t)i.push(t)}if(n.length==o){for(t=tt?(+w>10?+w[0]:0)+1:+it[0]+1;t<=9;++t)i.push(t);if(nt)for(t=0;t<(+p<10?0:p[0]);++t)i.push(t)}if(n.length==o+1){if(n[o]>=3||"02"==l)for(t=+it[1]+1;t<=9;++t)i.push(t);if(tt&&+w[0]==n[o])for(t=+w[1]+1;t<=9;++t)i.push(t);if(nt&&p[0]==n[o])for(t=0;t<+p[1];++t)i.push(t);if(0===n[o]&&(i.push(0),tt||nt))for(t=tt?+w+1:1;t<=(nt?+p-1:9);++t)i.push(t)}if(void 0!==n[u+2]&&"02"==l&&"29"==d)for(e=+(""+n[u]+n[u+1]+n[u+2]+0);e<=+(""+n[u]+n[u+1]+n[u+2]+9);++e)i.push(k(e)?"":e%10);if(n.length==u){if(r.min)for(t=0;t<+h[0];++t)i.push(t);if(r.max)for(t=+c[0]+1;t<=9;++t)i.push(t);i.push(0)}if(r.min||r.max)for(e=1;e<4;++e)if(n.length==u+e){if(n[u+e-1]==+h[e-1]&&(3!=e||n[u+e-2]==+h[e-2]))for(t=0;t<+h[e]+(3==e&&n[f+1]&&+v>+l?1:0);++t)i.push(t);if(n[u+e-1]==+c[e-1]&&(3!=e||n[u+e-2]==+c[e-2]))for(t=+c[e]+(3==e&&+y<+l?0:1);t<=9;++t)i.push(t)}return i}function b(n){return new Date(+(""+n[u]+n[u+1]+n[u+2]+n[u+3]),+(""+n[f]+n[f+1])-1,+(""+n[o]+n[o+1]))}var u,f,o,l,a=[],g=t({},i.settings),r=t(i.settings,yu,rh,g),e=r.dateOrder,v=r.min?""+(r.getMonth(r.min)+1):0,y=r.max?""+(r.getMonth(r.max)+1):0,p=r.min?""+r.getDay(r.min):0,w=r.max?""+r.getDay(r.max):0,h=r.min?""+r.getYear(r.min):0,c=r.max?""+r.getYear(r.max):0;for(e=e.replace(/y+/gi,"yyyy"),e=e.replace(/m+/gi,"mm"),e=e.replace(/d+/gi,"dd"),u=e.toUpperCase().indexOf("Y"),f=e.toUpperCase().indexOf("M"),o=e.toUpperCase().indexOf("D"),e="",a.push({val:u,n:"yyyy"},{val:f,n:"mm"},{val:o,n:"dd"}),a.sort(function(n,t){return n.val-t.val}),n.each(a,function(n,t){e+=t.n}),u=e.indexOf("y"),f=e.indexOf("m"),o=e.indexOf("d"),e="",l=0;l<8;++l)e+="d",l+1!=u&&l+1!=f&&l+1!=o||(e+=r.delimiter);return i.getVal=function(n){return i._hasValue||n?b(i.getArrayVal(n)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:e,parseValue:function(n){var t,i=[],f=n||r.defaultValue,u=ni(r.dateFormat,f,r);if(f)for(t=0;t<a.length;++t)i=/m/i.test(a[t].n)?i.concat(((r.getMonth(u)<9?"0":"")+(r.getMonth(u)+1)).split("")):/d/i.test(a[t].n)?i.concat(((r.getDay(u)<10?"0":"")+r.getDay(u)).split("")):i.concat((r.getYear(u)+"").split(""));return i},formatValue:function(n){return s(r.dateFormat,b(n),r)},validate:function(n){var u=n.values,t=b(u);return{disabled:d(u),invalid:!("Invalid Date"!=t&&(!r.min||r.min<=t)&&(!r.max||t<=r.max))||!!r.invalid&&i._indexOf(r.invalid,t)!=-1}}}};e("numpad",ku,!1);he=["focus","change","blur","animationstart"];kr=function(t){function i(t,r){var s;et(this,i);var u=ui(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),f=u._$elm,e=u._$parent,o=e.find(".mbsc-select-input, .mbsc-color-input");return(fc(u,e,f),u._checkLabel=u._checkLabel.bind(u),u._mouseDown=u._mouseDown.bind(u),u._setText=u._setText.bind(u),"file"==t.type)&&(s=e.find(".mbsc-file-input"),u._$input=s.length?s:n('<input type="text" class="'+(f.attr("class")||"")+' mbsc-file-input" placeholder="'+(f.attr("placeholder")||"")+'"/>').insertAfter(f),f.on("change",u._setText)),e.addClass("mbsc-input").on("mousedown",u._mouseDown),he.forEach(function(n){f.on(n,u._checkLabel)}),o.length&&(f.after(o),o.hasClass("mbsc-select-input")&&(u._delm=o[0],u.refresh())),u}return ri(i,t),ii(i,[{key:"_setText",value:function(n){for(var r=n.target.files,t=[],i=0;i<r.length;++i)t.push(r[i].name);t.join(", ");this._$input.val(t)}},{key:"_checkLabel",value:function(n){if(this._isFloating){var t=this._delm||this._elm;t.value||document.activeElement===t||n&&("focus"==n.type||"animationstart"==n.type&&this._$elm.is("*:-webkit-autofill"))?this._$parent.addClass("mbsc-label-floating-active"):this._$parent.removeClass("mbsc-label-floating-active")}}},{key:"_mouseDown",value:function(n){document.activeElement===this._elm&&n.target!==this._elm&&n.preventDefault()}},{key:"refresh",value:function(){this._checkLabel()}},{key:"destroy",value:function(){var n=this;cr(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"destroy",this).call(this);this._$parent.off("mousedown",this._mouseDown).removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove();this._$parent.find(".mbsc-input-fill").remove();he.forEach(function(t){n._$elm.off(t,n._checkLabel)});this._$elm.off("change",this._setText)}}]),i}(wi);p("[mbsc-input]",kr);ce=function(n){function t(n,i){et(this,t);var u=ui(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i)),r=u._$elm,f=r.attr("data-icon");return r.addClass("mbsc-btn mbsc-no-touch").find(".mbsc-btn-ic").remove(),f&&(r.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+f+'"><\/span>'),""===r.text()&&r.addClass("mbsc-btn-icon-only")),u._$rippleElm=r,u}return ri(t,n),ii(t,[{key:"getClassElm",value:function(){return this._$elm}}]),t}(wi);p("[mbsc-button]",ce);le=function(n){function t(n,i){et(this,t);var r=ui(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i));return r._$parent.prepend(r._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),r._$elm.after('<span class="mbsc-checkbox-box"><\/span>'),r}return ri(t,n),t}(wi);p("[mbsc-checkbox]",le);ae=function(n){function t(n,i){et(this,t);var r=ui(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i));return r._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),r._$elm.after('<span class="mbsc-radio-box"><span><\/span><\/span>'),r}return ri(t,n),t}(wi);p("[mbsc-radio]",ae);ve=function(t){function i(t,r){et(this,i);var u=ui(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),e=u._$elm,o=u._$parent,s=o.find(".mbsc-select-input"),f=s.length?s:n('<input tabindex="-1" class="mbsc-select-input mbsc-control" readonly>');return u._$input=f,u._delm=f[0],u._setText=u._setText.bind(u),o.addClass("mbsc-select"+(u._$frame?" mbsc-select-inline":"")),e.after(f),f.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"><\/span>'),e.on("change",u._setText),u._setText(),u}return ri(i,t),ii(i,[{key:"destroy",value:function(){cr(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"destroy",this).call(this);this._$parent.find(".mbsc-select-ic").remove();this._$elm.off("change",this._setText)}},{key:"_setText",value:function(){var t=this._elm,i=n(t);i.is("select")&&!i.hasClass("mbsc-comp")&&this._$input.val(t.selectedIndex!=-1?t.options[t.selectedIndex].text:"");this.refresh()}}]),i}(kr);p("[mbsc-dropdown]",ve);ye=["change","keydown","input","scroll"];pe=void 0;it&&n(window).on("resize orientationchange",ts);we=function(n){function t(n,i){et(this,t);var r=ui(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i));return r._$parent.addClass("mbsc-textarea"),ye.forEach(function(n){r._$elm.on(n,r._handle)}),er(n),r}return ri(t,n),ii(t,[{key:"destroy",value:function(){var n=this;cr(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this);ye.forEach(function(t){n._$elm.off(t,n._handle)})}},{key:"refresh",value:function(){cr(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this);clearTimeout(this._debounce);er(this._elm)}},{key:"_handle",value:function(n){switch(cr(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handle",this).call(this,n),n.type){case"change":er(this._elm);break;case"keydown":case"input":this._onInput(n);break;case"scroll":sc(this._elm)}}},{key:"_onInput",value:function(){var n=this;clearTimeout(this._debounce);this._debounce=setTimeout(function(){er(n._elm)},100)}}]),t}(kr);p("[mbsc-textarea]",we);be=function(t){function i(t,r){et(this,i);var u=ui(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),e=void 0,f=void 0,s=u._$elm,o=u._$parent;return u.settings,o.hasClass("mbsc-segmented-item-ready")||(e=n('<div class="mbsc-segmented mbsc-no-touch"><\/div>'),o.after(e),o.parent().find('input[name="'+s.attr("name")+'"]').each(function(){var t=n(this);f=t.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready");n('<span class="mbsc-segmented-content">'+(t.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+t.attr("data-icon")+'"><\/span>':"")+"<\/span>").append(f.contents()).appendTo(f);f.prepend(t);e.append(f)})),u._$rippleElm=s.next(),u}return ri(i,t),ii(i,[{key:"getClassElm",value:function(){return this._$elm.closest(".mbsc-segmented")}}]),i}(wi);p("[mbsc-segmented]",be);di=function(t,i){function ut(){var i;t.disabled||(i=parseFloat(n(this).val()),w(isNaN(i)?r:i))}function st(){return t.disabled}function ht(n,t){w(r+t*s)}function w(n,t,i){ot=r;void 0===t&&(t=!0);void 0===i&&(i=t);r=b(n);g.removeClass("mbsc-disabled");t&&f.val(r);r==v?d.addClass("mbsc-disabled"):r==a&&k.addClass("mbsc-disabled");r!==ot&&i&&f.trigger("change")}function y(n,t,i){var r=f.attr(n);return void 0===r||""===r?t:i?r:+r}function b(n){return+Math.min(a,Math.max(Math.round(n/s)*s,v)).toFixed(et)}var k,d,g,nt,a,v,tt,ft,et,s,it,o,c,r,p,e,l="",h=this,f=n(t),ot=r;rt.call(this,t,i,!0);h.getVal=function(){var n=parseFloat(f.val());return n=isNaN(n)?r:n,b(n)};h.setVal=function(n,t,i){n=parseFloat(n);w(isNaN(n)?r:n,t,i)};h._init=function(){p=f.parent().hasClass("mbsc-stepper");e=p?f.closest(".mbsc-stepper-cont"):f.parent();o=h.settings;v=void 0===i.min?y("min",o.min):i.min;a=void 0===i.max?y("max",o.max):i.max;s=void 0===i.step?y("step",o.step):i.step;et=Math.abs(s)<1?(s+"").split(".")[1].length:0;tt=void 0===i.inputStyle?y("data-input-style",o.inputStyle,!0):i.inputStyle;nt=f.attr("data-val")||o.val;r=b(+t.value||0);c=u.themes.form[o.theme];ft=c&&c.addRipple?c:null;p||e.addClass("mbsc-stepper-cont mbsc-no-touch mbsc-control-w").addClass("box"==tt?"mbsc-input-box":"").addClass("outline"==tt?"mbsc-input-outline":"").append('<span class="mbsc-segmented mbsc-stepper"><\/span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(r==v?"mbsc-disabled":"")+'" data-step="-1" tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"><\/span><\/span><\/span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(r==a?"mbsc-disabled":"")+'"  data-step="1" tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"><\/span><\/span><\/span>').prepend(f);l&&(e.removeClass(l),e.find(".mbsc-segmented").removeClass(l));l="mbsc-"+o.theme+(c.baseTheme?" mbsc-"+c.baseTheme:"")+(o.rtl?" mbsc-rtl":" mbsc-ltr");e.addClass(l);e.find(".mbsc-segmented").addClass(l);d=n(".mbsc-stepper-minus",e);k=n(".mbsc-stepper-plus",e);g=n(".mbsc-stepper-control",e);p||("left"==nt?(e.addClass("mbsc-stepper-val-left"),f.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"><\/span><\/span>')):"right"==nt?(e.addClass("mbsc-stepper-val-right"),k.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"><\/span><\/span>')):d.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"><\/span><\/span>'));it||(f.on("change",ut),it=ru(g,ht,150,st,!1,ft));f.val(r).attr("data-role","stepper").attr("min",v).attr("max",a).attr("step",s).addClass("mbsc-control");t.mbscInst=h};h._destroy=function(){f.removeClass("mbsc-control").off("change",ut);it.destroy();delete t.mbscInst};h.init()};di.prototype={_class:"stepper",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{min:0,max:100,step:1}};c.Stepper=di;p("[mbsc-stepper]",di);gi=function(i,r){var f,e,o,s,u=this;r=r||{};t(r,{changeEvent:"click",round:!1});ee.call(this,i,r,!0);u._readValue=function(){return i.checked?1:0};u._fillValue=function(n,t,i){f.prop("checked",!!n);i&&f.trigger("change")};u._onTap=function(n){u._setVal(n?0:1)};u.___init=function(){o=u.settings;f=n(i);e=f.parent();e.find(".mbsc-switch-track").remove();e.prepend(f);f.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+o.offText+'<\/span><span class="mbsc-switch-txt-on">'+o.onText+"<\/span><\/span><\/span><\/span><\/span>");s&&s.destroy();s=new wi(i,o);u._$track=e.find(".mbsc-progress-track");u._min=0;u._max=1;u._step=1};u.___destroy=function(){s.destroy()};u.getVal=function(){return i.checked};u.setVal=function(n,t,i){u._setVal(n?1:0,t,i)};u.init()};gi.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}};c.Switch=gi;p("[mbsc-switch]",gi);nr=function(t,i,r){var f,e,o,h,c,l,s,u=this,a=n(t);bt.call(this,t,i,!0);u._update=function(n,t,i,r,e,s){return f.css("width",d(n,0,o)+"%"),e||t[i]==n&&!s||u._display(n),n};u._markupReady=function(){var n,t="",i="";for(e=u._$track,f=u._$progress,s=u.settings,h=u._min,o=u._max,u._base=h,u._rounding=s.rtl?"floor":"ceil",c=a.attr("data-empty")||s.empty,l=a.attr("data-filled")||s.filled,n=0;n<o;++n)t+='<span class="mbsc-ic mbsc-ic-'+c+'"><\/span>',i+='<span class="mbsc-ic mbsc-ic-'+l+'"><\/span>';e.html(t);e.append(f);f.html(i);e.append('<span class="mbsc-rating-handle-cont"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+h+'" aria-valuemax="'+o+'" data-index="0"><\/span><\/span>')};r||u.init()};nr.prototype={_class:"progress",_css:"mbsc-progress mbsc-rating",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:1,max:5,step:1,live:!0,round:!0,hover:!0,highlight:!0,returnAffix:!0,empty:"star",filled:"star3"}};c.Rating=nr;p("[mbsc-rating]",nr);uh=1;du=function(){function t(i,r){var s=this,h;et(this,t);var e=void 0,f=void 0,o=void 0,u=n(i);(this.settings=r,this._isOpen=r.isOpen||!1,u.addClass("mbsc-collapsible "+(this._isOpen?"mbsc-collapsible-open":"")),u.hasClass("mbsc-card")?(f=u.find(".mbsc-card-header").eq(0).addClass("mbsc-collapsible-header"),o=u.find(".mbsc-card-content").eq(0).addClass("mbsc-collapsible-content")):u.hasClass("mbsc-form-group")||u.hasClass("mbsc-form-group-inset")?(f=u.find(".mbsc-form-group-title").eq(0).addClass("mbsc-collapsible-header"),o=u.find(".mbsc-form-group-content").eq(0).addClass("mbsc-collapsible-content")):(f=u.find(".mbsc-collapsible-header").eq(0),o=u.find(".mbsc-collapsible-content").eq(0)),e=o[0],e&&!e.id&&(e.id="mbsc-collapsible-"+uh++),f.length&&e)&&(h=n('<span class="mbsc-collapsible-icon mbsc-ic mbsc-ic-arrow-down5"><\/span>'),sf(this,f,function(){s.collapse()}),f.attr("role","button").attr("aria-expanded",this._isOpen).attr("aria-controls",e.id).attr("tabindex","0").on("mousedown",function(n){n.preventDefault()}).on("keydown",function(n){32!==n.which&&13!=n.keyCode||(n.preventDefault(),s.collapse())}).append(h));i.mbscInst=this;this._$header=f;this._$content=o;this._$elm=u;this._$accordionParent=u.parent("[mbsc-accordion], mbsc-accordion, .mbsc-accordion");this.show=this.show.bind(this);this.hide=this.hide.bind(this);this.toggle=this.toggle.bind(this)}return ii(t,[{key:"collapse",value:function(n){var i=this._$elm,t=this._$content,r=function n(){t.off("transitionend",n).css("height","")};void 0===n&&(n=!this._isOpen);(!n||!this._isOpen)&&(n||this._isOpen)&&t.length&&(n?(df&&t.on("transitionend",r).css("height",t[0].scrollHeight),i.addClass("mbsc-collapsible-open")):(df&&t.css("height",getComputedStyle(t[0]).height),setTimeout(function(){t.css("height",0);i.removeClass("mbsc-collapsible-open")})),n&&this._$accordionParent&&this._$accordionParent.find(".mbsc-collapsible-open").each(function(){this!==i[0]&&this.mbscInst.hide()}),this._isOpen=n,this._$header.attr("aria-expanded",this._isOpen))}},{key:"show",value:function(){this.collapse(!0)}},{key:"hide",value:function(){this.collapse(!1)}},{key:"toggle",value:function(){this.collapse()}},{key:"destroy",value:function(){this._$elm.removeClass("mbsc-collapsible mbsc-collapsible-open");this._$content.removeClass("mbsc-collapsible-content");this._$header.removeClass("mbsc-collapsible-header").find(".mbsc-collapsible-icon").remove()}}]),t}();c.CollapsibleBase=du;ke=0;g=function(t,i,r){function s(t){n(".mbsc-fr-c",t).hasClass("mbsc-wdg-c")||(n(".mbsc-fr-c",t).addClass("mbsc-wdg-c").append(o.show()),n(".mbsc-w-p",t).length||n(".mbsc-fr-c",t).addClass("mbsc-w-p"))}var u,e,o=n(t),f=this;ut.call(this,t,i,!0);f._generateContent=function(){return""};f._markupReady=function(n){"inline"!=u.display&&s(n)};f._markupInserted=function(n){"inline"==u.display&&s(n);n.trigger("mbsc-enhance",[{theme:u.theme,lang:u.lang}])};f._markupRemove=function(){o.hide();e&&e.parent().length&&e.after(o)};f.__processSettings=function(){u=f.settings;f.buttons.ok={text:u.okText,icon:u.okIcon,handler:"set"};u.buttons=u.buttons||("inline"==u.display?[]:["ok"]);!e&&o.parent().length&&(e=n(document.createComment("popup")),o.before(e));o.hide()};r||f.init()};g.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_responsive:!0,_class:"popup",_defaults:t({},ut.prototype._defaults,{compClass:"mbsc-wdg",okText:"OK",headerText:!1})};c.Popup=g;c.Widget=g;fh=g;u.themes.popup=u.themes.frame;var vl=it&&!!window.Promise,dt=[],tr=[],gu=void 0;return u.alert=function(n){var t=document.createElement("div");return t.innerHTML=yf(n),or(cc,t,n)},u.confirm=function(n){var t=document.createElement("div");return t.innerHTML=yf(n),or(lc,t,n)},u.prompt=function(n){var t=document.createElement("div");return t.innerHTML=yf(n)+'<label class="mbsc-input">'+(n.label?'<span class="mbsc-label">'+n.label+"<\/span>":"")+'<input tabindex="0" type="'+(n.inputType||"text")+'" placeholder="'+(n.placeholder||"")+'" value="'+(n.value||"")+'"><\/label>',or(ac,t,n)},u.snackbar=function(n){var i=document.createElement("div"),t=n.button;return i.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(n.message||"")+"<\/div>"+(t?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(t.icon?'<span class="mbsc-ic '+(t.text?"mbsc-btn-ic ":"")+"mbsc-ic-"+t.icon+'"><\/span>':"")+(t.text||"")+"<\/button>":"")+"<\/div>",or(rs,i,n)},u.toast=function(n){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(n.message||"")+"<\/div>",or(vc,t,n)},u.notification={dismiss:function(){gu&&gu.hide()}},eh="ios"==a&&nt>7,dr=function(t,i){function h(){f.removeClass("mbsc-no-touch")}var r,o="",f=n(t),s={},e=this;rt.call(this,t,i,!0);e.refresh=function(n){r.enhance&&is(f,s,r,n)};e._init=function(){u.themes.form[r.theme]||(r.theme="mobiscroll");f.hasClass("mbsc-form")||f.on("touchstart",h).show();o&&f.removeClass(o);o="mbsc-form mbsc-no-touch mbsc-"+r.theme+(eh?" mbsc-form-hb":"")+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr")+("box"==r.inputStyle?" mbsc-form-box":"")+("outline"==r.inputStyle?" mbsc-form-outline":"");f.addClass(o).removeClass("mbsc-cloak");e.refresh()};e._destroy=function(){f.removeClass(o).off("touchstart",h);for(var n in s)s[n].destroy()};e.controls=s;r=e.settings;e.init()},dr.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:pi,stopProp:!0,rtl:!1,enhance:!0}},c.Form=dr,p("[mbsc-enhance],[mbsc-form]",dr,!0),gr=function(t,i){var u="",e=n(t),f=this,r=f.settings;rt.call(this,t,i,!0);f._init=function(){var f=r.context,t=n(f),o=t.find(".mbsc-ms-top .mbsc-ms"),s=t.find(".mbsc-ms-bottom .mbsc-ms"),i={};"body"==f?n("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx");u&&e.removeClass(u);o.length&&(i.paddingTop=o[0].offsetHeight);s.length&&(i.paddingBottom=s[0].offsetHeight);u="mbsc-page mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr");e.addClass(u).removeClass("mbsc-cloak").css(i)};f._destroy=function(){e.removeClass(u)};r=f.settings;f.init()},gr.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},c.Page=gr,u.themes.page.mobiscroll={},p("[mbsc-page]",gr),e("page",gr,!1),e("form",dr,!1),e("progress",oi,!1),e("slider",bt,!1),e("stepper",di,!1),e("switch",gi,!1),e("rating",nr,!1),oh={view:{calendar:{type:"month",popover:!0}},allDayText:"All-day",labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events",noEventsText:"No events"},sh={yearChange:!1,weekDays:"short"},o.eventcalendar=function(i,r){function vi(){var i=u.view,n=i.calendar,t=i.eventList,f=u.months,r=u.weeks;n?("week"==n.type?r=n.size||1:n.size&&(f=n.size),tt=!1):(r=0,tt=!0);t&&(o=t.type,e=t.size||1);at=n&&n.labels;ui=t&&t.scrollable;w=i.eventList;kt=void 0===u.eventBubble?n&&n.popover:u.eventBubble;u.weeks=r;u.months=f}function yi(n,t){var i,c=(u.dateWheels||u.dateFormat).search(/m/i),l=(u.dateWheels||u.dateFormat).search(/y/i),r=u.getYear(n),f=u.getMonth(n),h=u.getYear(t),a=u.getMonth(t);"day"==o?i=s(u.dateFormat,n,u)+(e>1?" - "+s(u.dateFormat,t,u):""):"week"==o?i=s(u.dateFormat,n,u)+" - "+s(u.dateFormat,t,u):"month"==o?i=1==e?l<c?r+" "+u.monthNames[f]:u.monthNames[f]+" "+r:l<c?r+" "+u.monthNamesShort[f]+" - "+h+" "+u.monthNamesShort[a]:u.monthNamesShort[f]+" "+r+" - "+u.monthNamesShort[a]+" "+h:"year"==o&&(i=r+(e>1?" - "+h:""));ai.html(i)}function dt(t,r,e){var l,p,w,h,ut=0,et=[],y="",d=[];for(e||(e=i._prepareObj(c,t,r)),l=ft(t);l<=r;l.setDate(l.getDate()+1))h=e[ft(l)],h&&h.length&&d.push({d:new Date(l),list:gt(h)});if(d.length>0)for(p=0;p<d.length;p++){for(h=d[p],y+='<div><div class="mbsc-lv-gr-title mbsc-event-day" data-full="'+fr(h.d)+'">'+s(u.dateFormat,h.d,u)+"<\/div>",w=0;w<h.list.length;w++){var o=h.list[w],g=o.start?f(o.start):null,v=o.end?f(o.end):null,ot=o.color,st=ht.test(o.d)||ei.test(o.d),nt=g&&v&&!k(g,v),ct=!nt||k(g,h.d),tt=!nt||k(v,h.d),it=o.d?st?o.d:f(o.d):g,lt=o.allDay||st||nt&&!ct&&!tt;et.push({d:h.d,e:o});y+='<div class="mbsc-lv-item mbsc-lv-item-actionable" data-index="'+ut+'"><div class="mbsc-event-time">'+(lt?u.allDayText:ct&&it&&it.getTime?s(u.timeFormat,it):nt&&tt?u.toText:"")+(!lt&&tt&&v&&v.getTime?"<br/>"+s(u.timeFormat,v):"")+'<\/div><div class="mbsc-event-color"'+(ot?' style="background:'+ot+';"':"")+'><\/div><div class="mbsc-event-txt">'+o.text+"<\/div><\/div>";ut++}y+="<\/div>"}else y+='<div class="mbsc-lv-gr-title mbsc-event-empty"><div class="mbsc-empty"><h3>'+u.noEventsText+"<\/h3><\/div><\/div>";rt++;a.html('<div class="mbsc-lv mbsc-lv-v">'+y+"<\/div>").scrollTop(0);setTimeout(function(){rt--},150);i.tap(n(".mbsc-lv-item",a),function(t){var i=et[n(this).attr("data-index")];b("onEventSelect",{domEvent:t,event:i.e,date:i.d})})}function hi(){if(p){var t=ft(p.d),r=p.events||nt[t],u=p.cell||n('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+fr(t)+'"]',i._markup)[0];wi(r,t,u);p=null}}function pi(n,t){var i=u.labelsShort,s=t-n,f=Math.abs(s)/1e3,e=f/60,o=e/60,r=o/24,h=r/365;return f<45&&Math.round(f)+" "+i[5].toLowerCase()||e<45&&Math.round(e)+" "+i[4].toLowerCase()||o<24&&Math.round(o)+" "+i[3].toLowerCase()||r<30&&Math.round(r)+" "+i[2].toLowerCase()||r<365&&Math.round(r/30)+" "+i[1].toLowerCase()||Math.round(h)+" "+i[0].toLowerCase()}function gt(n){return n.slice(0).sort(function(n,t){var i=n.start?f(n.start):null,r=t.start?f(t.start):null,u=n.end?f(n.end):null,e=t.end?f(t.end):null,l=ht.test(n.d)||ei.test(n.d),a=ht.test(t.d)||ei.test(t.d),o=n.d?l?n.d:f(n.d):i,s=t.d?a?t.d:f(t.d):r,h=o.getTime?i&&u&&i.toDateString()!==u.toDateString()?1:n.allDay?2:o.getTime():0,c=s.getTime?r&&e&&r.toDateString()!==e.toDateString()?1:t.allDay?2:s.getTime():0;return h==c?n.text>t.text?1:-1:h-c})}function wi(t,r,e){if(t){var o,c,l,h,a='<div class="mbsc-cal-event-list">';o=n('<div class="mbsc-cal-events '+(u.eventBubbleClass||"")+'"><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"><\/div><div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"><\/div><\/div><\/div><\/div>');c=n(".mbsc-cal-events-i",o);l=n(".mbsc-cal-events-sc",o);i.tap(c,function(){h.scrolled||d()});v=new g(o[0],{display:"bubble",theme:u.theme,lang:u.lang,context:u.context,buttons:[],anchor:e,showOverlay:!1,cssClass:"mbsc-no-padding mbsc-cal-events-popup",onShow:function(){h=new wt(c[0],{scrollbar:n(".mbsc-sc-bar-c",o),stopProp:!1})},onClose:function(n,t){t.destroy();h.destroy()}});st=e;t=gt(t);n.each(t,function(t,i){var o=i.start?f(i.start):null,e=i.end?f(i.end):null,y=ht.test(i.d)||ei.test(i.d),c=i.d?y?i.d:f(i.d):o,h=o&&e&&!k(o,e),p=!h||k(o,r),d=!h||k(e,r),g=i.allDay||y||h&&!p&&!d,w=i.color,l="",v="",b=n("<div>"+i.text+"<\/div>").text();c.getTime&&(l=s((h?"MM d yy ":"")+u.timeFormat,c));e&&(v=s((h?"MM d yy ":"")+u.timeFormat,e));a+='<div role="button" title="'+b+'" aria-label="'+b+(l?", "+u.fromText+": "+l:"")+(v?", "+u.toText+": "+v:"")+'" class="mbsc-cal-event mbsc-lv-item mbsc-lv-item-actionable"><div class="mbsc-cal-event-color" style="'+(w?"background:"+w+";":"")+'"><\/div><div class="mbsc-cal-event-text"><div class="mbsc-cal-event-time">'+(g?u.allDayText:p&&c.getTime?s(u.timeFormat,c):"")+"<\/div>"+i.text+"<\/div>"+(o&&e&&!i.allDay?'<div class="mbsc-cal-event-dur">'+u.formatDuration(o,e,i)+"<\/div>":"")+"<\/div>"});a+="<\/div>";l.html(a);v.show();b("onEventBubbleShow",{target:st,eventList:o[0]});i.tap(n(".mbsc-cal-event",l),function(i){h.scrolled||b("onEventSelect",{domEvent:i,event:t[n(this).index()],date:r})});lt=!0}}function bi(){var r,u,t;rt||n(".mbsc-event-day",this).each(function(){if(u=this.offsetTop-ct.scrollTop,u>=0&&u<35)return t=n(this).attr("data-full").split("-"),r=yt(t[0],t[1]-1,t[2]),k(r,y)||(vt=!0,i.setVal(r)),!1})}function d(){v&&lt&&v.hide();st=null;lt=!1}function ci(t){0==n(t.target).closest(".mbsc-cal-day").length&&d()}function ut(){d();i.redraw()}function li(n){var t=u.getYear(n),i=u.getMonth(n),s=u.getDay(n),r,f;(h=n,"day"==o)?l=u.getDate(t,i,s+e-1):"week"==o?(f=h.getDay(),r=s+u.firstDay-(u.firstDay-f>0?7:0)-f,h=u.getDate(t,i,r),l=u.getDate(t,i,r+7*e-1)):"month"==o?(h=u.getDate(t,i,1),l=u.getDate(t,i+e,0)):"year"==o&&(h=u.getDate(t,0,1),l=u.getDate(t+e,0,0))}function ni(t,i){if(w&&!vt){var r=n('.mbsc-event-day[data-full="'+fr(t)+'"]',a);r.length&&(rt++,ic(ct,r.parent()[0].offsetTop,i,function(){setTimeout(function(){rt--},150)}))}}function et(n,t){n&&b("onPageChange",{firstDay:h,lastDay:l});t||b("onPageLoading",{firstDay:h,lastDay:l});b("onPageLoaded",{firstDay:h,lastDay:l})}var it,ot,a,ai,y,h,l,st,ct,nt,lt,ti,ii,tt,o,e,at,p,v,vt,ri,pt,bt,ui,w,kt,fi,ki=this,di=t({},i.settings),u=t(i.settings,oh,di,sh,r),rt=0,oi=0,c=t(!0,[],u.data),si=!0,b=i.trigger;return u.data=c,n.each(c,function(n,t){void 0===t._id&&(t._id=oi++)}),vi(),it=ue.call(this,i),i._onSelectShow=function(){d()},i._onGenMonth=function(n,t){nt=i._prepareObj(c,n,t);i._labels=at?nt:null},i._onRefresh=function(n){ri=!0;pt=null;bt=null;tt&&et(!1,n)},i._onSetDate=function(n,t){y=n;tt?vt||(li(n),et(!0)):t||ti||(w&&"day"==o&&dt(n,n,nt),!kt&&!fi||ii||hi(),ni(n));vt=!1;fi=!1;ii=!1},i._getDayProps=function(n){var t=nt[n],i={events:t};return u.marked||u.labels||at||(t?(i.background=t[0]&&t[0].background,i.marked=t,i.markup=u.showEventCount?'<div class="mbsc-cal-txt">'+t.length+" "+(t.length>1?u.eventsText:u.eventText)+"<\/div>":'<div class="mbsc-cal-marks"><div class="mbsc-cal-mark"><\/div><\/div>'):i.markup=u.showEventCount?'<div class="mbsc-cal-txt-ph"><\/div>':""),i},i.addEvent=function(i){var r=[];return i=t(!0,[],n.isArray(i)?i:[i]),n.each(i,function(n,t){void 0===t._id&&(t._id=oi++);c.push(t);r.push(t._id)}),ut(),r},i.updateEvent=function(t){n.each(c,function(n,i){if(i._id===t._id)return c.splice(n,1,t),!1});ut()},i.removeEvent=function(t){t=n.isArray(t)?t:[t];n.each(t,function(t,i){n.each(c,function(n,t){if(t._id===i)return c.splice(n,1),!1})});ut()},i.getEvents=function(n){var r;return n?(n.setHours(0,0,0,0),r=i._prepareObj(c,n,n),r[n]?gt(r[n]):[]):t(!0,[],c)},i.setEvents=function(i){var r=[];return u.data=c=t(!0,[],i),n.each(c,function(n,t){void 0===t._id&&(t._id=oi++);r.push(t._id)}),ut(),r},i.navigate=function(n,t,r){p=r?{d:n}:null;i.setVal(n,!0,!0,!1,t?200:0)},t({},it,{multiLabel:at,headerText:!1,buttons:"inline"!==u.display?["close"]:u.buttons,compClass:"mbsc-ev-cal mbsc-calendar mbsc-dt mbsc-sc",formatDuration:pi,onMarkupReady:function(t,i){ot=n(t.target);y=i.getDate(!0);w&&(a=n('<div class="mbsc-lv-cont mbsc-lv-'+u.theme+(u.baseTheme?" mbsc-lv-"+u.baseTheme:"")+(ui?" mbsc-event-list-h":"")+' mbsc-event-list"><\/div>').appendTo(n(".mbsc-fr-w",ot)),a.on("scroll",rf(bi)),ct=a[0]);it.onMarkupReady.call(this,t);ai=n(".mbsc-cal-month",ot);lt=!1;li(y);w&&tt&&(et(),ru(n(".mbsc-cal-btn",ot),function(n,t){var i=u.getYear(h),r=u.getMonth(h),f=u.getDay(h);"day"==o?(h=u.getDate(i,r,f+t*e),l=u.getDate(i,r,f+(t+1)*e-1)):"week"==o?(h=u.getDate(i,r,f+t*e*7),l=u.getDate(i,r,f+(t+1)*e*7-1)):"month"==o?(h=u.getDate(i,r+t*e,1),l=u.getDate(i,r+(t+1)*e,0)):"year"==o&&(h=u.getDate(i+t*e,0,1),l=u.getDate(i+(t+1)*e,0,0));et(!0)},200));n(document).on("click",ci)},onDayChange:function(t){var i=t.target,r=i!==st;d();r&&(fi=kt!==!1&&n(".mbsc-cal-txt-more",i).length,p={d:t.date,cell:u.outerMonthChange&&n(i).hasClass("mbsc-cal-day-diff")?null:i,events:t.events})},onLabelTap:function(n){n.label&&(b("onEventSelect",{domEvent:n.domEvent,event:n.label,date:n.date}),ii=!0)},onPageChange:function(n){d();ti=!0;i._isSetDate||i.setVal(n.firstDay)},onPageLoaded:function(n){var t=n.firstDay,r=n.lastDay;w&&(tt?pt&&bt&&k(pt,t)&&k(bt,r)||(pt=t,bt=r,dt(t,r),yi(t,r)):("month"==o?r=u.getDate(u.getYear(t),u.getMonth(t)+e,0):"week"==o?r=u.getDate(u.getYear(t),u.getMonth(t),u.getDay(t)+7*e-1):(t=i.getVal(!0),r=t),dt(t,r,nt)),si||k(y,t)||(ni(y,ri),ri=!1));kt&&hi();ti=!1},onPosition:function(n){if(it.onPosition.call(this,n),v&&v.position(),w&&ui){a.addClass("mbsc-event-list-h");var i="inline"==u.display?ki.parentNode:window,r=yc(i),t=r-n.popup.offsetHeight;ct.style.height=t>200?t+"px":"";a.removeClass("mbsc-event-list-h");si&&t&&(ni(y,!0),si=!1)}},onHide:function(){it.onHide.call(this);v&&v.destroy();n(document).off("click",ci)}})},e("eventcalendar",h),hh={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},de={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,"in":.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032},o.distance=function(n){var i=t({},hh,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*de[t]/de[i]}}),o.measurement.call(this,n)},ch={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},ge={N:1,kp:9.80665,lbf:4.448222,pdl:.138255},o.force=function(n){var i=t({},ch,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*ge[t]/ge[i]}}),o.measurement.call(this,n)},lh={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},no={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74},o.mass=function(n){var i=t({},lh,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*no[t]/no[i]}}),o.measurement.call(this,n)},ah={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},to={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852},o.speed=function(n){var i=t({},ah,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*to[t]/to[i]}}),o.measurement.call(this,n)},vh={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},yh={c2k:function(n){return n+273.15},c2f:function(n){return 9*n/5+32},c2r:function(n){return 9*(n+273.15)/5},k2c:function(n){return n-273.15},k2f:function(n){return 9*n/5-459.67},k2r:function(n){return 9*n/5},f2c:function(n){return 5*(n-32)/9},f2k:function(n){return 5*(n+459.67)/9},f2r:function(n){return n+459.67},r2c:function(n){return 5*(n-491.67)/9},r2k:function(n){return 5*n/9},r2f:function(n){return n-459.67}},o.temperature=function(n){var i=t({},vh,n.settings);return t(n.settings,i,{sign:!0,convert:function(n,t,i){return yh[t+"2"+i](n)}}),o.measurement.call(this,n)},e("measurement",h),e("distance",h),e("force",h),e("mass",h),e("speed",h),e("temperature",h),ph=1,ir=function(r,u,f){function k(n){clearTimeout(st);st=setTimeout(function(){g(!n||"load"!==n.type)},200)}function d(n,t){if(n.length){if(t=e._onItemTap(n,t),c=n,n.parent()[0]==r){var f=n.offset().left,i=n[0].offsetLeft,u=n[0].offsetWidth,l=h.offset().left;y&&(i=b-i-u);"a"==o.variant?f<l?p.scroll(y?i+u-s:-i,it,!0):f+u>l+s&&p.scroll(y?i:s-i-u,it,!0):p.scroll((s/2-i-u/2)*(y?-1:1),it,!0)}t&&a("onItemTap",{target:n[0]})}}function ut(){var t,i;e._initMarkup(h);v.find(".mbsc-ripple").remove();e._$items=v.children();e._$items.each(function(r){var o,u=n(this),f=u.attr("data-ref");f||(f=ph++);0===r&&(t=u);c||(c=e._getActiveItem(u));i=e._getItemProps(u)||{};o="mbsc-scv-item mbsc-btn-e "+(i.cssClass||"");u.attr("data-ref",f).removeClass(tt[f]).addClass(o);tt[f]=o});c||(c=t);e._markupReady(h)}function g(n,i){var u=o.itemWidth,f=o.layout;return e.contWidth=s=h.width(),!e._checkResp()&&void(n&&ot===s||!s||(ot=s,w(f)&&(l=s?s/f:u,l<u&&(f="liquid")),u&&("liquid"==f?l=s?s/Math.min(Math.floor(s/u),e._$items.length):u:"fixed"==f&&(l=u)),e._size(s,l),l&&v.children().css("width",l+"px"),e.totalWidth=b=r.offsetWidth,t(p.settings,{contSize:s,maxSnapScroll:!!o.paging&&1,maxScroll:0,minScroll:b>s?s-b:0,snap:o.paging?s:!!ht&&(l||".mbsc-scv-item"),elastic:b>s&&(l||s)}),p.refresh(i)))}var c,h,ft,nt,s,l,et,ot,st,y,p,ht,o,b,ct,a,tt={},it=1e3,e=this,v=n(r);rt.call(this,r,u,!0);e.navigate=function(n,t){d(e._getItem(n),t)};e.next=function(n){if(c){var t=c.next();t.length&&(c=t,d(c,n))}};e.prev=function(n){if(c){var t=c.prev();t.length&&(c=t,d(c,n))}};e.refresh=e.position=function(n){ut();g(!1,n)};e._init=function(){var t;ft=n(o.context);nt=n("body"==o.context?window:o.context);e.__init();y=o.rtl;ht=!(!o.itemWidth||"fixed"==o.layout||void 0!==o.snap)||o.snap;t="mbsc-scv-c mbsc-no-touch mbsc-"+o.theme+" "+(o.cssClass||"")+" "+(o.wrapperClass||"")+(o.baseTheme?" mbsc-"+o.baseTheme:"")+(y?" mbsc-rtl":" mbsc-ltr")+(o.itemWidth?" mbsc-scv-hasw":"")+("body"==o.context?"":" mbsc-scv-ctx")+" "+(e._getContClass()||"");h?(h.attr("class",t),v.off(".mbsc-ripple")):(h=n('<div class="'+t+'"><div class="mbsc-scv-sc"><\/div><\/div>').insertAfter(v),h.find(".mbsc-scv-sc").append(v),h.find("img").on("load",k),nt.on("orientationchange resize",k),et=so(h[0],k,o.zone),p=new wt(h[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:y,mousewheel:o.mousewheel,thresholdX:o.threshold,stopProp:o.stopProp,onStart:function(n){ct||"touchstart"!=n.domEvent.type||(ct=!0,ft.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(t){var i=t.domEvent,r=i.target;"touchend"===i.type&&o.tap&&of(r,iu(n(r)),i);setTimeout(function(){d(n(t.target),!0)},10)},onGestureStart:function(n){a("onGestureStart",n)},onGestureEnd:function(n){a("onGestureEnd",n)},onMove:function(n){a("onMove",n)},onAnimationStart:function(n){a("onAnimationStart",n)},onAnimationEnd:function(n){a("onAnimationEnd",n)}}));v.css("display","").addClass("mbsc-scv").removeClass("mbsc-cloak");ut();a("onMarkupReady",{target:h[0]});g()};e._size=i;e._initMarkup=i;e._markupReady=i;e._getContClass=i;e._getItemProps=i;e._getActiveItem=i;e.__init=i;e.__destroy=i;e._destroy=function(){e.__destroy();nt.off("orientationchange resize",k);v.removeClass("mbsc-scv").insertAfter(h).find(".mbsc-scv-item").each(function(){var t=n(this);t.width("").removeClass(tt[t.attr("data-ref")])});h.remove();p.destroy();et.detach()};e._getItem=function(t){return"object"!==("undefined"==typeof t?"undefined":ai(t))&&(t=e._$items.filter('[data-id="'+t+'"]')),n(t)};e._onItemTap=function(n,t){return void 0===t||t};o=e.settings;a=e.trigger;f||e.init()},ir.prototype={_class:"scrollview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:{tap:pi,stopProp:!1,context:"body",layout:"liquid"}},c.ScrollView=ir,rr=function(t,r,u){function y(){o&&"inline"!=o&&v.find(".mbsc-page").css("padding-"+o,"")}function a(n){n.addClass(l).attr("data-selected","true").attr("aria-selected","true")}function h(n){n.removeClass(l).removeAttr("data-selected").removeAttr("aria-selected")}var v,o,s,c,l,e,p=n(t),f=this;ir.call(this,t,r,!0);f.select=function(n){s||h(f._$items.filter(".mbsc-ms-item-sel"));a(f._getItem(n))};f.deselect=function(n){h(f._getItem(n))};f.enable=function(n){f._getItem(n).removeClass("mbsc-disabled").removeAttr("data-disabled").removeAttr("aria-disabled")};f.disable=function(n){f._getItem(n).addClass("mbsc-disabled").attr("data-disabled","true").attr("aria-disabled","true")};f.setBadge=function(t,i){var r;t=f._getItem(t).attr("data-badge",i);r=n(".mbsc-ms-badge",t);r.length?i?r.html(i):r.remove():i&&t.append('<span class="mbsc-ms-badge">'+i+"<\/span>")};f._markupReady=function(n){f._hasIcons?n.addClass("mbsc-ms-icons"):n.removeClass("mbsc-ms-icons");f._hasText?n.addClass("mbsc-ms-txt"):n.removeClass("mbsc-ms-txt");f.__markupReady(n)};f._size=function(n,i){f.__size(n,i);"inline"!=o&&v.find(".mbsc-page").css("padding-"+o,t.offsetHeight+"px")};f._onItemTap=function(n,t){return f.__onItemTap(n,t)!==!1&&(void 0===t&&(t=!s),c&&t&&!n.hasClass("mbsc-disabled")&&(s?"true"==n.attr("data-selected")?h(n):a(n):(h(f._$items.filter(".mbsc-ms-item-sel")),a(n))),t)};f._getActiveItem=function(n){var t="true"==n.attr("data-selected");if(c&&!s&&t)return n};f._getItemProps=function(n){var i="true"==n.attr("data-selected"),r="true"==n.attr("data-disabled"),t=n.attr("data-icon"),u=n.attr("data-badge");return n.attr("data-role","button").attr("aria-selected",i?"true":"false").attr("aria-disabled",r?"true":"false").find(".mbsc-ms-badge").remove(),u&&n.append('<span class="mbsc-ms-badge">'+u+"<\/span>"),t&&(f._hasIcons=!0),n.text()&&(f._hasText=!0),{cssClass:"mbsc-ms-item "+(e.itemClass||"")+" "+(i?l:"")+(r?" mbsc-disabled "+(e.disabledClass||""):"")+(t?" mbsc-ms-ic mbsc-ic mbsc-ic-"+t:"")}};f._getContClass=function(){return" mbsc-ms-c mbsc-ms-"+e.variant+" mbsc-ms-"+o+(c?"":" mbsc-ms-nosel")+(f.__getContClass()||"")};f.__init=function(){f.___init();v=n(e.context);y();o=e.display;s="multiple"==e.select;c="off"!=e.select;l=" mbsc-ms-item-sel "+(e.activeClass||"");p.addClass("mbsc-ms mbsc-ms-base "+(e.groupClass||""))};f.__destroy=function(){p.removeClass("mbsc-ms mbsc-ms-base "+(e.groupClass||""));y();f.___destroy()};f.__onItemTap=i;f.__getContClass=i;f.__markupReady=i;f.__size=i;f.___init=i;f.___destroy=i;e=f.settings;u||f.init()},rr.prototype={_defaults:t({},ir.prototype._defaults)},nf=function(t,i){var f,s,h,r,o,e=n(t),c=e.is("ul,ol"),u=this;rr.call(this,t,i,!0);u._initMarkup=function(){f&&f.remove();s&&e.append(s.children())};u.__size=function(t,i){var c,a=i||72,v=u._$items.length,l=0;o.hide();"bottom"==r.type&&(e.removeClass("mbsc-scv-liq"),f.remove(),u._$items.remove().each(function(r){var u=n(this);e.append(u);l+=i||this.offsetWidth||0;Math.round(l+(r<v-1?a:0))>t&&(c=!0,s.append(u.css("width","").addClass("mbsc-fr-btn-e")))}),f.attr("class",h+(r.moreIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+r.moreIcon:"")).html(u._hasIcons&&u._hasText?r.moreText:""),c&&e.append(f));"liquid"==r.layout&&e.addClass("mbsc-scv-liq")};u.__onItemTap=function(n){if(n.hasClass("mbsc-menu-item")&&u.trigger("onMenuShow",{target:n[0],menu:o})!==!1)return o.show(!1,!0),!1};u.__getContClass=function(){return"hamburger"==r.type?" mbsc-ms-hamburger":""};u.__markupReady=function(n){"hamburger"==r.type&&(s.append(u._$items.addClass("mbsc-fr-btn-e")),f.attr("class",h+(r.menuIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+r.menuIcon:"")).html(r.menuText||""),e.append(f),r.menuText&&r.menuIcon||n.removeClass("mbsc-ms-icons"),r.menuText?n.addClass("mbsc-ms-txt"):n.removeClass("mbsc-ms-txt"))};u.___init=function(){var t;"tab"==r.type?(r.display=r.display||"top",r.variant=r.variant||"b"):"bottom"==r.type?(r.display=r.display||"bottom",r.variant=r.variant||"a"):"hamburger"==r.type&&(r.display=r.display||"inline",r.variant=r.variant||"a");h="mbsc-scv-item mbsc-ms-item mbsc-btn-e mbsc-menu-item "+(r.itemClass||"");f||(f=n(c?"<li><\/li>":"<div><\/div>"),s=n(c?"<ul><\/ul>":"<div><\/div>").addClass("mbsc-scv mbsc-ms"));o=new g(s[0],{display:"bubble",theme:r.theme,lang:r.lang,context:r.context,buttons:[],anchor:f,onBeforeShow:function(n,i){t=null;i.settings.cssClass="mbsc-wdg mbsc-ms-a mbsc-ms-more"+(u._hasText?"":" mbsc-ms-more-icons")},onBeforeClose:function(){return u.trigger("onMenuHide",{target:t&&t[0],menu:o})},onMarkupReady:function(i,r){u.tap(r._markup.find(".mbsc-fr-c"),function(i){t=n(i.target).closest(".mbsc-ms-item");t.length&&!t.hasClass("mbsc-disabled")&&("touchend"===i.type?ef(i,i.target):(u.navigate(t,!0),o.hide()))})}})};u.___destroy=function(){o.destroy();e.append(u._$items);f.remove()};r=u.settings;u.init()},nf.prototype={_class:"navigation",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:t({},rr.prototype._defaults,{type:"bottom",moreText:"More",moreIcon:"material-more-horiz",menuIcon:"material-menu"})},c.Navigation=nf,e("nav",nf,!1),e("scrollview",ir,!1),tf=function(n,t){var i=this;rr.call(this,n,t,!0);i.___init=function(){};i.init()},tf.prototype={_class:"optionlist",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:t({},rr.prototype._defaults,{select:"multiple",variant:"a",display:"inline"})},c.Optionlist=tf,u.themes.optionlist=u.themes.navigation,e("optionlist",tf,!1),wh="ios"==a&&nt>7,nu=function(t,i){function h(){u.removeClass("mbsc-no-touch")}var e,r,o="",u=n(t),s={},f=this;rt.call(this,t,i,!0);f.refresh=function(n){is(u,s,e,n)};f._init=function(){var i=void 0!==e.collapsible||void 0!==u.attr("data-collapsible"),n;(u.hasClass("mbsc-card")||u.on("touchstart",h).show(),o&&u.removeClass(o),o="mbsc-card mbsc-form mbsc-no-touch mbsc-"+e.theme+(wh?" mbsc-form-hb":"")+(e.baseTheme?" mbsc-"+e.baseTheme:"")+(e.rtl?" mbsc-rtl":" mbsc-ltr"),u.addClass(o).removeClass("mbsc-cloak"),i&&!r)&&(n=u.attr("data-open"),r=new du(t,{isOpen:void 0!==n&&"false"!=n||e.collapsible===!0}));f.refresh()};f._destroy=function(){u.removeClass(o).off("touchstart",h);for(var n in s)s[n].destroy();r&&r.destroy()};f.toggle=function(){r&&r.toggle()};f.hide=function(){r&&r.hide()};f.show=function(){r&&r.show()};e=f.settings;f.init()},nu.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"card",_defaults:{tap:pi,stopProp:!0,rtl:!1}},c.Card=nu,p("[mbsc-card]",nu,!0),e("card",nu,!1),e("popup",g,!1),e("widget",fh,!1),u.i18n.es={setText:"Aceptar",cancelText:"Cancelar",clearText:"Borrar",selectedText:"{count} seleccionado",selectedPluralText:"{count} seleccionados",dateFormat:"dd/mm/yy",dayNames:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],dayNamesShort:["Do","Lu","Ma","Mi","Ju","Vi","S"],dayNamesMin:["D","L","M","M","J","V","S"],dayText:"Da",hourText:"Horas",minuteText:"Minutos",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthText:"Mes",secText:"Segundos",timeFormat:"HH:ii",yearText:"A&ntilde;o",nowText:"Ahora",pmText:"pm",amText:"am",todayText:"Hoy",firstDay:1,dateText:"Fecha",timeText:"Tiempo",closeText:"Cerrar",allDayText:"Todo el da",noEventsText:"No hay eventos",eventText:"Evento",eventsText:"Eventos",moreEventsText:"{count} ms",fromText:"Iniciar",toText:"Final",wholeText:"Entero",fractionText:"Fraccin",unitText:"Unidad",labels:["Aos","Meses","Das","Horas","Minutos","Segundos",""],labelsShort:["Ao","Mes","Da","Hora","Min","Seg",""],startText:"Iniciar",stopText:"Detngase",resetText:"Reinicializar",lapText:"Lap",hideText:"Esconder",backText:"Atrs",undoText:"Deshacer",offText:"No",onText:"S",decimalSeparator:",",thousandsSeparator:" "},u.customTheme("mobiscroll-dark","mobiscroll"),hi=u.themes,hi.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(t){us(n(t.target),".mbsc-fr-btn-e","mbsc-disabled","mbsc-fr-btn-nhl")}},hi.scroller.material=t({},hi.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right"}),hi.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(t){pf(n(t.target),t.domEvent)},onItemDeactivate:function(){sr(si)},onSlideStart:function(t){n(".mbsc-ripple",t.target).remove()},onSortStart:function(t){n(".mbsc-ripple",t.target).remove()}},hi.navigation.material={onInit:function(){us(n(this),".mbsc-ms-item.mbsc-btn-e","mbsc-disabled","mbsc-btn-nhl")},onMarkupInit:function(){n(".mbsc-ripple",this).remove()},onDestroy:function(){n(this).off(".mbsc-ripple")}},hi.form.material={addRipple:function(n,t){pf(n,t)},removeRipple:function(){sr(si)}},u.customTheme("material-dark","material"),bh=u.themes,ci="mobiscroll","android"==a?ci="material":"ios"==a?ci="ios":"wp"==a&&(ci="windows"),n.each(bh.frame,function(n,t){return ci&&t.baseTheme==ci&&"mobiscroll-dark"!=n&&"material-dark"!=n&&"windows-dark"!=n&&"ios-dark"!=n?(u.autoTheme=n,!1):void(n==ci&&(u.autoTheme=n))}),u});