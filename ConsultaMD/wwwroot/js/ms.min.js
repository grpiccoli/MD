!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).mobiscroll=t()}(this,function(){"use strict";function ti(n){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function ft(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function de(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function et(n,t,i){return t&&de(n.prototype,t),i&&de(n,i),n}function ii(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&ge(n,t)}function k(n){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function ge(n,t){return(ge=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function pi(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ri(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?pi(n):t}function wi(n,t,i){return(wi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,i){var u=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=k(n)););return n}(n,t),r;if(u)return r=Object.getOwnPropertyDescriptor(u,t),r.get?r.get.call(i):r.value})(n,t,i||n)}function ot(n){return"function"==typeof n}function wr(n){return"object"===ti(n)}function to(n){return"number"==typeof n.length}function io(n){return n.replace(/-+(.)?/g,function(n,t){return t?t.toUpperCase():""})}function rr(n){return n.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function ro(n,t){return"number"!=typeof t||sc[rr(n)]?t:t+"px"}function s(n){for(var t=0,t=0;t<n.length;t++)this[t]=n[t];return this.length=n.length,f(this)}function o(n,t,i){u[n]=function(r,u){var e,o,f={},s=u||{};return!1!==i&&(s.preset=n),v(r).each(function(){e=new t(this,s);f[this.id]=e}),1==(o=Object.keys(f)).length?f[o[0]]:f}}function i(){}function gr(n){var t,i=[];for(t in n)i.push(n[t]);return i}function ui(n){var t,i={};if(n)for(t=0;t<n.length;t++)i[n[t]]=n[t];return i}function d(n){return 0<=n-parseFloat(n)}function pt(n){return"string"==typeof n}function w(n,t,i){return Math.max(t,Math.min(n,i))}function g(n,t){for(n+="",t=t||2;n.length<t;)n="0"+n;return n}function tf(n,t){var i,r;return t=t||100,function(){var f=this,u=+new Date,e=arguments;i&&u<i+t?(clearTimeout(r),r=setTimeout(function(){i=u;n.apply(f,e)},t)):(i=u,n.apply(f,e))}}function rf(n){"vibrate"in navigator&&navigator.vibrate(n||50)}function it(n,t,i){return 100*(n-t)/(i-t)}function uf(n,t,i){var r=i.attr(n);return void 0===r||""===r?t:"true"===r}function wt(){fr++;setTimeout(function(){fr--},500)}function eo(n,t){if(!t.mbscClick){var i=(n.originalEvent||n).changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.isMbscTap=!0;r.isIonicTap=!0;ff=!0;t.mbscChange=!0;t.mbscClick=!0;t.dispatchEvent(r);ff=!1;wt();setTimeout(function(){delete t.mbscClick})}}function r(n,t,i){var r=n.originalEvent||n,u=(i?"page":"client")+t;return r.targetTouches&&r.targetTouches[0]?r.targetTouches[0][u]:r.changedTouches&&r.changedTouches[0]?r.changedTouches[0][u]:n[u]}function nu(n){var i=["switch","range","rating","segmented","stepper"],f=n[0],u=n.attr("data-role"),r=n.attr("type")||f.nodeName.toLowerCase(),t;if(/(switch|range|rating|segmented|stepper|select)/.test(u))r=u;else for(t=0;t<i.length;t++)n.is("[mbsc-"+i[t]+"]")&&(r=i[t]);return r}function ef(n,t,i){n.focus();/(button|submit|checkbox|switch|radio)/.test(t)&&i.preventDefault();/select/.test(t)||eo(i,n)}function of(n,t,i,f,e,o){var c,l,s,h,a,v=u.$(t);e=e||9;n.settings.tap&&v.on("touchstart.mbsc",function(n){s||(f&&n.preventDefault(),s=this,c=r(n,"X"),l=r(n,"Y"),h=!1,a=new Date)}).on("touchcancel.mbsc",function(){s=!1}).on("touchmove.mbsc",function(n){s&&!h&&(Math.abs(r(n,"X")-c)>e||Math.abs(r(n,"Y")-l)>e)&&(h=!0)}).on("touchend.mbsc",function(n){s&&(o&&new Date-a<100||!h?eo(n,n.target):wt(),s=!1)});v.on("click.mbsc",function(t){f&&t.preventDefault();i.call(this,t,n)})}function vc(n){if(fr&&!ff&&!n.isMbscTap&&("TEXTAREA"!=n.target.nodeName||"mousedown"!=n.type))return n.stopPropagation(),n.preventDefault(),!1}function oo(n){return n[0].innerWidth||n.innerWidth()}function so(n){var t=n.theme,i=n.themeVariant;return"auto"!=t&&t||(t=fi.autoTheme),"default"==t&&(t="mobiscroll"),("dark"===i||cc&&"auto"===i)&&fi.themes.form[t+"-dark"]&&(t+="-dark"),t}function b(t,i,r){tt&&n(function(){n(t).each(function(){new i(this,{})});n(document).on("mbsc-enhance",function(r,u){n(r.target).is(t)?new i(r.target,u||{}):n(t,r.target).each(function(){new i(this,u||{})})});r&&n(document).on("mbsc-refresh",function(i){var r;n(i.target).is(t)?(r=ht[i.target.id])&&r.refresh():n(t,i.target).each(function(){(r=ht[this.id])&&r.refresh()})})})}function ct(r,u){function p(t){var i,r=pc;return e.responsive&&(i=t||oo(v),n.each(e.responsive,function(n,t){i>=(t.breakpoint||wc[n])&&(r=t)})),r}var v,y,s,o,e,c,l,a,h,f=this;f.settings={};f.element=r;f._init=i;f._destroy=i;f._processSettings=i;f._checkResp=function(n){if(f&&f._responsive){var t=p(n);if(o!==t)return o=t,f.init({}),!0}};f._getRespCont=function(){return n(e.context)[0]};f.init=function(n,i){var w,b;for(w in n&&f.getVal&&(b=f.getVal()),f.settings)delete f.settings[w];e=f.settings;t(u,n);f._hasDef&&(h=fi.settings);t(e,f._defaults,h,u);f._hasTheme&&(l=so(e),u.theme=l,c=fi.themes[f._class]?fi.themes[f._class][l]:{});f._hasLang&&(y=fi.i18n[e.lang]);t(e,c,y,h,u);v=f._getRespCont();f._responsive&&(o=o||p(),t(e,o));f._processSettings(o||{});f._presets&&(s=f._presets[e.preset])&&(s=s.call(r,f,u),t(e,s,u,o));f._init(n);n&&f.setVal&&f.setVal(void 0===i?b:i,!0);a("onInit")};f.destroy=function(){f&&(f._destroy(),a("onDestroy"),delete ht[r.id],f=null)};f.tap=function(n,t,i,r,u){of(f,n,t,i,r,u)};f.trigger=function(n,t){for(var o,e,l=[h,c,s,u],i=0;i<4;i++)(e=l[i])&&e[n]&&(o=e[n].call(r,t||{},f));return o};f.option=function(n,t,i){var r={},o=["data","invalid","valid","readonly"];/calendar|eventcalendar|range/.test(e.preset)&&o.push("marked","labels","colors");"object"===ti(n)?r=n:r[n]=t;o.forEach(function(n){u[n]=e[n]});f.init(r,i)};f.getInst=function(){return f};u=u||{};a=f.trigger;f.__ready||(n(r).addClass("mbsc-comp"),r.id?ht[r.id]&&ht[r.id].destroy():r.id="mobiscroll"+ ++yc,(ht[r.id]=f).__ready=!0)}function sf(n,t,i){var o,s,u,e,h,r,f;"jsonp"==i?(e=n,h=t,r=document.createElement("script"),f="mbscjsonp"+ ++ho,window[f]=function(n){r.parentNode.removeChild(r);delete window[f];n&&h(n)},r.src=e+(0<=e.indexOf("?")?"&":"?")+"callback="+f,document.body.appendChild(r)):(o=n,s=t,(u=new XMLHttpRequest).open("GET",o,!0),u.onload=function(){200<=this.status&&this.status<400&&s(JSON.parse(this.response))},u.onerror=function(){},u.send())}function bc(n){for(var t in n)if(void 0!==er[n[t]])return!0;return!1}function bt(t,i){if("touchstart"==t.type)n(i).attr("data-touch","1");else if(n(i).attr("data-touch"))return n(i).removeAttr("data-touch"),!1;return!0}function hf(t,i){var r,u=getComputedStyle(t[0]);return n.each(["t","webkitT","MozT","OT","msT"],function(n,t){if(void 0!==u[t+"ransform"])return r=u[t+"ransform"],!1}),r=r.split(")")[0].split(", "),i?r[13]||r[5]:r[12]||r[4]}function co(t){if(t){if(tu[t])return tu[t];var r=n('<div style="background-color:'+t+';"><\/div>').appendTo("body"),i=getComputedStyle(r[0]).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),u=.299*i[0]+.587*i[1]+.114*i[2]<130?"#fff":"#000";return r.remove(),tu[t]=u}}function kc(t,i,r,u){var f=n(t);r?(f.scrollTop(i),u&&u()):function t(n,i,r,u,f){var o=Math.min(1,(new Date-i)/468),s=.5*(1-Math.cos(Math.PI*o)),e=r+(u-r)*s;n.scrollTop(e);e!==u?yt(function(){t(n,i,r,u,f)}):f&&f()}(f,new Date,f.scrollTop(),i,u)}function iu(t,u,f,e,o,s){function nt(t){var i;h=n(this);v=+h.attr("data-step");a=+h.attr("data-index");l=!0;o&&t.stopPropagation();"touchstart"==t.type&&h.closest(".mbsc-no-touch").removeClass("mbsc-no-touch");"mousedown"==t.type&&t.preventDefault();i="keydown"!=t.type?(d=r(t,"X"),g=r(t,"Y"),bt(t,this)):32===t.keyCode;c||!i||h.hasClass("mbsc-disabled")||(tt(a,v,t)&&(h.addClass("mbsc-active"),s&&s.addRipple(h.find(".mbsc-segmented-content"),t)),"mousedown"==t.type&&n(document).on("mousemove",y).on("mouseup",p))}function y(n){(7<Math.abs(d-r(n,"X"))||7<Math.abs(g-r(n,"Y")))&&(l=!0,w())}function p(t){"touchend"==t.type&&t.preventDefault();w();"mouseup"==t.type&&n(document).off("mousemove",y).off("mouseup",p)}function w(){c=!1;clearInterval(k);h&&(h.removeClass("mbsc-active"),s&&setTimeout(function(){s.removeRipple()},100))}function tt(n,t,i){return c||rt(n)||(a=n,v=t,b=i,l=!(c=!0),setTimeout(it,100)),c}function it(){h&&h.hasClass("mbsc-disabled")?w():(!c&&l||(l=!0,u(a,v,b,it)),c&&f&&(clearInterval(k),k=setInterval(function(){u(a,v,b)},f)))}var h,l,a,c,b,d,g,v,k,rt=e||i;return t.on("touchstart mousedown keydown",nt).on("touchmove",y).on("touchend touchcancel keyup",p),{start:tt,stop:w,destroy:function(){t.off("touchstart mousedown keydown",nt).off("touchmove",y).off("touchend touchcancel keyup",p)}}}function yo(n,t,i){function c(){o.style.width="100000px";o.style.height="100000px";r.scrollLeft=1e5;r.scrollTop=1e5;f.scrollLeft=1e5;f.scrollTop=1e5}function e(){var n=new Date;s=0;a||(200<n-v&&!r.scrollTop&&!r.scrollLeft&&(v=n,c()),s=s||yt(e))}function l(){h=h||yt(y)}function y(){h=0;c();t()}var r,o,s,h,f,a,v=0,u=document.createElement("div");return u.innerHTML=dc,u.dir="ltr",f=u.childNodes[1],r=u.childNodes[0],o=r.childNodes[0],n.appendChild(u),r.addEventListener("scroll",l),f.addEventListener("scroll",l),i?i.runOutsideAngular(function(){yt(e)}):yt(e),{detach:function(){n.removeChild(u);a=!0}}}function gc(n){n.preventDefault()}function ut(t,f,e){function bi(t){tt&&tt.removeClass("mbsc-active");(tt=n(this)).hasClass("mbsc-disabled")||tt.hasClass("mbsc-fr-btn-nhl")||tt.addClass("mbsc-active");"mousedown"===t.type?n(document).on("mouseup",st):"pointerdown"===t.type&&n(document).on("pointerup",st)}function st(t){tt&&(tt.removeClass("mbsc-active"),tt=null);"mouseup"===t.type?n(document).off("mouseup",st):"pointerup"===t.type&&n(document).off("pointerup",st)}function hi(t){u.activeInstance==o&&(13!=t.keyCode||n(t.target).is('textarea,button,input[type="button"],input[type="submit"]')&&!t.shiftKey?27==t.keyCode&&o.cancel():o.select())}function ci(n){n||po||!o._activeElm||(ui=new Date,o._activeElm.focus())}function li(t){var r=ru,i=s.focusOnClose;o._markupRemove();h.remove();c&&(l.mbscModals--,s.scrollLock&&l.mbscLock--,l.mbscLock||ft.removeClass("mbsc-fr-lock"),ut&&(l.mbscIOSLock--,l.mbscIOSLock||(ft.removeClass("mbsc-fr-lock-ios"),g.css({top:"",left:""}),p.scrollLeft(l.mbscScrollLeft),p.scrollTop(l.mbscScrollTop))),l.mbscModals||ft.removeClass("mbsc-fr-lock-ctx"),l.mbscModals&&!at||t||(r=r||a,setTimeout(function(){void 0===i||!0===i?(uu=!0,r[0].focus()):i&&n(i)[0].focus()},200)));at=void 0;ti=!1;y("onHide")}function ki(){clearTimeout(si);si=setTimeout(function(){o.position(!0)&&(rt.style.visibility="hidden",rt.offsetHeight,rt.style.visibility="")},200)}function ai(n){u.activeInstance==o&&n.target.nodeType&&!ii.contains(n.target)&&100<new Date-ui&&(ui=new Date,o._activeElm.focus())}function vi(t,i){var f,e,u,l,p;c?h.appendTo(g):a.is("div")&&!o._hasContent?a.empty().append(h):a.hasClass("mbsc-control")?(f=a.closest(".mbsc-control-w"),h.insertAfter(f),f.hasClass("mbsc-select")&&f.addClass("mbsc-select-inline")):h.insertAfter(a);ti=!0;o._markupInserted(h);y("onMarkupInserted",{target:d});c&&s.closeOnOverlayTap&&dt.on("touchstart mousedown",function(n){u||n.target!=ii||(e=!(u=!0),l=r(n,"X"),p=r(n,"Y"))}).on("touchmove mousemove",function(n){u&&!e&&(9<Math.abs(r(n,"X")-l)||9<Math.abs(r(n,"Y")-p))&&(e=!0)}).on("touchcancel",function(){u=!1}).on("touchend click",function(n){u&&!e&&(o.cancel(),"touchend"==n.type&&wt());u=!1});h.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",gc).on("touchstart mousedown",function(n){s.stopProp&&n.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(n){32==n.keyCode&&(n.preventDefault(),n.stopPropagation(),this.click())}).on("keydown",function(t){if(32!=t.keyCode||n(t.target).is(il)){if(9==t.keyCode&&c&&s.focusTrap){var i=h.find('input,select,textarea,button,[tabindex="0"]').filter(function(){return 0<this.offsetWidth||0<this.offsetHeight}),f=i.index(n(":focus",h)),r=i.length-1,u=0;t.shiftKey&&(r=0,u=-1);f===r&&(i.eq(u)[0].focus(),t.preventDefault())}}else t.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",bi).on("touchend",".mbsc-fr-btn-e",st);d.addEventListener("touchstart",function(){vt||(vt=!0,g.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0);n.each(b,function(t,i){o.tap(n(".mbsc-fr-btn"+t,h),function(n){i=pt(i)?o.buttons[i]:i;(pt(i.handler)?o.handlers[i.handler]:i.handler).call(this,n,o)},!0)});o._attachEvents(h);!1!==o.position()&&((c||o._checkSize)&&(lt=yo(d,ki,s.zone)),c&&(h.removeClass("mbsc-fr-pos"),v&&!t?h.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+v).on(ei,function t(){h.off(ei,t).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+v).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+v);ci(i)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+v):ci(i)),y("onShow",{target:d,valueText:o._tempValue}))}function kt(n,t){o._isVisible||(n&&n(),!1!==o.show()&&(ru=t))}function yi(){o._fillValue();y("onSet",{valueText:o._value})}function pi(){y("onCancel",{valueText:o._value})}function wi(){o.setVal(null,!0)}var g,fi,ft,h,dt,gt,et,p,ni,b,tt,l,v,nt,c,ti,oi,d,it,k,ht,ut,lt,ii,rt,si,at,s,ri,vt,y,ot,yt,o=this,a=n(t),bt=[],ui=new Date;ct.call(this,t,f,!0);o.position=function(t){var tt,lt,at,ii,b,vt,pt,wt,ut,bt,ui,ft,i,r,fi,ei,st,f,e,kt={},v=0,u=0,ct=0,dt=0;if(!ti)return!1;if(ei=ot,fi=yt,i=d.offsetHeight,(r=d.offsetWidth)&&i&&(ot!==r||yt!==i||!t)){if(o._checkResp(r))return!1;if(ot=r,yt=i,o._isFullScreen||/top|bottom/.test(s.display)?et.width(r):c&&ni.width(""),o._position(h),!o._isFullScreen&&/center|bubble/.test(s.display)&&(n(".mbsc-w-p",h).each(function(){st=this.getBoundingClientRect().width;dt+=st;ct=ct<st?st:ct}),ft=r-16<dt||!0===s.tabs,ni.css({width:o._isLiquid?Math.min(s.maxPopupWidth,r-16):Math.ceil(ft?ct:dt),"white-space":ft?"":"nowrap"})),!1!==y("onPosition",{target:d,popup:rt,hasTabs:ft,oldWidth:ei,oldHeight:fi,windowWidth:r,windowHeight:i})&&c)return ht&&(v=p.scrollLeft(),u=p.scrollTop(),ot&&gt.css({width:"",height:""})),it=rt.offsetWidth,k=rt.offsetHeight,ri=k<=i&&it<=r,"center"==s.display?(e=Math.max(0,v+(r-it)/2),f=Math.max(0,u+(i-k)/2)):"bubble"==s.display?(tt=void 0===s.anchor?a:n(s.anchor),pt=n(".mbsc-fr-arr-i",h)[0],b=(ii=tt.offset()).top+(nt?u-g.offset().top:0),vt=ii.left+(nt?v-g.offset().left:0),lt=tt[0].offsetWidth,at=tt[0].offsetHeight,wt=pt.offsetWidth,ut=pt.offsetHeight,e=w(vt-(it-lt)/2,v+3,v+r-it-3),u+i<(f=b+at+ut/2)+k+8&&u<b-k-ut/2?(et.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),f=b-k-ut/2):et.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),n(".mbsc-fr-arr",h).css({left:w(vt+lt/2-(e+(it-wt)/2),0,wt)}),ri=u<f&&v<e&&f+k<=u+i&&e+it<=v+r):(e=v,f="top"==s.display?u:Math.max(0,u+i-k)),ht&&(bt=Math.max(f+k,nt?l.scrollHeight:n(document).height()),ui=Math.max(e+it,nt?l.scrollWidth:n(document).width()),gt.css({width:ui,height:bt}),s.scroll&&"bubble"==s.display&&(u+i<f+k+8||u+i<b||b+at<u)&&p.scrollTop(Math.min(b,f+k-i+8,bt-i))),kt.top=Math.floor(f),kt.left=Math.floor(e),et.css(kt),!0}};o.attachShow=function(t,i){var u,r=n(t).off(".mbsc"),f=r.prop("readonly");"inline"!==s.display&&((s.showOnFocus||s.showOnTap)&&r.is("input,select")&&(r.prop("readonly",!0).on("mousedown.mbsc",function(n){n.preventDefault()}).on("focus.mbsc",function(){o._isVisible&&this.blur()}),(u=n('label[for="'+r.attr("id")+'"]')).length||(u=r.closest("label"))),r.is("select")||(s.showOnFocus&&r.on("focus.mbsc",function(){uu?uu=!1:kt(i,r)}),s.showOnTap&&(r.on("keydown.mbsc",function(n){32!=n.keyCode&&13!=n.keyCode||(n.preventDefault(),n.stopPropagation(),kt(i,r))}),o.tap(r,function(n){n.isMbscTap&&(vt=!0);kt(i,r)}),u&&u.length&&o.tap(u,function(n){n.preventDefault();n.target!==r[0]&&kt(i,r)}))),bt.push({readOnly:f,el:r,lbl:u}))};o.select=function(){c?o.hide(!1,"set",!1,yi):yi()};o.cancel=function(){c?o.hide(!1,"cancel",!1,pi):pi()};o.clear=function(){o._clearValue();y("onClear");c&&o._isVisible&&!o.live?o.hide(!1,"clear",!1,wi):wi()};o.enable=function(){s.disabled=!1;n.each(bt,function(n,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})};o.disable=function(){s.disabled=!0;n.each(bt,function(n,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})};o.show=function(t,i){var a,f,k,tt,r,e,w,it;if(!s.disabled&&!o._isVisible){if(o._readValue(),!1===y("onBeforeShow"))return!1;if(ru=null,v=s.animate,b=s.buttons||[],ht=nt||"bubble"==s.display,ut=nl&&!ht&&s.scrollLock,a=0<b.length,!1!==v&&("top"==s.display?v=v||"slidedown":"bottom"==s.display?v=v||"slideup":"center"!=s.display&&"bubble"!=s.display||(v=v||"pop")),c&&(yt=ot=0,ut&&!ft.hasClass("mbsc-fr-lock-ios")&&(l.mbscScrollTop=tt=Math.max(0,p.scrollTop()),l.mbscScrollLeft=k=Math.max(0,p.scrollLeft()),g.css({top:-tt+"px",left:-k+"px"})),ft.addClass((s.scrollLock?"mbsc-fr-lock":"")+(ut?" mbsc-fr-lock-ios":"")+(nt?" mbsc-fr-lock-ctx":"")),n(document.activeElement).is("input,textarea")&&document.activeElement.blur(),at=u.activeInstance,u.activeInstance=o,l.mbscModals=(l.mbscModals||0)+1,ut&&(l.mbscIOSLock=(l.mbscIOSLock||0)+1),s.scrollLock&&(l.mbscLock=(l.mbscLock||0)+1)),f='<div lang="'+s.lang+'" class="mbsc-fr mbsc-'+s.theme+(s.baseTheme?" mbsc-"+s.baseTheme:"")+" mbsc-fr-"+s.display+" "+(s.cssClass||"")+" "+(s.compClass||"")+(o._isLiquid?" mbsc-fr-liq":"")+(c?" mbsc-fr-pos"+(s.showOverlay?"":" mbsc-fr-no-overlay"):"")+(oi?" mbsc-fr-pointer":"")+(tl?" mbsc-fr-hb":"")+(vt?"":" mbsc-no-touch")+(ut?" mbsc-platform-ios":"")+(a?3<=b.length?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(c?'<div class="mbsc-fr-persp">'+(s.showOverlay?'<div class="mbsc-fr-overlay"><\/div>':"")+'<div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(s.rtl?" mbsc-rtl":" mbsc-ltr")+(s.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===s.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"><\/div><\/div><\/div>':"")+(c?'<div class="mbsc-fr-focus" tabindex="-1"><\/div>':"")+'<div class="mbsc-fr-w">'+(s.headerText?'<div class="mbsc-fr-hdr">'+(pt(s.headerText)?s.headerText:"")+"<\/div>":"")+'<div class="mbsc-fr-c">',f+=o._generateContent(),f+="<\/div>",a){for(it=b.length,f+='<div class="mbsc-fr-btn-cont">',e=0;e<b.length;e++)w=s.btnReverse?it-e-1:e,"set"===(r=pt(r=b[w])?o.buttons[r]:r).handler&&(r.parentClass="mbsc-fr-btn-s"),"cancel"===r.handler&&(r.parentClass="mbsc-fr-btn-c"),f+="<div"+(s.btnWidth?' style="width:'+100/b.length+'%"':"")+' class="mbsc-fr-btn-w '+(r.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+w+" mbsc-fr-btn-e "+(void 0===r.cssClass?s.btnClass:r.cssClass)+(r.icon?" mbsc-ic mbsc-ic-"+r.icon:"")+'">'+(r.text||"")+"<\/div><\/div>";f+="<\/div>"}h=n(f+="<\/div><\/div><\/div><\/div>"+(c?"<\/div><\/div>":""));gt=n(".mbsc-fr-persp",h);dt=n(".mbsc-fr-scroll",h);ni=n(".mbsc-fr-w",h);et=n(".mbsc-fr-popup",h);fi=n(".mbsc-fr-hdr",h);d=h[0];ii=dt[0];rt=et[0];o._activeElm=n(".mbsc-fr-focus",h)[0];o._markup=h;o._isVisible=!0;o.markup=d;o._markupReady(h);y("onMarkupReady",{target:d});c&&(n(window).on("keydown",hi),s.scrollLock&&h.on("touchmove mousewheel wheel",function(n){ri&&n.preventDefault()}),s.focusTrap&&p.on("focusin",ai));c?setTimeout(function(){vi(t,i)},ut?100:0):vi(t,i)}};o.hide=function(t,i,r,f){if(!o._isVisible||!r&&!o._isValid&&"set"==i||!r&&!1===y("onBeforeClose",{valueText:o._tempValue,button:i}))return!1;o._isVisible=!1;lt&&(lt.detach(),lt=null);c&&(n(document.activeElement).is("input,textarea")&&rt.contains(document.activeElement)&&document.activeElement.blur(),u.activeInstance==o&&(u.activeInstance=at),n(window).off("keydown",hi),p.off("focusin",ai));h&&(c&&v&&!t?h.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+v).on(ei,function i(){h.off(ei,i);li(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+v):li(t),o._detachEvents(h));f&&f();a.trigger("blur");y("onClose",{valueText:o._value})};o.isVisible=function(){return o._isVisible};o.setVal=i;o.getVal=i;o._generateContent=i;o._attachEvents=i;o._detachEvents=i;o._readValue=i;o._clearValue=i;o._fillValue=i;o._markupReady=i;o._markupInserted=i;o._markupRemove=i;o._position=i;o.__processSettings=i;o.__init=i;o.__destroy=i;o._destroy=function(){o.hide(!0,!1,!0);a.off(".mbsc");n.each(bt,function(n,t){t.el.off(".mbsc").prop("readonly",t.readOnly);t.lbl&&t.lbl.off(".mbsc")});o.__destroy()};o._updateHeader=function(){var n=s.headerText,i=n?"function"==typeof n?n.call(t,o._tempValue):n.replace(/\{value\}/i,o._tempValue):"";fi.html(i||"&nbsp;")};o._getRespCont=function(){return nt="body"!=s.context,p=n(nt?s.context:window),"inline"==s.display?a.is("div")?a:a.parent():p};o._processSettings=function(t){var r,i;for(o.__processSettings(t),(oi=!s.touchUi)&&(s.display=t.display||f.display||"bubble",s.buttons=t.buttons||f.buttons||[],s.showOverlay=t.showOverlay||f.showOverlay||!1),s.buttons=s.buttons||("inline"!==s.display?["cancel","set"]:[]),s.headerText=void 0===s.headerText?"inline"!==s.display&&"{value}":s.headerText,b=s.buttons||[],c="inline"!==s.display,g=n(s.context),ft=nt?g:n("body,html"),l=g[0],o.live=!0,i=0;i<b.length;i++)"ok"!=(r=b[i])&&"set"!=r&&"set"!=r.handler||(o.live=!1);o.buttons.set={text:s.setText,icon:s.setIcon,handler:"set"};o.buttons.cancel={text:s.cancelText,icon:s.cancelIcon,handler:"cancel"};o.buttons.close={text:s.closeText,icon:s.closeIcon,handler:"cancel"};o.buttons.clear={text:s.clearText,icon:s.clearIcon,handler:"clear"};o._isInput=a.is("input")};o._init=function(n){var t=o._isVisible,i=t&&!h.hasClass("mbsc-fr-pos");t&&o.hide(!0,!1,!0);a.off(".mbsc");o.__init(n);o._isLiquid="liquid"==s.layout;c?(o._readValue(),o._hasContent||s.skipShow||o.attachShow(a),t&&o.show(i)):o.show();a.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){o._preventChange||o.setVal(a.val(),!0,!1);o._preventChange=!1})};o.buttons={};o.handlers={set:o.select,cancel:o.cancel,clear:o.clear};o._value=null;o._isValid=!0;o._isVisible=!1;s=o.settings;y=o.trigger;e||o.init()}function oi(t,i,u){function er(t){nt("onStart",{domEvent:t});f.stopProp&&t.stopPropagation();f.prevDef&&t.preventDefault();f.readonly||f.lock&&et||bt(t,this)&&!ni&&(it&&it.removeClass("mbsc-active"),gt=!1,et||(it=n(t.target).closest(".mbsc-btn-e",this)).length&&!it.hasClass("mbsc-disabled")&&(gt=!0,ci=setTimeout(function(){it.addClass("mbsc-active")},100)),ti=tt=!(ni=!0),h.scrolled=et,yi=r(t,"X"),ii=r(t,"Y"),ai=yi,o=wt=ui=0,ur=new Date,v=+hf(ft,e)||0,et&&si(v,wo?0:1),"mousedown"===t.type&&n(document).on("mousemove",oi).on("mouseup",ri))}function oi(n){ni&&(f.stopProp&&n.stopPropagation(),ai=r(n,"X"),nr=r(n,"Y"),ui=ai-yi,wt=nr-ii,o=e?wt:ui,gt&&(Math.abs(wt)>f.thresholdY||Math.abs(ui)>f.thresholdX)&&(clearTimeout(ci),it.removeClass("mbsc-active"),gt=!1),(h.scrolled||!ti&&Math.abs(o)>fr)&&(tt||nt("onGestureStart",c),h.scrolled=tt=!0,ot||(ot=!0,fi=yt(or))),e||f.scrollLock?n.preventDefault():h.scrolled?n.preventDefault():7<Math.abs(wt)&&(ti=!0,h.scrolled=!0,ri()))}function or(){k&&(o=w(o,-s*k,s*k));si(w(v+o,y-dt,a+dt));ot=!1}function ri(t){if(ni){var i,r=new Date-ur;f.stopProp&&t&&t.stopPropagation();nf(fi);ot=!1;!ti&&h.scrolled&&(f.momentum&&r<300&&(i=o/r,o=Math.max(Math.abs(o),i*i/f.speedUnit)*(o<0?-1:1)),gi(o));gt&&(clearTimeout(ci),it.addClass("mbsc-active"),setTimeout(function(){it.removeClass("mbsc-active")},100),ti||h.scrolled||nt("onBtnTap",{target:it[0],domEvent:t}));t&&"mouseup"==t.type&&n(document).off("mousemove",oi).off("mouseup",ri);ni=!1}}function sr(n){if(n=n.originalEvent||n,o=e?null==n.deltaY?n.wheelDelta||n.detail:n.deltaY:n.deltaX,nt("onStart",{domEvent:n}),f.stopProp&&n.stopPropagation(),o){if(n.preventDefault(),n.deltaMode&&1==n.deltaMode&&(o*=15),o=w(-o,-ut,ut),v=l,f.readonly)return;if(tt||lr(),v+o<y&&(v=y,o=0),a<v+o&&(v=a,o=0),ot||(ot=!0,fi=yt(or)),!o&&tt)return;tt=!0;clearTimeout(rr);rr=setTimeout(function(){nf(fi);tt=ot=!1;gi(o)},200)}}function hr(t){nt("onStart",{domEvent:t});f.readonly||(t.stopPropagation(),v=l,tt=!1,t.target==rt?(ii=r(t,"Y",!0),n(document).on("mousemove",ki).on("mouseup",di)):(ii=hi.offset().top,ki(t),di()))}function ki(n){var t=(r(n,"Y",!0)-ii)/b;o=vi?w(o=-(k*s*2+b)*t,-s*k,s*k):(y-a-b)*t;tt||lr();tt=!0;si(w(v+o,y-dt,a+dt))}function di(){v=l;gi(0);n(document).off("mousemove",ki).off("mouseup",di)}function cr(n){n.stopPropagation()}function lr(){nt("onGestureStart",c={posX:e?0:l,posY:e?l:0,originX:e?0:v,originY:e?v:0,direction:0<o?e?270:360:e?90:180})}function gi(n){var i,r,t;if(k&&(n=w(n,-s*k,s*k)),t=w(Math.round((v+n)/s)*s,y,a),g){if(n<0){for(i=g.length-1;0<=i;i--)if(Math.abs(t)+b>=g[i].breakpoint){bi=2;t=g[ht=i].snap2;break}}else if(0<=n)for(i=0;i<g.length;i++)if(Math.abs(t)<=g[i].breakpoint){bi=1;t=g[ht=i].snap1;break}t=w(t,y,a)}r=f.time||(l<y||a<l?1e3:Math.max(1e3,Math.abs(t-l)*f.timeUnit));c.destinationX=e?0:t;c.destinationY=e?t:0;c.duration=r;c.transitionTiming=kt;nt("onGestureEnd",c);h.scroll(t,r)}function si(n,t,i,r){function u(){clearInterval(ei);clearTimeout(wi);et=!1;l=n;c.posX=e?0:n;c.posY=e?n:0;h&&nt("onMove",c);w&&nt("onAnimationEnd",c);r&&r()}var o,h=n!=l,w=1<t,d=t?lt+"transform "+Math.round(t)+"ms "+kt:"";c={posX:e?0:l,posY:e?l:0,originX:e?0:v,originY:e?v:0,direction:0<n-l?e?270:360:e?90:180};l=n;w&&(c.destinationX=e?0:n,c.destinationY=e?n:0,c.duration=t,c.transitionTiming=kt,nt("onAnimationStart",c));pi[p+"Transition"]=d;pi[p+"Transform"]="translate3d("+(e?"0,"+n+"px,":n+"px,0,")+"0)";rt&&st&&(o=vi?(tr-n)/(k*s*2):(n-a)/(y-a),rt.style[p+"Transition"]=d,rt.style[p+"Transform"]="translate3d(0,"+Math.max(0,Math.min((b-st)*o,b-st))+"px,0)");!h&&!et||!t||t<=1?u():t&&(et=!i,clearInterval(ei),ei=setInterval(function(){var t=+hf(ft,e)||0;c.posX=e?0:t;c.posY=e?t:0;nt("onMove",c);Math.abs(t-n)<2&&u()},100),clearTimeout(wi),wi=setTimeout(function(){u()},t));f.sync&&f.sync(n,t,kt)}var it,hi,vt,ci,b,ui,wt,o,li,kt,dt,ai,nr,c,gt,vi,a,k,y,ni,et,ti,fi,ot,rt,st,tr,ir,tt,rr,ut,ei,s,g,v,ur,yi,ii,pi,ft,wi,fr,nt,e,l,h=this,ht=0,bi=1,f=i,at=n(t);ct.call(this,t,i,!0);h.scrolled=!1;h.scroll=function(i,r,u,f){i=w(i=d(i)?Math.round(i/s)*s:Math.ceil((n(i,t).length?Math.round(ft.offset()[li]-n(i,t).offset()[li]):l)/s)*s,y,a);ht=Math.round(i/s);v=l;tr=k*s+i;si(i,r,u,f)};h.refresh=function(n){var t;for(b=(void 0===f.contSize?e?at.height():at.width():f.contSize)||0,a=(void 0===f.maxScroll?0:f.maxScroll)||0,y=Math.min(a,void 0===f.minScroll?Math.min(0,e?b-ft.height():b-ft.width()):f.minScroll)||0,g=null,!e&&f.rtl&&(t=a,a=-y,y=-t),pt(f.snap)&&(g=[],ft.find(f.snap).each(function(){var n=e?this.offsetTop:this.offsetLeft,t=e?this.offsetHeight:this.offsetWidth;g.push({breakpoint:n+t/2,snap1:-n,snap2:b-n-t})})),s=d(f.snap)?f.snap:1,k=f.snap?f.maxSnapScroll:0,kt=f.easing,dt=f.elastic?d(f.snap)?s:d(f.elastic)?f.elastic:0:0,ut=s;44<ut;)ut/=2;ut=Math.round(44/ut)*ut;rt&&(vi=y==-1/0||a==1/0,st=y<a?Math.max(20,b*b/(a-y+b)):0,rt.style.height=st+"px",ir.style.height=st?"":0);void 0===l&&(l=f.initialPos,ht=Math.round(l/s));n||h.scroll(f.snap?g?g[ht]["snap"+bi]:ht*s:l)};h._processSettings=function(){e="Y"==f.axis;li=e?"top":"left";ft=f.moveElement||at.children().eq(0);pi=ft[0].style;fr=e?f.thresholdY:f.thresholdX;f.scrollbar&&(vt=f.scrollbar,hi=vt.find(".mbsc-sc-bar"),rt=hi[0],ir=vt[0])};h._init=function(){h.refresh();at.on("touchstart mousedown",er).on("touchmove",oi).on("touchend touchcancel",ri);f.mousewheel&&at.on("wheel mousewheel",sr);rt&&vt.on("mousedown",hr).on("click",cr);t.addEventListener("click",function(n){h.scrolled&&(h.scrolled=!1,n.stopPropagation(),n.preventDefault())},!0)};h._destroy=function(){clearInterval(ei);at.off("touchstart mousedown",er).off("touchmove",oi).off("touchend touchcancel",ri).off("wheel mousewheel",sr);rt&&vt.off("mousedown",hr).off("click",cr)};f=h.settings;nt=h.trigger;u||h.init()}function fu(n){return(n+"").replace('"',"___")}function l(i,r,u){function ii(t){var i,r,u=+n(this).attr("data-index");38==t.keyCode?(i=!0,r=-1):40==t.keyCode?(i=!0,r=1):32==t.keyCode&&(i=!0,bt(u,n(t.target)));i&&(t.stopPropagation(),t.preventDefault(),r&&tt.start(u,r,t))}function ri(){tt.stop()}function bt(n,t){var i=c[n],o=+t.attr("data-index"),r=nt(i,o),u=f._tempSelected[n],s=d(i.multiple)?i.multiple:1/0;!1!==a("onItemTap",{target:t[0],index:n,value:r,selected:t.hasClass("mbsc-sc-itm-sel")})&&(i.multiple&&!i._disabled[r]&&(void 0!==u[r]?(t.removeClass(y).removeAttr("aria-selected"),delete u[r]):(1==s&&(f._tempSelected[n]=u={},i._$markup.find(".mbsc-sc-itm-sel").removeClass(y).removeAttr("aria-selected")),gr(u).length<s&&(t.addClass(y).attr("aria-selected","true"),u[r]=r))),yt(i,n,o,wt,i._index<o?1:2,!0,i.multiple),f.live&&(!i.multiple||1===i.multiple&&e.tapSelect)&&(!0===e.setOnTap||e.setOnTap[n])&&setTimeout(function(){f.select()},e.tapSelect?0:200))}function kt(n){return-(n.max-n._offset-(n.multiple&&!h?Math.floor(e.rows/2):0))*o}function dt(n){return-(n.min-n._offset+(n.multiple&&!h?Math.floor(e.rows/2):0))*o}function at(n,t){return(n._array?n._map[t]:+n.getIndex(t,f))||0}function gt(t,i){var r=t.data;if(i>=t.min&&i<=t.max)return t._array?t.circular?n(r).get(i%t._length):r[i]:n.isFunction(r)?r(i,f):""}function rt(t){return n.isPlainObject(t)?void 0!==t.value?t.value:t.display:t}function nt(n,t){return rt(gt(n,t))}function ui(n,t,i){var r=c[n];yt(r,n,r._index+t,e.delay+100,1==t?1:2,!1,!1,"keydown"==i.type)}function ni(t){return n.isArray(e.readonly)?e.readonly[t]:e.readonly}function vt(i,r,u){var f=i._index-i._batch;return i.data=i.data||[],i.key=void 0!==i.key?i.key:r,i.label=void 0!==i.label?i.label:r,i._map={},i._array=n.isArray(i.data),i._array&&(i._length=i.data.length,n.each(i.data,function(n,t){i._map[rt(t)]=n})),i.circular=void 0===e.circular?void 0===i.circular?i._array&&i._length>e.rows:i.circular:n.isArray(e.circular)?e.circular[r]:e.circular,i.min=i._array?i.circular?-1/0:0:void 0===i.min?-1/0:i.min,i.max=i._array?i.circular?1/0:i._length-1:void 0===i.max?1/0:i.max,i._nr=r,i._index=at(i,s[r]),i._disabled={},i._batch=0,i._current=i._index,i._first=i._index-l,i._last=i._index+l,i._offset=i._first,u?(i._offset-=i._margin/o+(i._index-f),i._margin+=(i._index-f)*o):i._margin=0,i._refresh=function(n){t(i._scroller.settings,{minScroll:kt(i),maxScroll:dt(i)});i._scroller.refresh(n)},ht[i.key]=i}function w(t,i,r,u,h){for(var b,c,l,k,p,d,w,v,nt,tt="",it=f._tempSelected[i],ut=t._disabled||{},a=r;a<=u;a++)c=gt(t,a),v=c,k=void 0===(nt=n.isPlainObject(v)?v.display:v)?"":nt,l=rt(c),b=c&&void 0!==c.cssClass?c.cssClass:"",p=c&&void 0!==c.label?c.label:"",d=c&&c.invalid,w=void 0!==l&&l==s[i]&&!t.multiple,tt+='<div role="option" tabindex="-1" aria-selected="'+!!it[l]+'" class="mbsc-sc-itm '+(h?"mbsc-sc-itm-3d ":"")+b+" "+(w?"mbsc-sc-itm-sel ":"")+(it[l]?y:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(d?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(ut[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+a+'" data-val="'+fu(l)+'"'+(p?' aria-label="'+p+'"':"")+(w?' aria-selected="true"':"")+' style="height:'+o+"px;line-height:"+o+"px;"+(h?lt+"transform:rotateX("+(t._offset-a)*ot%360+"deg) translateZ("+o*e.rows/2+"px);":"")+'">'+(1<g?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(o/g)+"px;font-size:"+Math.round(o/g*.8)+'px;">':"")+k+(1<g?"<\/div>":"")+"<\/div>";return tt}function ti(n,t,i,r){var f,u=c[n],h=r||u._disabled,e=at(u,t),o=nt(u,e),v=o,l=o,s=0,a=0;if(!0===h[o]){for(f=0;e-s>=u.min&&h[v]&&f<100;)f++,v=nt(u,e-++s);for(f=0;e+a<u.max&&h[l]&&f<100;)f++,l=nt(u,e+ ++a);o=(a<s&&a&&2!==i||!s||e-s<0||1==i)&&!h[l]?l:v}return o}function ft(t,r,u,v,p,w,b){var g,nt,it,d,ut,ft,rt,tt=f._isVisible;k=!0;d=e.validate.call(i,{values:s.slice(0),index:r,direction:u},f)||{};k=!1;d.valid&&(f._tempWheelArray=s=d.valid.slice(0));w||n.each(c,function(i,e){if(tt&&e._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),e._disabled={},d.disabled&&d.disabled[i]&&n.each(d.disabled[i],function(n,t){e._disabled[t]=!0;tt&&e._$markup.find('.mbsc-sc-itm[data-val="'+fu(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),s[i]=e.multiple?s[i]:ti(i,s[i],u),tt){if(e.multiple&&void 0!==r||e._$markup.find(".mbsc-sc-itm-sel").removeClass(y).removeAttr("aria-selected"),nt=at(e,s[i]),g=nt-e._index+e._batch,Math.abs(g)>2*l+1&&(it=g+(2*l+1)*(0<g?-1:1),e._offset+=it,e._margin-=it*o,e._refresh()),e._index=nt+e._batch,e.multiple){if(void 0===r)for(var c in f._tempSelected[i])e._$markup.find('.mbsc-sc-itm[data-val="'+fu(c)+'"]').addClass(y).attr("aria-selected","true")}else e._$markup.find('.mbsc-sc-itm[data-val="'+fu(s[i])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");e._$active&&e._$active.attr("tabindex",-1);e._$active=e._$markup.find('.mbsc-sc-itm[data-index="'+e._index+'"]').eq(h&&e.multiple?1:0).attr("tabindex",0);b&&r===i&&e._$active.length&&(e._$active[0].focus(),e._$scroller.parent().scrollTop(0));e._scroller.scroll(-(nt-e._offset+e._batch)*o,r===i||void 0===r?t:wt,p)}});a("onValidated",{index:r,time:t});f._tempValue=e.formatValue.call(i,s,f);tt&&f._updateHeader();f.live&&(ft=w,(rt=c[ut=r])&&(!rt.multiple||1!==rt.multiple&&ft&&(!0===e.setOnTap||e.setOnTap[ut])))&&(f._hasValue=v||f._hasValue,et(v,v,0,!0),v&&a("onSet",{valueText:f._value}));v&&a("onChange",{index:r,valueText:f._tempValue})}function yt(n,t,i,r,u,f,e,o){var h=nt(n,i);void 0!==h&&(s[t]=h,n._batch=n._array?Math.floor(i/n._length)*n._length:0,n._index=i,setTimeout(function(){ft(r,t,u,!0,f,e,o)},10))}function et(n,r,u,o,h){if(o?f._tempValue=e.formatValue.call(i,f._tempWheelArray,f):ft(u),!h){f._wheelArray=[];for(var l=0;l<s.length;l++)f._wheelArray[l]=c[l]&&c[l].multiple?Object.keys(f._tempSelected[l]||{})[0]:s[l];f._value=f._hasValue?f._tempValue:null;f._selected=t(!0,{},f._tempSelected)}n&&(f._isInput&&ct.val(f._hasValue?f._tempValue:""),a("onFill",{valueText:f._hasValue?f._tempValue:"",change:r}),r&&(f._preventChange=!0,ct.trigger("change")))}var pt,v,ot,h,y,b,tt,s,o,it,st,k,e,a,g,c,ht,l=40,wt=1e3,f=this,ct=n(i);ut.call(this,i,r,!0);f.setVal=f._setVal=function(t,r,u,o,h){f._hasValue=null!=t;f._tempWheelArray=s=n.isArray(t)?t.slice(0):e.parseValue.call(i,t,f)||[];et(r,void 0===u?r:u,h,!1,o)};f.getVal=f._getVal=function(n){var t=f._hasValue||n?f[n?"_tempValue":"_value"]:null;return d(t)?+t:t};f.setArrayVal=f.setVal;f.getArrayVal=function(n){return n?f._tempWheelArray:f._wheelArray};f.changeWheel=function(i,r,u){var o,e;n.each(i,function(n,i){(e=ht[n])&&(o=e._nr,t(e,i),vt(e,o,!0),f._isVisible&&(h&&e._$3d.html(w(e,o,e._first+l-v+1,e._last-l+v,!0)),e._$scroller.html(w(e,o,e._first,e._last)).css("margin-top",e._margin+"px"),e._refresh(k)))});!f._isVisible||f._isLiquid||k||f.position();k||ft(r,void 0,void 0,u)};f.getValidValue=ti;f._generateContent=function(){var u,s=0,r="",a=h?lt+"transform: translateZ("+(o*e.rows/2+3)+"px);":"",y='<div class="mbsc-sc-whl-l" style="'+a+"height:"+o+"px;margin-top:-"+(o/2+(e.selectedLineBorder||0))+'px;"><\/div>',i=0;return n.each(e.wheels,function(p,k){r+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(h?" mbsc-sc-whl-gr-3d-c":"")+(e.showLabel?" mbsc-sc-lbl-v":"")+'">'+y+'<div class="mbsc-sc-whl-gr'+(h?" mbsc-sc-whl-gr-3d":"")+(b?" mbsc-sc-cp":"")+(e.width||e.maxWidth?'"':'" style="max-width:'+e.maxPopupWidth+'px;"')+">";n.each(k,function(n,p){f._tempSelected[i]=t({},f._selected[i]);c[i]=vt(p,i);s+=e.maxWidth?e.maxWidth[i]||e.maxWidth:e.width?e.width[i]||e.width:0;u=void 0!==p.label?p.label:n;r+='<div class="mbsc-sc-whl-w '+(p.cssClass||"")+(p.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(e.width?"width:"+(e.width[i]||e.width)+"px;":(e.minWidth?"min-width:"+(e.minWidth[i]||e.minWidth)+"px;":"")+(e.maxWidth?"max-width:"+(e.maxWidth[i]||e.maxWidth)+"px;":""))+'">'+(st?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"><\/div><\/div>':"")+'<div class="mbsc-sc-whl-o" style="'+a+'"><\/div>'+y+'<div aria-live="off" aria-label="'+u+'"'+(p.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+e.rows*o*(h?1.1:1)+'px;">'+(b?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(e.btnPlusClass||"")+'"><\/div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(e.btnMinusClass||"")+'"><\/div>':"")+'<div class="mbsc-sc-lbl">'+u+'<\/div><div class="mbsc-sc-whl-c" style="height:'+it+"px;margin-top:-"+(it/2+1)+"px;"+a+'"><div class="mbsc-sc-whl-sc" style="top:'+(it-o)/2+'px;">';r+=w(p,i,p._first,p._last)+"<\/div><\/div>";h&&(r+='<div class="mbsc-sc-whl-3d" style="height:'+o+"px;margin-top:-"+o/2+'px;">',r+=w(p,i,p._first+l-v+1,p._last-l+v,!0),r+="<\/div>");r+="<\/div><\/div>";i++});r+="<\/div><\/div>"}),s&&(e.maxPopupWidth=s),r};f._attachEvents=function(t){tt=iu(n(".mbsc-sc-btn",t),ui,e.delay,ni,!0);n(".mbsc-sc-whl",t).on("keydown",ii).on("keyup",ri)};f._detachEvents=function(){tt.stop();for(var n=0;n<c.length;n++)c[n]._scroller.destroy()};f._markupReady=function(t){n(".mbsc-sc-whl-w",pt=t).each(function(t){var u,r=n(this),i=c[t];i._$markup=r;i._$scroller=n(".mbsc-sc-whl-sc",this);i._$3d=n(".mbsc-sc-whl-3d",this);i._scroller=new oi(this,{mousewheel:e.mousewheel,moveElement:i._$scroller,scrollbar:n(".mbsc-sc-bar-c",this),initialPos:(i._first-i._index)*o,contSize:e.rows*o,snap:o,minScroll:kt(i),maxScroll:dt(i),maxSnapScroll:l,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(n,t,r){var u=t?lt+"transform "+Math.round(t)+"ms "+r:"";h&&(i._$3d[0].style[p+"Transition"]=u,i._$3d[0].style[p+"Transform"]="rotateX("+-n/o*ot+"deg)")},onStart:function(n,i){i.settings.readonly=ni(t)},onGestureStart:function(){r.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim");a("onWheelGestureStart",{index:t})},onGestureEnd:function(n){var r=90==n.direction?1:2,f=n.duration,e=n.destinationY;u=Math.round(-e/o)+i._offset;yt(i,t,u,f,r)},onAnimationStart:function(){r.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){r.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim");a("onWheelAnimationEnd",{index:t});i._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(r){var u,y,b,p,f,e,s,c,a;u=i;y=t;b=r.posY;p=Math.round(-b/o)+u._offset;f=p-u._current;e=u._first;s=u._last;c=e+l-v+1;a=s-l+v;f&&(u._first+=f,u._last+=f,u._current=p,0<f?(u._$scroller.append(w(u,y,Math.max(s+1,e+f),s+f)),n(".mbsc-sc-itm",u._$scroller).slice(0,Math.min(f,s-e+1)).remove(),h&&(u._$3d.append(w(u,y,Math.max(a+1,c+f),a+f,!0)),n(".mbsc-sc-itm",u._$3d).slice(0,Math.min(f,a-c+1)).attr("class","mbsc-sc-itm-del"))):f<0&&(u._$scroller.prepend(w(u,y,e+f,Math.min(e-1,s+f))),n(".mbsc-sc-itm",u._$scroller).slice(Math.max(f,e-s-1)).remove(),h&&(u._$3d.prepend(w(u,y,c+f,Math.min(c-1,a+f),!0)),n(".mbsc-sc-itm",u._$3d).slice(Math.max(f,c-a-1)).attr("class","mbsc-sc-itm-del"))),u._margin+=f*o,u._$scroller.css("margin-top",u._margin+"px"))},onBtnTap:function(i){bt(t,n(i.target))}})});ft()};f._fillValue=function(){et(f._hasValue=!0,!0,0,!0)};f._clearValue=function(){n(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",pt).removeClass(y).removeAttr("aria-selected")};f._readValue=function(){var u=ct.val()||"",r=0;""!==u&&(f._hasValue=!0);f._tempWheelArray=s=f._hasValue&&f._wheelArray?f._wheelArray.slice(0):e.parseValue.call(i,u,f)||[];f._tempSelected=t(!0,{},f._selected);n.each(e.wheels,function(t,i){n.each(i,function(n,t){c[r]=vt(t,r);r++})});et(!1,!1,0,!0);a("onRead")};f.__processSettings=function(n){e=f.settings;a=f.trigger;g=e.multiline;y="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+e.checkIcon;(st=!e.touchUi)&&(e.tapSelect=!0,e.circular=!1,e.rows=n.rows||r.rows||7)};f.__init=function(n){n&&(f._wheelArray=null);c=[];ht={};b=e.showScrollArrows;h=e.scroll3d&&rl&&!b&&!st&&("ios"==e.theme||"ios"==e.baseTheme);o=e.height;it=h?2*Math.round((o-.03*(o*e.rows/2+3))/2):o;v=Math.round(1.8*e.rows);ot=180/v;b&&(e.rows=Math.max(3,e.rows))};f._getItemValue=rt;f._tempSelected={};f._selected={};u||f.init()}function kt(n,t,i,r,u,f,e){var o=new Date(n,t,i,r||0,u||0,f||0,e||0);return 23==o.getHours()&&0===(r||0)&&o.setHours(o.getHours()+2),o}function c(n,i,r){function s(t){for(var i=0;e+1<n.length&&n.charAt(e+1)==t;)i++,e++;return i}function o(n,t,i){var r=""+t;if(s(n))for(;r.length<i;)r="0"+r;return r}function a(n,t,i,r){return s(n)?r[t]:i[t]}var h;if(!i)return null;for(var c,f=t({},eu,r),u="",l=!1,e=0;e<n.length;e++)if(l)"'"!=n.charAt(e)||s("'")?u+=n.charAt(e):l=!1;else switch(n.charAt(e)){case"d":u+=o("d",f.getDay(i),2);break;case"D":u+=a("D",i.getDay(),f.dayNamesShort,f.dayNames);break;case"o":u+=o("o",(i.getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5,3);break;case"m":u+=o("m",f.getMonth(i)+1,2);break;case"M":u+=a("M",f.getMonth(i),f.monthNamesShort,f.monthNames);break;case"y":c=f.getYear(i);u+=s("y")?c:(c%100<10?"0":"")+c%100;break;case"h":h=i.getHours();u+=o("h",12<h?h-12:0===h?12:h,2);break;case"H":u+=o("H",i.getHours(),2);break;case"i":u+=o("i",i.getMinutes(),2);break;case"s":u+=o("s",i.getSeconds(),2);break;case"a":u+=11<i.getHours()?f.pmText:f.amText;break;case"A":u+=11<i.getHours()?f.pmText.toUpperCase():f.amText.toUpperCase();break;case"'":s("'")?u+="'":l=!0;break;default:u+=n.charAt(e)}return u}function si(n,i,r){function w(t){var i=s+1<n.length&&n.charAt(s+1)==t;return i&&s++,i}function o(n){w(n);var r=new RegExp("^\\d{1,"+("@"==n?14:"!"==n?20:"y"==n?4:"o"==n?3:2)+"}"),t=i.substr(y).match(r);return t?(y+=t[0].length,parseInt(t[0],10)):0}function b(n,t,r){for(var f=w(n)?r:t,u=0;u<f.length;u++)if(i.substr(y,f[u].length).toLowerCase()==f[u].toLowerCase())return y+=f[u].length,u+1;return 0}function d(){y++}var u=t({},eu,r),h=e(u.defaultValue||new Date),k,p;if(!n||!i)return h;if(i.getTime)return i;i="object"==ti(i)?i.toString():i+"";for(var g=u.shortYearCutoff,c=u.getYear(h),l=u.getMonth(h)+1,a=u.getDay(h),nt=-1,f=h.getHours(),it=h.getMinutes(),rt=0,v=-1,tt=!1,y=0,s=0;s<n.length;s++)if(tt)"'"!=n.charAt(s)||w("'")?d():tt=!1;else switch(n.charAt(s)){case"d":a=o("d");break;case"D":b("D",u.dayNamesShort,u.dayNames);break;case"o":nt=o("o");break;case"m":l=o("m");break;case"M":l=b("M",u.monthNamesShort,u.monthNames);break;case"y":c=o("y");break;case"H":f=o("H");break;case"h":f=o("h");break;case"i":it=o("i");break;case"s":rt=o("s");break;case"a":v=b("a",[u.amText,u.pmText],[u.amText,u.pmText])-1;break;case"A":v=b("A",[u.amText,u.pmText],[u.amText,u.pmText])-1;break;case"'":w("'")?d():tt=!0;break;default:d()}if(c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=("string"!=typeof g?g:(new Date).getFullYear()%100+parseInt(g,10))?0:-100)),-1<nt){l=1;a=nt;do k=32-new Date(c,l-1,32,12).getDate(),k<a&&(l++,a-=k);while(k<a)}return f=-1==v?f:v&&f<12?f+12:v||12!=f?f:0,p=u.getDate(c,l-1,a,f,it,rt),u.getYear(p)!=c||u.getMonth(p)+1!=l||u.getDay(p)!=a?h:p}function ko(n,t){return Math.round((t-n)/864e5)}function at(n){return kt(n.getFullYear(),n.getMonth(),n.getDate())}function or(n){return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}function go(n,t,i){var r,u,f={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(i)for(r in f)(u=n[f[r]-t])&&(i[r]="tz"==r?u:1)}function hi(n,t,i){var u,r,f,e,s=window.moment||t.moment,o=t.returnFormat;if(n){if("moment"==o&&s)return s(n);if("locale"==o)return c(i,n,t);if("iso8601"==o)return u=n,r=t.isoParts,e=f="",u&&(r.h&&(e+=g(u.getHours())+":"+g(u.getMinutes()),r.s&&(e+=":"+g(u.getSeconds())),r.u&&(e+="."+g(u.getMilliseconds(),3)),r.tz&&(e+=r.tz)),r.y?(f+=u.getFullYear(),r.m&&(f+="-"+g(u.getMonth()+1),r.d&&(f+="-"+g(u.getDate())),r.h&&(f+="T"+e))):r.h&&(f=e)),f}return n}function e(n,t,i,r){var u;return n?n.getTime?n:n.toDate?n.toDate():("string"==typeof n&&(n=n.trim()),(u=ns.exec(n))?(go(u,2,r),new Date(1970,0,1,u[2]?+u[2]:0,u[3]?+u[3]:0,u[4]?+u[4]:0,u[5]?+u[5]:0)):(u=u||ul.exec(n))?(go(u,0,r),new Date(u[1]?+u[1]:1970,u[2]?u[2]-1:0,u[3]?+u[3]:1,u[4]?+u[4]:0,u[5]?+u[5]:0,u[6]?+u[6]:0,u[7]?+u[7]:0)):si(t,n,i)):null}function nt(n,t){return n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()}function ou(i){function ri(n){var u,i,t,o,f=[];if(n){for(u=0;u<n.length;u++)if((i=n[u]).start&&i.end&&!ns.test(i.start))for(t=new Date(e(i.start,a,r)),o=new Date(e(i.end,a,r));t<=o;)f.push(kt(t.getFullYear(),t.getMonth(),t.getDate())),t.setDate(t.getDate()+1);else f.push(i);return f}return n}function l(n,t,i,r){return Math.min(r,Math.floor(n/t)*t+i)}function pt(n,t,i){return Math.floor((i-t)/n)*n+t}function st(n){return n.getFullYear()+"-"+g(n.getMonth()+1)+"-"+g(n.getDate())}function p(n,t,i,r){var f;return void 0===u[t]||(f=+n[u[t]],isNaN(f))?i?h[t](i):void 0!==ct[t]?ct[t]:h[t](r):f}function w(n){var t,i=new Date((new Date).setHours(0,0,0,0));if(null===n)return n;void 0!==u.dd&&(t=n[u.dd].split("-"),t=new Date(t[0],t[1]-1,t[2]));void 0!==u.tt&&(t=t||i,t=new Date(t.getTime()+n[u.tt]%86400*1e3));var f=p(n,"y",t,i),e=p(n,"m",t,i),s=Math.min(p(n,"d",t,i),r.getMaxDayOfMonth(f,e)),o=p(n,"h",t,i);return r.getDate(f,e,s,k&&p(n,"a",t,i)?o+12:o,p(n,"i",t,i),p(n,"s",t,i),p(n,"u",t,i))}function rt(n,t){var r,i,f=["y","m","d","a","h","i","s","u","dd","tt"],e=[];if(null==n)return n;for(r=0;r<f.length;r++)void 0!==u[i=f[r]]&&(e[u[i]]=h[i](n)),t&&(ct[i]=h[i](n));return e}function wt(n,t){return t?Math.floor(new Date(n)/864e5):n.getMonth()+12*(n.getFullYear()-1970)}function gi(n){return{value:n,display:(/yy/i.test(ft)?n:(n+"").substr(2,2))+(r.yearSuffix||"")}}function nr(n){return n}function tr(n){var t=/d/i.test(n);return{label:"",cssClass:"mbsc-dt-whl-date",min:f?wt(st(f),t):void 0,max:s?wt(st(s),t):void 0,data:function(i){var f=new Date((new Date).setHours(0,0,0,0)),u=t?new Date(864e5*i):new Date(1970,i,1);return t&&(u=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate())),{invalid:t&&!tt(u,!0),value:st(u),display:f.getTime()==u.getTime()?r.todayText:c(n,u,r)}},getIndex:function(n){return wt(n,t)}}}function ir(n){var t,i,u,f=[];for(/s/i.test(n)?i=et:/i/i.test(n)?i=60*d:/h/i.test(n)&&(i=3600*it),ht=y.tt=i,t=0;t<86400;t+=i)u=new Date((new Date).setHours(0,0,0,0)+1e3*t),f.push({value:t,display:c(n,u,r)});return{label:"",cssClass:"mbsc-dt-whl-time",data:f}}function ui(n,t){return r.getYear(n)===r.getYear(t)&&r.getMonth(n)===r.getMonth(t)}function tt(n,t){return!(!t&&n<f)&&!(!t&&s<n)&&(!!fi(n,ni)||!fi(n,gt))}function fi(n,t){var u,f,i;if(t)for(f=0;f<t.length;f++)if(i=(u=t[f])+"",!u.start)if(vt.test(i)){if((i=+i.replace("w",""))==n.getDay())return!0}else if(ci.test(i)){if((i=i.split("/"))[1]){if(i[0]-1==n.getMonth()&&i[1]==n.getDate())return!0}else if(i[0]==n.getDate())return!0}else if(u=e(u,a,r),n.getFullYear()==u.getFullYear()&&n.getMonth()==u.getMonth()&&n.getDate()==u.getDate())return!0;return!1}function ei(n,t,i,u,f,o,s){var c,v,l,h;if(n)for(v=0;v<n.length;v++)if(h=(c=n[v])+"",!c.start)if(vt.test(h))for(l=(h=+h.replace("w",""))-u;l<f;l+=7)0<=l&&(o[l+1]=s);else ci.test(h)?(h=h.split("/"))[1]?h[0]-1==i&&(o[h[1]]=s):o[h[0]]=s:(c=e(c,a,r),r.getYear(c)==t&&r.getMonth(c)==i&&(o[r.getDay(c)]=s))}function oi(n,t,i,u,f,e,o,s){var yt,ot,tt,pt,wt,st,w,ct,lt,h,p,c,a,it,rt,bt,at,ut,ft,et,kt={},g=r.getDate(u,f,e),d=["a","h","i","s"];if(n){for(w=0;w<n.length;w++)(p=n[w]).start&&(p.apply=!1,ut=(at=(tt=p.d)+"").split("/"),tt&&(tt.getTime&&u==r.getYear(tt)&&f==r.getMonth(tt)&&e==r.getDay(tt)||!vt.test(at)&&(ut[1]&&e==ut[1]&&f==ut[0]-1||!ut[1]&&e==ut[0])||vt.test(at)&&g.getDay()==+at.replace("w",""))&&(p.apply=!0,kt[g]=!0));for(w=0;w<n.length;w++)if(p=n[w],bt=yt=0,ct=nt[i],lt=v[i],ot=!(rt=it=!0),p.start&&(p.apply||!p.d&&!kt[g])){for(c=p.start.split(":"),a=p.end.split(":"),h=0;h<3;h++)void 0===c[h]&&(c[h]=0),void 0===a[h]&&(a[h]=59),c[h]=+c[h],a[h]=+a[h];if("tt"==i)ct=l(Math.round((new Date(g).setHours(c[0],c[1],c[2])-new Date(g).setHours(0,0,0,0))/1e3),ht,0,86400),lt=l(Math.round((new Date(g).setHours(a[0],a[1],a[2])-new Date(g).setHours(0,0,0,0))/1e3),ht,0,86400);else{for(c.unshift(11<c[0]?1:0),a.unshift(11<a[0]?1:0),k&&(12<=c[1]&&(c[1]=c[1]-12),12<=a[1]&&(a[1]=a[1]-12)),h=0;h<t;h++)void 0!==b[h]&&(ft=l(c[h],y[d[h]],nt[d[h]],v[d[h]]),et=l(a[h],y[d[h]],nt[d[h]],v[d[h]]),st=wt=pt=0,k&&1==h&&(pt=c[0]?12:0,wt=a[0]?12:0,st=b[0]?12:0),it||(ft=0),rt||(et=v[d[h]]),(it||rt)&&ft+pt<b[h]+st&&b[h]+st<et+wt&&(ot=!0),b[h]!=ft&&(it=!1),b[h]!=et&&(rt=!1));if(!s)for(h=t+1;h<4;h++)0<c[h]&&(yt=y[i]),a[h]<v[d[h]]&&(bt=y[i]);ot||(ft=l(c[t],y[i],nt[i],v[i])+yt,et=l(a[t],y[i],nt[i],v[i])-bt,it&&(ct=ft),rt&&(lt=et))}if(it||rt||ot)for(h=ct;h<=lt;h+=y[i])o[h]=!s}}}var ht,li,ai,u={},ct={},o={},b=[],vi=function(n){var t,r,u,i={};if(n.is("input")){switch(n.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm";i.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}i.format=t;r=n.attr("min");u=n.attr("max");r&&"undefined"!=r&&(i.min=si(t,r));u&&"undefined"!=u&&(i.max=si(t,u))}return i}(n(this)),yi=t({},i.settings),rr=oc[yi.calendarSystem],r=t(i.settings,eu,rr,ts,vi,yi),ut=r.preset,bt="datetime"==ut?r.dateFormat+r.separator+r.timeFormat:"time"==ut?r.timeFormat:r.dateFormat,a=vi.format||bt,pi=r.dateWheels||r.dateFormat,dt=r.timeWheels||r.timeFormat,ft=r.dateWheels||r.dateDisplay,lt=dt,ur=r.baseTheme||r.theme,gt=ri(r.invalid),ni=ri(r.valid),f=e(r.min,a,r),s=e(r.max,a,r),wi=/time/i.test(ut),k=/h/.test(lt),fr=/D/.test(ft),at=r.steps||{},it=at.hour||r.stepHour||1,d=at.minute||r.stepMinute||1,et=at.second||r.stepSecond||1,ti=at.zeroBased,yt=ti||!f?0:f.getHours()%it,ot=ti||!f?0:f.getMinutes()%d,ii=ti||!f?0:f.getSeconds()%et,bi=pt(it,yt,k?11:23),ki=pt(d,ot,59),di=pt(d,ot,59),nt={y:f?f.getFullYear():-1/0,m:0,d:1,h:yt,i:ot,s:ii,a:0,tt:0},v={y:s?s.getFullYear():1/0,m:11,d:31,h:bi,i:ki,s:di,a:1,tt:86400},y={y:1,m:1,d:1,h:it,i:d,s:et,a:1,tt:1},h={y:function(n){return r.getYear(n)},m:function(n){return r.getMonth(n)},d:function(n){return r.getDay(n)},h:function(n){var t=n.getHours();return l(t=k&&12<=t?t-12:t,it,yt,bi)},i:function(n){return l(n.getMinutes(),d,ot,ki)},s:function(n){return l(n.getSeconds(),et,ii,di)},u:function(n){return n.getMilliseconds()},a:function(n){return 11<n.getHours()?1:0},dd:st,tt:function(n){return l(Math.round((n.getTime()-new Date(n).setHours(0,0,0,0))/1e3),ht||1,0,86400)}};return i.getVal=function(n){return i._hasValue||n?hi(w(i.getArrayVal(n)),r,a):null},i.getDate=function(n){return i._hasValue||n?w(i.getArrayVal(n)):null},i.setDate=function(n,t,r,u,f){i.setArrayVal(rt(n,!0),t,f,u,r)},ai=function(){var y,p,t,c,n,h,e,v,i=0,w=[],a=[],l=[];if(/date/i.test(ut)){for(y=pi.split(/\|/.test(pi)?"|":""),c=0;c<y.length;c++)if(h=0,(t=y[c]).length)if(/y/i.test(t)&&(o.y=1,h++),/m/i.test(t)&&(o.y=1,o.m=1,h++),/d/i.test(t)&&(o.y=1,o.m=1,o.d=1,h++),1<h&&void 0===u.dd)u.dd=i,i++,a.push(tr(t)),l=a,li=!0;else if(/y/i.test(t)&&void 0===u.y)u.y=i,i++,a.push({cssClass:"mbsc-dt-whl-y",label:r.yearText,min:f?r.getYear(f):void 0,max:s?r.getYear(s):void 0,data:gi,getIndex:nr});else if(/m/i.test(t)&&void 0===u.m){for(u.m=i,e=[],i++,n=0;n<12;n++)v=ft.replace(/[dy|]/gi,"").replace(/mm/,g(n+1)+(r.monthSuffix||"")).replace(/m/,n+1+(r.monthSuffix||"")),e.push({value:n,display:/MM/.test(v)?v.replace(/MM/,'<span class="mbsc-dt-month">'+r.monthNames[n]+"<\/span>"):v.replace(/M/,'<span class="mbsc-dt-month">'+r.monthNamesShort[n]+"<\/span>")});a.push({cssClass:"mbsc-dt-whl-m",label:r.monthText,data:e})}else if(/d/i.test(t)&&void 0===u.d){for(u.d=i,e=[],i++,n=1;n<32;n++)e.push({value:n,display:(/dd/i.test(ft)?g(n):n)+(r.daySuffix||"")});a.push({cssClass:"mbsc-dt-whl-d",label:r.dayText,data:e})}w.push(a)}if(/time/i.test(ut)){for(p=dt.split(/\|/.test(dt)?"|":""),c=0;c<p.length;c++)if(h=0,(t=p[c]).length&&(/h/i.test(t)&&(o.h=1,h++),/i/i.test(t)&&(o.i=1,h++),/s/i.test(t)&&(o.s=1,h++),/a/i.test(t)&&h++),1<h&&void 0===u.tt)u.tt=i,i++,l.push(ir(t));else if(/h/i.test(t)&&void 0===u.h){for(e=[],u.h=i,o.h=1,i++,n=yt;n<(k?12:24);n+=it)e.push({value:n,display:k&&0===n?12:/hh/i.test(lt)?g(n):n});l.push({cssClass:"mbsc-dt-whl-h",label:r.hourText,data:e})}else if(/i/i.test(t)&&void 0===u.i){for(e=[],u.i=i,o.i=1,i++,n=ot;n<60;n+=d)e.push({value:n,display:/ii/i.test(lt)?g(n):n});l.push({cssClass:"mbsc-dt-whl-i",label:r.minuteText,data:e})}else if(/s/i.test(t)&&void 0===u.s){for(e=[],u.s=i,o.s=1,i++,n=ii;n<60;n+=et)e.push({value:n,display:/ss/i.test(lt)?g(n):n});l.push({cssClass:"mbsc-dt-whl-s",label:r.secText,data:e})}else/a/i.test(t)&&void 0===u.a&&(u.a=i,i++,l.push({cssClass:"mbsc-dt-whl-a",label:r.ampmText,data:/A/.test(t)?[{value:0,display:r.amText.toUpperCase()},{value:1,display:r.pmText.toUpperCase()}]:[{value:0,display:r.amText},{value:1,display:r.pmText}]}));l!=a&&w.push(l)}return w}(),r.isoParts=o,i._format=bt,i._order=u,i.handlers.now=function(){i.setDate(new Date,i.live,1e3,!0,!0)},i.buttons.now={text:r.nowText,icon:r.nowIcon,handler:"now"},{minWidth:li&&wi?{bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50}[ur]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:ai,headerText:!!r.headerText&&function(){return c(bt,w(i.getArrayVal(!0)),r)},formatValue:function(n){return c(a,w(n),r)},parseValue:function(n){return n||(ct={},i._hasValue=!1),rt(e(n||r.defaultValue||new Date,a,r,o),!!n)},validate:function(t){var e,l,k,it,lt=t.values,ut=t.index,st=t.direction,d=r.wheels[0][u.d],a=function(n,t){var i,r,e=!1,u=!1,o=0,h=0,c=f?w(rt(f)):-1/0,l=s?w(rt(s)):1/0;if(tt(n))return n;if(n<c&&(n=c),l<n&&(n=l),r=i=n,2!==t)for(e=tt(i,!0);!e&&i<l&&o<100;)e=tt(i=new Date(i.getTime()+864e5),!0),o++;if(1!==t)for(u=tt(r,!0);!u&&c<r&&h<100;)u=tt(r=new Date(r.getTime()-864e5),!0),h++;return 1===t&&e?i:2===t&&u?r:ui(n,i)?i:ui(n,r)?r:h<=o&&u?r:i}(w(lt),st),ht=rt(a),p=[],ct={},o=h.y(a),c=h.m(a),g=r.getMaxDayOfMonth(o,c),et=!0,ot=!0;if(n.each(["dd","y","m","d","tt","a","h","i","s"],function(t,i){var w=nt[i],b=v[i],e=h[i](a),d,k;if(p[u[i]]=[],et&&f&&(w=h[i](f)),ot&&s&&(b=h[i](s)),e<w&&(e=w),b<e&&(e=b),"dd"!==i&&"tt"!==i&&(et=et&&e==w,ot=ot&&e==b),void 0!==u[i]){if("y"!=i&&"dd"!=i)for(l=nt[i];l<=v[i];l+=y[i])(l<w||b<l)&&p[u[i]].push(l);"d"==i&&(d=r.getDate(o,c,1).getDay(),k={},ei(gt,o,c,d,g,k,1),ei(ni,o,c,d,g,k,0),n.each(k,function(n,t){t&&p[u[i]].push(n)}))}}),wi&&n.each(["a","h","i","s","tt"],function(t,r){var s=h[r](a),e=h.d(a),f={};void 0!==u[r]&&(oi(gt,t,r,o,c,e,f,0),oi(ni,t,r,o,c,e,f,1),n.each(f,function(n,t){t&&p[u[r]].push(n)}),b[t]=i.getValidValue(u[r],s,st,f))}),d&&(d._length!==g||fr&&(void 0===ut||ut===u.y||ut===u.m))){for((ct[u.d]=d).data=[],e=1;e<=g;e++)it=r.getDate(o,c,e).getDay(),k=ft.replace(/[my|]/gi,"").replace(/dd/,(e<10?"0"+e:e)+(r.daySuffix||"")).replace(/d/,e+(r.daySuffix||"")),d.data.push({value:e,display:/DD/.test(k)?k.replace(/DD/,'<span class="mbsc-dt-day">'+r.dayNames[it]+"<\/span>"):k.replace(/D/,'<span class="mbsc-dt-day">'+r.dayNamesShort[it]+"<\/span>")});i._tempWheelArray[u.d]=ht[u.d];i.changeWheel(ct)}return{disabled:p,valid:ht}}}}function is(i){function rt(n,t,i){for(var o,f,r=0,u=i,e=[];r<t;){o=n[r];for(f in u)if(u[f].key==o){u=u[f].children;break}r++}for(r=0;r<u.length;)u[r].invalid&&e.push(u[r].key),r++;return e}function y(n,t,i){var u,r,f=0,h=!0,s=[[]],e=o;if(t)for(r=0;r<t;r++)a?s[0][r]={}:s[r]=[{}];for(;h;){for(a?s[0][f]=d(e,f):s[f]=[d(e,f)],r=0,u=null;r<e.length&&!u;)e[r].key==n[f]&&(void 0!==i&&f<=i||void 0===i)&&(u=e[r]),r++;(u=u||p(e))&&u.children?(e=u.children,f++):h=!1}return s}function p(n,t){if(!n)return!1;for(var r,i=0;i<n.length;)if(!(r=n[i++]).invalid)return t?i-1:r;return!1}function d(n,t){for(var u={data:[],label:r.labels&&r.labels[t]?r.labels[t]:t},i=0;i<n.length;)u.data.push({value:n[i].key,display:n[i].value}),i++;return u}function g(t){i._isVisible&&n(".mbsc-sc-whl-w",i._markup).css("display","").slice(t).hide()}function w(n,t){for(var r,e,f,u=0,i=o,s=!0,h=[];s;){if(void 0!==n[u]&&u<=t)for(f=0,e=n[u],r=void 0;f<i.length&&void 0===r;)i[f].key!=n[u]||i[f].invalid||(r=f),f++;else e=i[r=p(i,!0)]&&i[r].key;h[u]=e;u++;s=!!i[r]&&i[r].children;i=i[r]&&i[r].children}return{lvl:u,nVector:h}}function nt(n,t,r){for(var f=(t||0)+1,o=[],h={},e=y(n,null,t),u=0;u<n.length;u++)i._tempWheelArray[u]=n[u]=r.nVector[u]||0;for(;f<r.lvl;)h[f]=a?e[0][f]:e[f][0],o.push(f++);g(r.lvl);v=n.slice(0);o.length&&(s=!0,i.changeWheel(h))}var e,u,s,l,tt=t({},i.settings),r=t(i.settings,rs,tt),b=r.layout||(/top|bottom/.test(r.display)?"liquid":""),a="liquid"==b,it=r.readonly,h=n(this),c=this.id+"_dummy",f=0,v=[],o=r.wheelArray||function c(t){var u=[],f=1<t.length?t:t.children(r.itemSelector);return f.each(function(t){var f=n(this),e=f.clone();e.children("ul,ol").remove();e.children(r.itemSelector).remove();var h=i._processMarkup?i._processMarkup(e):e.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),l=!!f.attr("data-invalid"),o={key:void 0===f.attr("data-val")||null===f.attr("data-val")?t:f.attr("data-val"),value:h,invalid:l,children:null},s="li"===r.itemSelector?f.children("ul,ol"):f.children(r.itemSelector);s.length&&(o.children=c(s));u.push(o)}),u}(h),k=function(n){for(var t,r=[],u=n,i=!0,f=0;i;)t=p(u),r[f++]=t.key,(i=t.children)&&(u=i);return r}(o);return function l(n,t){var i;for(f=f<t?t:f,i=0;i<n.length;i++)n[i].children&&l(n[i].children,t+1)}(o,1),l=y(k,f),n("#"+c).remove(),r.input?u=n(r.input):r.showInput&&(u=n('<input type="text" id="'+c+'" value="" class="'+r.inputClass+'" placeholder="'+(r.placeholder||"")+'" readonly />').insertBefore(h)),u&&i.attachShow(u),r.wheelArray||h.hide(),{wheels:l,anchor:u,layout:b,headerText:!1,setOnTap:1==f,formatValue:function(n){return void 0===e&&(e=w(n,n.length).lvl),n.slice(0,e).join(" ")},parseValue:function(n){return n?(n+"").split(" "):(r.defaultValue||k).slice(0)},onBeforeShow:function(){var n=i.getArrayVal(!0);v=n.slice(0);r.wheels=y(n,f,f);s=!0},onWheelGestureStart:function(n){r.readonly=function(n,t){for(var i=[];n;)i[--n]=!0;return i[t]=!1,i}(f,n.index)},onWheelAnimationEnd:function(n){var t=n.index,u=i.getArrayVal(!0),f=w(u,t);e=f.lvl;r.readonly=it;u[t]!=v[t]&&nt(u,t,f)},onFill:function(n){e=void 0;u&&u.val(n.valueText)},validate:function(n){var t=n.values,r=n.index,i=w(t,t.length);return e=i.lvl,void 0===r&&(g(i.lvl),s||nt(t,r,i)),s=!1,{disabled:function(n,t,i){for(var r=0,u=[];r<n;)u[r]=rt(i,r,t),r++;return u}(e,o,t)}},onDestroy:function(){u&&n("#"+c).remove();h.show()}}}function pf(r){function yt(n){n.hasClass("mbsc-cal-h")||n.addClass("mbsc-cal-h")}function ku(n){var t;n.hasClass("mbsc-cal-h")?(t=n).hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),r._onSelectShow()):yt(n)}function hi(n,t,i){n[t]=n[t]||[];n[t].push(i)}function li(t,i,r){var h,o,c,f,l=u.getYear(i),a=u.getMonth(i),s={};return t&&n.each(t,function(n,t){if(h=t.d||t.start||t,o=h+"",t.start&&t.end)for(f=at(e(t.start,st,u)),c=at(e(t.end,st,u));f<=c;)hi(s,f,t),f=u.getDate(u.getYear(f),u.getMonth(f),u.getDay(f)+1);else if(vt.test(o))for(f=ai(i,!1,+o.replace("w",""));f<=r;)hi(s,f,t),f=u.getDate(u.getYear(f),u.getMonth(f),u.getDay(f)+7);else if(ci.test(o))if((o=o.split("/"))[1])for(f=u.getDate(l,o[0]-1,o[1]);f<=r;)hi(s,f,t),f=u.getDate(u.getYear(f)+1,u.getMonth(f),o[1]);else for(f=u.getDate(l,a,o[0]);f<=r;)hi(s,f,t),f=u.getDate(u.getYear(f),u.getMonth(f)+1,o[0]);else hi(s,at(e(h,st,u)),t)}),s}function lf(n){var i,o,e,s,u=!!di[n]&&di[n],f=!!gi[n]&&gi[n],c=f&&f[0].background?f[0].background:u&&u[0].background,h="";if(f)for(i=0;i<f.length;i++)h+=(f[i].cssClass||"")+" ";if(u){for(e='<div class="mbsc-cal-marks">',i=0;i<u.length;i++)h+=((o=u[i]).cssClass||"")+" ",e+='<div class="mbsc-cal-mark"'+(o.color?' style="background:'+o.color+';"':"")+"><\/div>";e+="<\/div>"}return s={marked:u,background:c,cssClass:h,markup:dt[n]?dt[n].join(""):kr?e:""},t(s,r._getDayProps(n,s))}function tu(n){return' style="'+(p?"transform: translateY("+100*n+"%)":"left:"+100*n*it+"%")+'"'}function du(n){return rt(n,h-1)>b&&(n=rt(b,1-h)),n<k&&(n=k),n}function ar(t,i,r){var u=t.color,f=t.text;return'<div data-id="'+t._id+'" data-index="'+i+'" class="mbsc-cal-txt" title="'+n("<div>"+f+"<\/div>").text()+'"'+(u?' style="background:'+u+(r?";color:"+co(u):"")+';"':"")+">"+(r?f:"")+"<\/div>"}function gu(n){var i=ai(rt(n,-d-ut),!1),t=ai(rt(n,-d+h+ut-1),!1);t=u.getDate(u.getYear(t),u.getMonth(t),u.getDay(t)+7*s);r._onGenMonth(i,t);cu=li(u.invalid,i,t);pu=li(u.valid,i,t);di=li(u.labels||u.events||u.marked,i,t);gi=li(u.colors,i,t);dr=r._labels||di||gi;(ui=u.labels||r._labels)&&function(){dt={};for(var r={},n=i,f=function(){var l,tt;n.getDay()==w&&(r={});for(var d=nr,a=dr[n]||[],s=a.length,h=[],f=void 0,v=void 0,t=0,c=0,o=0,g=void 0;t<d;)if(f=null,a.forEach(function(n,i){r[t]==n&&(f=n,v=i)}),t==d-1&&(c<s-1||s&&o==s&&!f))l=s-c,tt=(1<l&&u.moreEventsPluralText||u.moreEventsText).replace(/{count}/,l),l&&h.push('<div class="mbsc-cal-txt-more">'+tt+"<\/div>"),f&&(r[t]=null,f._days.forEach(function(n){dt[n][t]='<div class="mbsc-cal-txt-more">'+u.moreEventsText.replace(/{count}/,1)+"<\/div>"})),c++,t++;else if(f)v==o&&o++,nt(n,e(f.end))&&(r[t]=null),h.push(ar(f,v)),t++,c++,f._days.push(n);else if(o<s){var i=a[o],y=i.start&&e(i.start),p=i.end&&e(i.end),b=n.getDay(),it=0<w-b?7:0,k=p&&!nt(y,p);y&&!nt(n,y)&&b!=w||(void 0===i._id&&(i._id=hf++),k&&(r[t]=i),i._days=[n],g=k?100*Math.min(ko(n,at(p))+1,7+w-b-it):100,h.push(k?'<div class="mbsc-cal-txt-w" style="width:'+g+'%">'+ar(i,o,!0)+"<\/div>"+ar(i,o):ar(i,o,!0)),t++,c++);o++}else h.push('<div class="mbsc-cal-txt-ph"><\/div>'),t++;dt[n]=h;n=u.getDate(u.getYear(n),u.getMonth(n),u.getDay(n)+1)};n<t;)f()}()}function af(n){var t=u.getYear(n),i=u.getMonth(n);fu(tt=c=n);v("onMonthChange",{year:t,month:i});v("onMonthLoading",{year:t,month:i});v("onPageChange",{firstDay:n});v("onPageLoading",{firstDay:n});gu(n)}function nf(n){var t=u.getYear(n),i=u.getMonth(n);void 0===er?tf(n,t,i):ru(n,er,!0);uu(tt,f.focus);f.focus=!1}function tf(t,i,r){var u=f.$scroller;n(".mbsc-cal-slide",u).removeClass("mbsc-cal-slide-a");n(".mbsc-cal-slide",u).slice(ut,ut+h).addClass("mbsc-cal-slide-a");ui&&n(".mbsc-cal-slide-a .mbsc-cal-txt",u).on("mouseenter",function(){var t=n(this).attr("data-id");n('.mbsc-cal-txt[data-id="'+t+'"]',u).addClass("mbsc-hover")}).on("mouseleave",function(){n(".mbsc-cal-txt.mbsc-hover",u).removeClass("mbsc-hover")});v("onMonthLoaded",{year:i,month:r});v("onPageLoaded",{firstDay:t})}function rf(n,t){for(var i=u.getYear(n),f='<div class="mbsc-cal-slide"'+tu(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',r=0;r<12;r++)r&&r%3==0&&(f+='<\/div><div class="mbsc-cal-row">'),f+='<div role="gridcell" tabindex="-1" aria-label="'+i+'" data-val="'+i+'" class="mbsc-cal-cell mbsc-btn-e '+(i<ir||tr<i?" mbsc-disabled ":"")+(i==u.getYear(c)?ot:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+i+cr+"<\/div><\/div>",i++;return f+"<\/div><\/div><\/div>"}function uf(n,i){for(var e,g,a,v,y,tt,h,it,f,rt,ut,ft,p,ht,et,c,l=1,ct=u.getYear(n),st=u.getMonth(n),lt=u.getDay(n),at=null!==u.defaultValue||r._hasValue?r.getDate(!0):null,vt=u.getDate(ct,st,lt).getDay(),yt=0<w-vt?7:0,d='<div class="mbsc-cal-slide"'+tu(i)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',o=0;o<7*s;o++)et=o+w-yt,a=(e=u.getDate(ct,st,et-vt+lt)).getFullYear(),v=e.getMonth(),y=e.getDate(),tt=u.getMonth(e),h=u.getDay(e),ht=u.getMaxDayOfMonth(a,v),it=a+"-"+(v+1)+"-"+y,rt=(f=t({valid:(c=e,!(c<k||b<c||void 0!==cu[c]&&void 0===pu[c])),selected:at&&nt(at,e)},lf(e))).valid,ut=f.selected,g=f.cssClass,ft=new Date(e).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),p=tt!==st,bi[it]=f,o&&o%7==0&&(d+='<\/div><div class="mbsc-cal-row">'),si&&o%7==0&&("month"==si&&p&&1<l?l=1==y?1:2:"year"==si&&(l=u.getWeekNumber(u.getDate(a,v,y+(8-w)%7))),d+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+l+"<\/div>",l++),d+='<div role="gridcell" aria-label="'+(ft?u.todayText+", ":"")+u.dayNames[e.getDay()]+", "+u.monthNames[tt]+" "+h+" "+(f.ariaLabel?", "+f.ariaLabel:"")+'"'+(p&&!sr?' aria-hidden="true"':' data-full="'+it+'"')+(ut?' aria-selected="true"':"")+(rt?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+et%7+" "+(u.dayClass||"")+" "+(ut?ot:"")+(ft?" "+u.todayClass:"")+(g?" "+g:"")+(1==h?" mbsc-cal-day-first":"")+(h==ht?" mbsc-cal-day-last":"")+(p?" mbsc-cal-day-diff":"")+(rt?" mbsc-btn-e":" mbsc-disabled")+(f.marked?" mbsc-cal-day-marked":"")+(f.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(f.background?' style="background:'+f.background+";color:"+co(f.background)+'"':"")+">"+h+"<\/div>"+(f.markup?"<div>"+f.markup+"<\/div>":"")+"<\/div><\/div>";return d+"<\/div><\/div><\/div>"}function ru(n,t,i){var r,o=u.getYear(n),h=u.getMonth(n),c=f?f.pos:0,e="";if(bi={},s)for(t||(v("onMonthLoading",{year:o,month:h}),v("onPageLoading",{firstDay:n})),gu(n),r=0;r<gr;r++)e+=uf(rt(n,r-d-ut),c*it+r-ut);return er=void 0,i&&f&&(f.$active=null,f.$scroller.html(e),tf(n,o,h)),e}function uu(t,i){if(f){var r=f.$active;r&&r.length&&(r[0].blur(),r.hasClass("mbsc-disabled")?r.removeAttr("tabindex"):r.attr("tabindex","-1"));f.$active=n('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+or(t)+'"]',f.$scroller).attr("tabindex","0");i&&f.$active.length&&f.$active[0].focus()}}function ff(t,i){n(".mbsc-selected",i).removeClass(ot).removeAttr("aria-selected");n('.mbsc-cal-cell[data-val="'+t+'"]',i).addClass(ot).attr("aria-selected","true")}function ni(t,i,e,o){var l,v,w,p;g&&(t<k&&(t=k),b<t&&(t=b),"calendar"!==g&&fi&&!i||(r._isSetDate=!i,a&&s&&(v=ai(du(t),y),fr&&(t<rt(c,-d)||t>=rt(c,h-d))&&(l=y?u.getMonth(v)-u.getMonth(c)+12*(u.getYear(v)-u.getYear(c)):Math.floor(ko(c,v)/(7*s)))&&(f.queue=[],f.focus=o&&e,yr(f,l,e)),l&&e||uu(t,o),i||(w=t,p=f&&f.$scroller,u.highlight&&f&&(n(".mbsc-selected",p).removeClass(ot).removeAttr("aria-selected"),null===u.defaultValue&&!r._hasValue||n('.mbsc-cal-day[data-full="'+or(w)+'"]',p).addClass(ot).attr("aria-selected","true"))),y||fu(t,!0),tt=t,fr=!0),r._onSetDate(t,l),r._isSetDate=!1))}function fu(t,i){var r,l,c,f=u.getYear(t),e=u.getMonth(t),s=f+cr;if(ht){if(ff(e,ct.$scroller),ff(f,gt.$scroller),yr(gt,Math.floor(f/12)-Math.floor(u.getYear(gt.first)/12),!0),n(".mbsc-cal-cell",ct.$scroller).removeClass("mbsc-disabled"),f===ir)for(r=0;r<yu;r++)n('.mbsc-cal-cell[data-val="'+r+'"]',ct.$scroller).addClass("mbsc-disabled");if(f===tr)for(r=au+1;r<=12;r++)n('.mbsc-cal-cell[data-val="'+r+'"]',ct.$scroller).addClass("mbsc-disabled")}for(i||(vr(n(".mbsc-cal-prev-m",o),rt(t,-d)<=k),vr(n(".mbsc-cal-next-m",o),rt(t,h-d)>b),vr(n(".mbsc-cal-prev-y",o),u.getDate(f-1,e+1,1)<=k),vr(n(".mbsc-cal-next-y",o),u.getDate(f+1,e,1)>b)),wr.attr("aria-label",f).html(s),r=0;r<h;r++)t=u.getDate(f,e-d+r,1),l=u.getYear(t),c=u.getMonth(t),s=l+cr,ti.eq(r).attr("aria-label",u.monthNames[c]+(lt?"":" "+f)).html((!lt&&hr<rr?s+" ":"")+ur[c]+(!lt&&rr<hr?" "+s:""))}function vr(n,t){t?n.addClass(br).attr("aria-disabled","true"):n.removeClass(br).removeAttr("aria-disabled")}function ef(i,f){var s=r.getDate(!0),h=i[0],c=i.attr("data-full"),l=c?c.split("-"):[],o=kt(l[0],l[1]-1,l[2]),a=kt(o.getFullYear(),o.getMonth(),o.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),w=i.hasClass("mbsc-selected"),e=n(f.target),y=e[0],b,p;if(sr||!i.hasClass("mbsc-cal-day-diff")){if(ui&&h.contains(y))for(;y!=h;){if(e.hasClass("mbsc-cal-txt")||e.hasClass("mbsc-cal-txt-more")){if(b=e.attr("data-index"),p=dr[o],!1===v("onLabelTap",{date:a,domEvent:f,target:e[0],labels:p,label:p[b]}))return;break}y=(e=e.parent())[0]}!1===v("onDayChange",t(bi[c],{date:a,target:h,selected:w}))||u.readonly||i.hasClass("mbsc-disabled")||r._selectDay(i,o,a,w)}}function vf(n){yt(ii);ni(u.getDate(u.getYear(f.first),n.attr("data-val"),1),!0,!0)}function yf(n){yt(ri);ni(u.getDate(n.attr("data-val"),u.getMonth(f.first),1),!0,!0)}function ai(n,t,i){var r=u.getYear(n),f=u.getMonth(n),e=n.getDay(),o=0<w-e?7:0;return t?u.getDate(r,f,1):u.getDate(r,f,(void 0===i?w:i)-o-e+u.getDay(n))}function rt(n,t){var i=u.getYear(n),r=u.getMonth(n),f=u.getDay(n);return y?u.getDate(i,r+t,1):u.getDate(i,r,f+t*s*7)}function of(n,t){var i=12*Math.floor(u.getYear(n)/12);return u.getDate(i+12*t,0,1)}function yr(t,i,u,f){i&&r._isVisible&&(t.queue.push(arguments),1==t.queue.length&&function f(t,i,u,e){var o,c,p="",s=t.$scroller,l=t.buffer,a=t.offset,w=t.pages,g=t.total,v=t.first,b=t.genPage,y=t.getFirst,h=0<i?Math.min(i,l):Math.max(i,-l),k=t.pos*it+h-i+a,d=Math.abs(i)>l;t.callback&&(t.load(),t.callback(!0));t.first=y(v,i);t.pos+=h*it;t.changing=!0;t.load=function(){if(d){for(o=0;o<w;o++)p+=b(y(v,c=i+o-a),k+c);0<i?(n(".mbsc-cal-slide",s).slice(-w).remove(),s.append(p)):i<0&&(n(".mbsc-cal-slide",s).slice(0,w).remove(),s.prepend(p))}};t.callback=function(u){var w=Math.abs(h),p="";if(r._isVisible){for(o=0;o<w;o++)p+=b(y(v,c=i+o-a-l+(0<i?g-w:0)),k+c);if(0<i?(s.append(p),n(".mbsc-cal-slide",s).slice(0,h).remove()):i<0&&(s.prepend(p),n(".mbsc-cal-slide",s).slice(h).remove()),d){for(p="",o=0;o<w;o++)p+=b(y(v,c=i+o-a-l+(0<i?0:g-w)),k+c);0<i?(n(".mbsc-cal-slide",s).slice(0,h).remove(),s.prepend(p)):i<0&&(n(".mbsc-cal-slide",s).slice(h).remove(),s.append(p))}pr(t);e&&!u&&e();t.callback=null;t.load=null;t.queue.shift();d=!1;t.queue.length?f.apply(this,t.queue[0]):(t.changing=!1,t.onAfterChange(t.first))}};t.onBeforeChange(t.first);t.load&&(t.load(),t.scroller.scroll(-t.pos*t.size,u?200:0,!1,t.callback))}(t,i,u,f))}function eu(t,i,f,e,o,s,h,c,l,a,v,y,w){var k=p?"Y":"X",b={$scroller:n(".mbsc-cal-scroll",t),queue:[],buffer:e,offset:o,pages:s,first:c,total:h,pos:0,min:i,max:f,genPage:y,getFirst:w,onBeforeChange:a,onAfterChange:v};return b.scroller=new oi(t,{axis:k,easing:"",contSize:0,maxSnapScroll:e,mousewheel:void 0===u.mousewheel?p:u.mousewheel,time:200,lock:!0,rtl:ei,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(t){"touchend"==t.domEvent.type&&wt();l(n(t.target),t.domEvent)},onAnimationStart:function(){b.changing=!0},onAnimationEnd:function(n){y&&yr(b,Math.round((-b.pos*b.size-n["pos"+k])/b.size)*it)}}),r._scrollers.push(b.scroller),b}function pr(n,i){var r,u=0,f=0,e=n.first;if(!n.changing||!i){if(n.getFirst){for(u=n.buffer,f=n.buffer;f&&n.getFirst(e,f+n.pages-n.offset-1)>n.max;)f--;for(;u&&n.getFirst(e,1-u-n.offset)<=n.min;)u--}r=Math.round(yi/n.pages);et&&r&&n.size!=r&&n.$scroller[p?"height":"width"](r);t(n.scroller.settings,{snap:r,minScroll:(-n.pos*it-f)*r,maxScroll:(-n.pos*it+u)*r});n.size=r;n.scroller.refresh()}}function sf(n){r._onRefresh(n);r._isVisible&&a&&s&&(f&&f.changing?er=n:(ru(c,n,!0),uu(tt)))}var ft,o,ti,ii,vi,pt,wr,ri,tt,su,s,yi,pi,hu,l,bt,br,ot,wi,c,dt,bi,f,st,w,a,ui,kr,fi,ht,cu,ki,et,y,ei,p,dr,di,gi,b,lu,nr,au,tr,k,vu,yu,ir,rr,ur,ct,fr,er,ut,h,d,gr,it,u,sr,v,pu,g,si,wu,lt,hr,gt,cr,lr,nu,bu,hf=1,cf=this;return l={},bt=[],dt={},v=r.trigger,bu=t({},r.settings),lr=(u=t(r.settings,us,bu)).controls.join(","),w=u.firstDay,ei=u.rtl,ut=u.pageBuffer,si=u.weekCounter,s=u.weeks,y=6==s,p="vertical"==u.calendarScroll,hu=r._getRespCont(),wu="full"==u.weekDays?"":"min"==u.weekDays?"Min":"Short",nu=u.layout||("inline"==u.display||/top|bottom/.test(u.display)&&u.touchUi?"liquid":""),pi=(et="liquid"==nu)?null:u.calendarWidth,it=ei&&!p?-1:1,br="mbsc-disabled "+(u.disabledClass||""),wi="mbsc-selected "+(u.selectedTabClass||""),ot="mbsc-selected "+(u.selectedClass||""),nr=Math.max(1,Math.floor(((u.calendarHeight||0)/s-45)/18)),lr.match(/calendar/)&&(l.calendar=1,a=!0),lr.match(/date/)&&!a&&(l.date=1),lr.match(/time/)&&(l.time=1),u.controls.forEach(function(n){l[n]&&bt.push(n)}),ht=u.quickNav&&a&&y,lt=u.yearChange&&y,et&&a&&"center"==u.display&&(r._isFullScreen=!0),u.layout=nu,u.preset=(l.date||a?"date":"")+(l.time?"time":""),su=ou.call(this,r),ur=lt?u.monthNamesShort:u.monthNames,cr=u.yearSuffix||"",rr=(u.dateWheels||u.dateFormat).search(/m/i),hr=(u.dateWheels||u.dateFormat).search(/y/i),st=r._format,u.min&&(k=at(e(u.min,st,u)),ir=u.getYear(k),yu=u.getMonth(k),vu=u.getDate(12*Math.floor(ir/12),0,1)),u.max&&(b=at(e(u.max,st,u)),tr=u.getYear(b),au=u.getMonth(b),lu=u.getDate(12*Math.floor(tr/12),0,1)),r.refresh=function(){sf(!1)},r.redraw=function(){sf(!0)},r.navigate=function(n,t){ni(e(n,st,u),!0,t)},r.changeTab=function(t){r._isVisible&&l[t]&&g!=t&&(g=t,n(".mbsc-cal-tab",o).removeClass(wi).removeAttr("aria-selected"),n('.mbsc-cal-tab[data-control="'+t+'"]',o).addClass(wi).attr("aria-selected","true"),fi&&(pt.addClass("mbsc-cal-h"),l[g].removeClass("mbsc-cal-h")),"calendar"==g&&ni(r.getDate(!0),!1,!0),r._showDayPicker(),r.trigger("onTabChange",{tab:g}))},r._checkSize=!0,r._onGenMonth=i,r._onSelectShow=i,r._onSetDate=i,r._onRefresh=i,r._getDayProps=i,r._prepareObj=li,r._showDayPicker=function(){ht&&(yt(ri),yt(ii))},r._selectDay=r.__selectDay=function(n,t,i){var f=r.live;fr=u.outerMonthChange;ki=!0;r.setDate(i,f,1e3,!f,!0);f&&v("onSet",{valueText:r._value})},t(su,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var v,nt,e=0;o=n(t.target);vi=n(".mbsc-fr-c",o);tt=r.getDate(!0);yi=0;a&&(kr=!(!u.marked&&!u.data||u.labels||u.multiLabel||u.showEventCount),fr=!0,g="calendar",h="auto"==u.months?Math.max(1,Math.min(3,Math.floor((pi||oo(hu))/280))):+u.months,gr=h+2*ut,p=p&&h<2,sr=void(d=0)===u.showOuterDays?h<2&&!p:u.showOuterDays,c=ai(du(tt),y),vi.append(function(){for(var t,i,f,o,e="",l=ei?u.btnCalNextClass:u.btnCalPrevClass,a=ei?u.btnCalPrevClass:u.btnCalNextClass,r='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+u.prevMonthText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div>',n=0;n<(s?h:1);n++)r+='<div role="button" class="mbsc-cal-month"><\/div>';if(r+='<div data-step="1" role="button" tabindex="0" aria-label="'+u.nextMonthText+'" class="'+a+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div><\/div>',lt&&(e='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+u.prevYearText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div><div role="button" class="mbsc-cal-year"><\/div><div data-step="12" role="button" tabindex="0" aria-label="'+u.nextYearText+'" class="'+a+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><\/div><\/div>'),s&&(o=ru(c)),t='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(y?"":" mbsc-cal-week-view")+(1<h?" mbsc-cal-multi ":"")+(si?" mbsc-cal-weeks ":"")+(p?" mbsc-cal-vertical":"")+(kr?" mbsc-cal-has-marks":"")+(ui?" mbsc-cal-has-labels":"")+(sr?"":" mbsc-cal-hide-diff ")+(u.calendarClass||"")+'"'+(et?"":' style="width:'+(pi||280*h)+'px;"')+'><div class="mbsc-cal-hdr">'+(hr<rr||1<h?e+r:r+e)+"<\/div>",s){for(t+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',i=0;i<h;i++){for(t+='<div class="mbsc-cal-days">',n=0;n<7;n++)t+='<div class="mbsc-cal-week-day'+(f=(n+w)%7)+'" aria-label="'+u.dayNames[f]+'">'+u["dayNames"+wu][f]+"<\/div>";t+="<\/div>"}t+='<\/div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(u.calendarClass||"")+'"'+(u.calendarHeight?' style="height:'+u.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/h+'%">'+o+"<\/div><\/div>"}if(t+="<\/div>",ht){for(t+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(u.calendarClass||"")+'"><div class="mbsc-cal-scroll">',n=0;n<3;n++){for(t+='<div class="mbsc-cal-slide"'+tu(n-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',i=0;i<12;i++)i&&i%3==0&&(t+='<\/div><div class="mbsc-cal-row">'),t+='<div role="gridcell"'+(1==n?' tabindex="-1" aria-label="'+u.monthNames[i]+'" data-val="'+i+'"':"")+' class="mbsc-cal-cell'+(1==n?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==n?u.monthNamesShort[i]:"&nbsp;")+"<\/div><\/div>";t+="<\/div><\/div><\/div>"}for(t+="<\/div><\/div><\/div>",t+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(u.calendarClass||"")+'"><div class="mbsc-cal-scroll">',n=-1;n<2;n++)t+=rf(of(c,n),n);t+="<\/div><\/div><\/div>"}return t+"<\/div><\/div><\/div>"}()),ti=n(".mbsc-cal-month",o),wr=n(".mbsc-cal-year",o),ft=n(".mbsc-cal-day-scroll-c",o));ht&&(ri=n(".mbsc-cal-year-picker",o),ii=n(".mbsc-cal-month-picker",o));pt=n(".mbsc-w-p",o);1<bt.length&&vi.before((v='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',bt.forEach(function(n,t){nt=u[("calendar"==n?"date":n)+"Text"];v+='<div role="tab" aria-controls="'+cf.id+"-mbsc-pnl-"+t+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(t?"":wi)+'" data-control="'+n+'"'+(u.tabLink?'><a href="#">'+nt+"<\/a>":' tabindex="0">'+nt)+"<\/div>"}),v+="<\/div><\/div>"));["date","time","calendar"].forEach(function(n){l[n]?(l[n]=pt.eq(e),e++):"date"==n&&!l.date&&a&&(pt.eq(e).remove(),e++)});bt.forEach(function(n){vi.append(l[n])});!a&&l.date&&l.date.css("position","relative");r._scrollers=[],function(){if(a&&s){var t=n(".mbsc-cal-scroll-c",o);f=eu(t[0],k,b,ut,d,h,gr,c,ef,af,nf,uf,rt);ht&&(ct=eu(t[1],null,null,1,0,1,3,c,vf),gt=eu(t[2],vu,lu,1,0,1,3,c,yf,i,i,rf,of),r.tap(ti,function(){ku(ii);yt(ri)}),r.tap(wr,function(){ku(ri);yt(ii)}));iu(n(".mbsc-cal-btn",o),function(n,t,i,r){yr(f,t,!0,r)});nf(c);null===u.defaultValue&&!r._hasValue||r._multiple||(r._activeElm=f.$active[0]);ft.on("keydown",function(n){var r,t=u.getYear(tt),i=u.getMonth(tt),e=u.getDay(tt);switch(n.keyCode){case 32:ef(f.$active,n);break;case 37:r=u.getDate(t,i,e-1*it);break;case 39:r=u.getDate(t,i,e+1*it);break;case 38:r=u.getDate(t,i,e-7);break;case 40:r=u.getDate(t,i,e+7);break;case 36:r=u.getDate(t,i,1);break;case 35:r=u.getDate(t,i+1,0);break;case 33:r=n.altKey?u.getDate(t-1,i,e):y?u.getDate(t,i-1,e):u.getDate(t,i,e-7*s);break;case 34:r=n.altKey?u.getDate(t+1,i,e):y?u.getDate(t,i+1,e):u.getDate(t,i,e+7*s)}r&&(n.preventDefault(),ni(r,!0,!1,!0))})}r.tap(n(".mbsc-cal-tab",o),function(){r.changeTab(n(this).attr("data-control"))})}()},onShow:function(){a&&s&&fu(y?c:tt)},onHide:function(){r._scrollers.forEach(function(n){n.destroy()});g=gt=ct=f=bi=null},onValidated:function(n){var i,f,t=n.index,u=r._order;f=r.getDate(!0);ki?i="calendar":void 0!==t&&(i=u.dd==t||u.d==t||u.m==t||u.y==t?"date":"time");v("onSetDate",{date:f,control:i});"time"!==i&&ni(f,!1,!!n.time,ki&&!r._multiple);ki=!1},onPosition:function(t){var i,w,b,e,k,nt,v,rt=t.oldHeight,y=t.windowHeight;if(fi=(t.hasTabs||!0===u.tabs||!1!==u.tabs&&et)&&1<bt.length,et&&(t.windowWidth>=u.breakPointMd?n(t.target).addClass("mbsc-fr-md"):n(t.target).removeClass("mbsc-fr-md")),fi?(o.addClass("mbsc-cal-tabbed"),g=n(".mbsc-cal-tab.mbsc-selected",o).attr("data-control"),pt.addClass("mbsc-cal-h"),l[g].removeClass("mbsc-cal-h")):(o.removeClass("mbsc-cal-tabbed"),pt.removeClass("mbsc-cal-h")),r._isFullScreen&&(ft.height(""),v=y-(k=t.popup.offsetHeight)+ft[0].offsetHeight,k<=y&&ft.height(v)),ui&&s&&y!=rt){var ut=v||ft[0].offsetHeight,tt=ft.find(".mbsc-cal-txt-ph")[0],ot=tt.offsetTop,st=tt.offsetHeight,it=Math.max(1,Math.floor((ut/s-ot)/(st+2)));nr!=it&&(nr=it,r.redraw())}if(a&&s){if(e=(nt=et||p||fi?ft[0][p?"offsetHeight":"offsetWidth"]:pi||280*h)!=yi,yi=nt,et&&e&&lt)for(ur=u.maxMonthWidth>ti[0].offsetWidth?u.monthNamesShort:u.monthNames,w=u.getYear(c),b=u.getMonth(c),i=0;i<h;i++)ti.eq(i).text(ur[u.getMonth(u.getDate(w,b-d+i,1))]);e&&pr(f,!0)}ht&&e&&(pr(ct,!0),pr(gt,!0))}})}function hs(i,r){var u={},s=i[0],f=i.parent(),o=f.find(".mbsc-err-msg"),h=i.attr("data-icon-align")||"left",e=i.attr("data-icon");f.hasClass(hu)?f=f.parent():n('<span class="'+hu+'"><\/span>').insertAfter(i).append(i);o&&f.find("."+hu).append(o);e&&(-1!==e.indexOf("{")?u=JSON.parse(e):u[h]=e);"file"==s.type&&(u.right=i.attr("data-icon-upload")||"upload");(e||r)&&(t(u,r),f.addClass((u.right?"mbsc-ic-right ":"")+(u.left?" mbsc-ic-left":"")).find("."+hu).append('<span class="mbsc-input-fill"><\/span>').append(u.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+u.left+'"><\/span>':"").append(u.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+u.right+'"><\/span>':""))}function cs(t,i,r,u,f){"segmented"==i?t.closest(".mbsc-segmented").addClass("box"==r?"mbsc-input-box":"").addClass("outline"==r?"mbsc-input-outline":""):"button"!=i&&"submit"!=i&&(t.addClass("mbsc-control-w").addClass("box"==r?"mbsc-input-box":"").addClass("outline"==r?"mbsc-input-outline":"").addClass("inline"==u?"mbsc-label-inline":"").addClass("stacked"==u?"mbsc-label-stacked":"").addClass("floating"==u?"mbsc-label-floating":"").addClass("floating"==u&&f.value?"mbsc-label-floating-active":"").find("label").addClass("mbsc-label").each(function(t,i){n(i).attr("title",n(i).text())}),t.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){n('<span class="mbsc-label" title="'+this.textContent.trim()+'"><\/span>').insertAfter(this).append(this)}))}function ls(n){var t=u.themes.form[n];return t&&t.addRipple?t:null}function as(n,t,i){var r=n.attr(t);return void 0===r||""===r?i:r}function wf(n){var t=u.themes.form[n.theme].baseTheme;return"mbsc-"+n.theme+(t?" mbsc-"+t:"")+(n.rtl?" mbsc-rtl":" mbsc-ltr")}function vs(t,r,u){var s,e,o,h,f=this;ct.call(this,t,r,!0);f.__init=i;f.__destroy=i;f._init=function(){var i;h=f.settings;s=n(t);i=!!e;e=(e=s.parent()).hasClass("mbsc-input-wrap")?e.parent():e;f._$parent=e;o&&e.removeClass(o);o=f._css+" mbsc-progress-w mbsc-control-w "+wf(h);e.addClass(o);s.addClass("mbsc-control");f.__init();i||f._attachChange();f.refresh();t.mbscInst=f};f._destroy=function(){f.__destroy();e.removeClass(o);s.removeClass("mbsc-control");delete t.mbscInst};u||f.init()}function sr(t,i,r){function nt(){var n=l("value",s);n!==c&&b(n)}function l(n,t,i){var r=f.attr(n);return void 0===r||""===r?t:i?r:+r}function b(n,t,i,r){n=Math.min(h,Math.max(n,s));k.css("width",100*(n-s)/(h-s)+"%");void 0===i&&(i=!0);void 0===r&&(r=i);n===c&&!t||u._display(n);n!==c&&(c=n,i&&f.attr("value",c),r&&f.trigger("change"))}var a,f,o,k,v,y,s,h,d,g,e,p,c,w,u=this;vs.call(this,t,i,!0);u._display=function(n){w=p&&e.returnAffix?p.replace(/\{value\}/,n).replace(/\{max\}/,h):n;v&&v.html(w);a&&a.html(w)};u._attachChange=function(){f.on("change",nt)};u.__init=function(){var w,b,r,nt;if(e=u.settings,f=n(t),nt=!!o,o=u._$parent,s=u._min=void 0===i.min?l("min",e.min):i.min,h=u._max=void 0===i.max?l("max",e.max):i.max,d=void 0===i.inputStyle?l("data-input-style",e.inputStyle,!0):i.inputStyle,g=void 0===i.labelStyle?l("data-label-style",e.labelStyle,!0):i.labelStyle,c=l("value",s),w=f.attr("data-val")||e.val,r=(r=f.attr("data-step-labels"))?JSON.parse(r):e.stepLabels,p=f.attr("data-template")||(100!=h||e.template?e.template:"{value}%"),nt?(w&&(a.remove(),o.removeClass("mbsc-progress-value-"+("right"==w?"right":"left"))),r&&n(".mbsc-progress-step-label",y).remove()):(cs(o,null,d,g,t),hs(f),o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"><\/span><\/span><\/span>'),k=u._$progress=o.find(".mbsc-progress-bar"),y=u._$track=o.find(".mbsc-progress-track")),f.attr("min",s).attr("max",h),w&&(a=n('<span class="mbsc-progress-value"><\/span>'),o.addClass("mbsc-progress-value-"+("right"==w?"right":"left")).find(".mbsc-input-wrap").append(a)),r)for(b=0;b<r.length;++b)y.append('<span class="mbsc-progress-step-label" style="'+(e.rtl?"right":"left")+": "+100*(r[b]-s)/(h-s)+'%" >'+r[b]+"<\/span>");v=n(f.attr("data-target")||e.target)};u.__destroy=function(){o.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove();o.find(".mbsc-input-ic").remove();f.off("change",nt)};u.refresh=function(){b(l("value",s),!0,!1)};u.getVal=function(){return c};u.setVal=function(n,t,i){b(n,!0,t,i)};r||u.init()}function ys(t,u,f){function si(i){"mousedown"===i.type&&i.preventDefault();!bt(i,this)||b&&!v||t.disabled||t.readOnly||(l.stopProp&&i.stopPropagation(),yt=rt=!(b=!0),dt=r(i,"X"),ei=r(i,"Y"),nt=dt,g.removeClass("mbsc-progress-anim"),at=d?n(".mbsc-slider-handle",this):a,ft&&ft.removeClass("mbsc-handle-curr"),ft=at.parent().addClass("mbsc-active mbsc-handle-curr"),h.addClass("mbsc-active"),s=+at.attr("data-index"),ni=g[0].offsetWidth,pt=g[0].getBoundingClientRect().left,"mousedown"===i.type&&(tt=!0,n(document).on("mousemove",ut).on("mouseup",ct)),"mouseenter"===i.type&&(v=!0,n(document).on("mousemove",ut)))}function ut(n){b&&(nt=r(n,"X"),ui=r(n,"Y"),ii=nt-dt,ri=ui-ei,5<Math.abs(ii)&&(rt=!0),(rt||tt||v)&&50<Math.abs(oi-new Date)&&(oi=new Date,yi(nt,l.round,fi&&(!v||tt))),rt?n.preventDefault():7<Math.abs(ri)&&"touchmove"==n.type&&ti())}function ct(n){b&&(n.preventDefault(),d||g.addClass("mbsc-progress-anim"),v&&!tt?p(o[s],s,!1,!1,!0):yi(nt,!0,!0),rt||yt||("touchend"==n.type&&wt(),e._onTap(o[s])),"mouseup"==n.type&&(tt=!1),"mouseleave"==n.type&&(v=!1),v||ti())}function hi(){b&&ti()}function ci(){var i=e._readValue(n(this)),t=+n(this).attr("data-index");i!==o[t]&&(o[t]=i,p(st[t]=i,t))}function li(n){n.stopPropagation()}function ai(n){n.preventDefault()}function vi(i){var r;if(!t.disabled){switch(i.keyCode){case 38:case 39:r=1;break;case 40:case 37:r=-1}r&&(i.preventDefault(),ht||(s=+n(this).attr("data-index"),p(o[s]+y*r,s,!0),ht=setInterval(function(){p(o[s]+y*r,s,!0)},200)))}}function lt(n){n.preventDefault();clearInterval(ht);ht=null}function ti(){b=!1;ft.removeClass("mbsc-active");h.removeClass("mbsc-active");n(document).off("mousemove",ut).off("mouseup",ct)}function yi(n,t,i){var r=t?Math.min(Math[e._rounding||"round"](Math.max(100*(n-pt)/ni,0)/kt/y)*y*100/(k-c+et),100):Math.max(0,Math.min(100*(n-pt)/ni,100));ot&&(r=100-r);p(Math.round((c-et+r/kt)*gt)/gt,s,i,r)}function p(n,t,i,r,u,f){var h=a.eq(t),s=h.parent();n=Math.min(k,Math.max(n,c));void 0===f&&(f=i);e._update?n=e._update(n,o,t,r,d,u,s):s.css({left:ot?"auto":(r||it(n,c,k))+"%",right:ot?(r||it(n,c,k))+"%":"auto"});c<n?s.removeClass("mbsc-slider-start"):(o[t]>c||u)&&s.addClass("mbsc-slider-start");i&&(o[t]=n);i&&st[t]!=n&&(yt=!0,st[t]=n,e._fillValue(n,t,f));h.attr("aria-valuenow",n)}var h,at,ft,a,vt,w,g,b,et,yt,ii,ri,pt,nt,ui,s,v,tt,ot,fi,k,c,rt,d,st,y,l,kt,dt,ei,gt,ht,ni,o,e=this,oi=new Date;vs.call(this,t,u,!0);e._onTap=i;e.___init=i;e.___destroy=i;e._attachChange=function(){h.on(l.changeEvent,ci)};e.__init=function(){var t;a&&(t=!0,a.parent().remove());e.___init();w=e._$parent;g=e._$track;h=w.find("input");l=e.settings;c=e._min;k=e._max;et=e._base||0;y=e._step;fi=e._live;gt=y%1!=0?1/(y%1).toFixed(2):1;kt=100/(k-c+et)||100;d=1<h.length;ot=l.rtl;o=[];st=[];h.each(function(t){o[t]=e._readValue(n(this));n(this).attr("data-index",t)});a=w.find(".mbsc-slider-handle");vt=w.find(d?".mbsc-slider-handle-cont":".mbsc-progress-cont");a.on("keydown",vi).on("keyup",lt).on("blur",lt);vt.on("touchstart mousedown"+(l.hover?" mouseenter":""),si).on("touchmove",ut).on("touchend touchcancel"+(l.hover?" mouseleave":""),ct).on("pointercancel",hi);t||(h.on("click",li),w.on("click",ai))};e.__destroy=function(){w.off("click",ai);h.off(l.changeEvent,ci).off("click",li);a.off("keydown",vi).off("keyup",lt).off("blur",lt);vt.off("touchstart mousedown mouseenter",si).off("touchmove",ut).off("touchend touchcancel mouseleave",ct).off("pointercancel",hi);e.___destroy()};e.refresh=function(){h.each(function(t){p(e._readValue(n(this)),t,!0,!1,!0,!1)})};e.getVal=function(){return d?o.slice(0):o[0]};e.setVal=e._setVal=function(t,i,r){n.isArray(t)||(t=[t]);n.each(t,function(n,t){o[n]=t});n.each(t,function(n,t){p(t,n,!0,!1,!0,r)})};f||e.init()}function ki(t,i,r){var o,s,l,b,v,y,p,w,h,f,e,a,c,u=this,k,d,g,nt;sr.call(this,t,i,!0);k=u.__init;d=u.__destroy;ys.call(this,t,i,!0);g=u.__init;nt=u.__destroy;u.__init=function(){k();g()};u.__destroy=function(){d();nt()};u._update=function(n,t,i,r,o,s,c){return w?0===i?(n=Math.min(n,t[1]),l.css({width:it(t[1],e,f)-it(n,e,f)+"%",left:h?"auto":it(n,e,f)+"%",right:h?it(n,e,f)+"%":"auto"})):(n=Math.max(n,t[0]),l.css({width:it(n,e,f)-it(t[0],e,f)+"%"})):o||!y?c.css({left:h?"auto":(r||it(n,e,f))+"%",right:h?(r||it(n,e,f))+"%":"auto"}):l.css("width",(r||it(n,e,f))+"%"),p&&b.eq(i).html(n),o||t[i]==n&&!s||u._display(n),n};u._readValue=function(n){return+n.val()};u._fillValue=function(n,t,i){o.eq(t).val(n);i&&o.eq(t).trigger("change")};u._markupReady=function(){var t,i;if(p&&s.addClass("mbsc-slider-has-tooltip"),1!=a)for(i=(f-e)/a,t=0;t<=i;++t)v.append('<span class="mbsc-slider-step" style="'+(h?"right":"left")+":"+100/i*t+'%"><\/span>');o.each(function(t){"range"==this.type&&n(this).attr("min",e).attr("max",f).attr("step",a);(y?l:v).append('<span class="mbsc-slider-handle-cont'+(w&&!t?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+e+'" aria-valuemax="'+f+'" data-index="'+t+'"><\/span>'+(p?'<span class="mbsc-slider-tooltip"><\/span>':"")+"<\/span>")});b=s.find(".mbsc-slider-tooltip")};u.___init=function(){s&&(s.removeClass("mbsc-slider-has-tooltip"),1!=a&&n(".mbsc-slider-step",v).remove());s=u._$parent;v=u._$track;l=u._$progress;o=s.find("input");c=u.settings;e=u._min;f=u._max;u._step=a=void 0===i.step?+o.attr("step")||c.step:i.step;u._live=uf("data-live",c.live,o);p=uf("data-tooltip",c.tooltip,o);y=uf("data-highlight",c.highlight,o)&&o.length<3;w=y&&2==o.length;h=c.rtl;u._markupReady()};r||u.init()}function cu(t){var i=[Math.round(t.r).toString(16),Math.round(t.g).toString(16),Math.round(t.b).toString(16)];return n.each(i,function(n,t){1==t.length&&(i[n]="0"+t)}),"#"+i.join("")}function lu(n){return{r:(n=parseInt(-1<n.indexOf("#")?n.substring(1):n,16))>>16,g:(65280&n)>>8,b:255&n,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function ps(n){var t,i,r,u=n.h,s=255*n.s/100,f=255*n.v/100,e,o;return 0==s?t=i=r=f:(e=(255-s)*f/255,o=u%60*(f-e)/60,360==u&&(u=0),u<60?(t=f,i=(r=e)+o):u<120?(r=e,t=(i=f)-o):u<180?(i=f,r=(t=e)+o):u<240?(t=e,i=(r=f)-o):u<300?(r=f,t=(i=e)+o):u<360?(i=e,r=(t=f)-o):t=i=r=0),{r:t,g:i,b:r,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function ws(n){var u,f,i=0,e=Math.min(n.r,n.g,n.b),t=Math.max(n.r,n.g,n.b),r=t-e;return i=(u=(f=t)?255*r/t:0)?n.r==t?(n.g-n.b)/r:n.g==t?2+(n.b-n.r)/r:4+(n.r-n.g)/r:-1,(i*=60)<0&&(i+=360),{h:i,s:u*=100/255,v:f*=100/255,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function bs(n){var t,s,e=n.r/255,i=n.g/255,r=n.b/255,u=Math.max(e,i,r),o=Math.min(e,i,r),h=(u+o)/2,f;if(u==o)t=s=0;else{f=u-o;switch(s=.5<h?f/(2-u-o):f/(u+o),u){case e:t=(i-r)/f+(i<r?6:0);break;case i:t=(r-e)/f+2;break;case r:t=(e-i)/f+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*s),l:Math.round(100*h),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function ks(n){return bs(lu(n))}function el(n){return cu((t=(h=n).h,o=h.s,e=h.l,isFinite(t)||(t=0),isFinite(o)||(o=0),isFinite(e)||(e=0),(t/=60)<0&&(t=6- -t%6),t%=6,o=Math.max(0,Math.min(1,o/100)),e=Math.max(0,Math.min(1,e/100)),f=(i=(1-Math.abs(2*e-1))*o)*(1-Math.abs(t%2-1)),c=t<1?(r=i,u=f,0):t<2?(r=f,u=i,0):t<3?(r=0,u=i,f):t<4?(r=0,u=f,i):t<5?(r=f,u=0,i):(r=i,u=0,f),s=e-i/2,{r:Math.round(255*(r+s)),g:Math.round(255*(u+s)),b:Math.round(255*(c+s)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}));var h,r,u,c,s,i,f,t,o,e}function ds(n){return cu(ps(n))}function gs(n){return ws(lu(n))}function bf(i,r,u){function at(n,i,r){if(!r){f._value=f._hasValue?f._tempValue.slice(0):null;for(var u=0;u<e.length;++u)e[u].tempChangedColor&&f._value&&-1!=f._value.indexOf(e[u].tempChangedColor)&&(e[u].changedColor=e[u].tempChangedColor),delete e[u].tempChangedColor}n&&(f._isInput&&g.val(f._hasValue?f._tempValue:""),ft("onFill",{valueText:f._hasValue?f._tempValue:"",change:i}),i&&(p=t(!0,{},h),f._preventChange=!0,g.trigger("change")),ri(f._value,!0))}function ti(n,t){return'<div class="mbsc-color-input-item" data-color="'+(void 0!==(t=void 0!==t?t:vt(n))?t:n)+'" style="background: '+n+';">'+(a?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"><\/div>')+"<\/div>"}function ii(n){kt[0].style.background=n?lt+"linear-gradient(left, "+(s.rtl?"#000000":"#FFFFFF")+" 0%, "+n+" 50%, "+(s.rtl?"#FFFFFF":"#000000")+" 100%)":""}function vt(n){if(Object.keys(h).length&&!isNaN(n))return n;for(var t in e)if(n==e[t].color||n==e[t].changedColor)return t}function st(n,t){var r,i=n.match(/\d+/gim);switch(!0){case-1<n.indexOf("rgb"):r=cu({r:i[0],g:i[1],b:i[2]});break;case-1<n.indexOf("hsl"):r=el({h:i[0],s:i[1],l:i[2]});break;case-1<n.indexOf("hsv"):r=ds({h:i[0],s:i[1],v:i[2]});break;case-1<n.indexOf("#"):r=n}return function(n,t){switch(t){case"rgb":return lu(n);case"hsl":return ks(n);case"hsv":return gs(n);default:return n}}(r,t||s.format)}function yt(t,i){n(".mbsc-color-active",i).removeClass("mbsc-color-active");w&&(t.parent().addClass("mbsc-color-active"),l&&t&&void 0!==c&&v.eq(c).parent().addClass("mbsc-color-active"))}function ri(i,r){var u,b,y=[],ut=0,nt=n.map(e,function(n){return n.changedColor||n.color}),g,rt;if(a)(i=n.isArray(i)?i[0]:i,-1<(b=nt.indexOf(i))&&y.push(b),i&&!y.length&&w)&&(g=+n(".mbsc-color-input-item",k).attr("data-color"),isNaN(g)?g=void 0:y.push(g),o=g);else if(i)if(l&&w)for(rt in p)void 0!==p[rt].colorIndex&&y.push(+p[rt].colorIndex);else for(u=0;u<i.length;++u)-1<(b=nt.indexOf(i[u]))&&(y.push(b),nt[b]="temp"+u);for(u=0;u<y.length;++u)e[y[u]]&&pt(!0,y[u],ut++,e[y[u]].changedColor||e[y[u]].color,!0);for(u=0;u<e.length;++u)-1==y.indexOf(u)&&pt(!1,u,void 0,e[u].changedColor||e[u].color,!1);if(l)for(u=ut;u<s.select;++u)h[u]={},v&&v.eq(u).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});p=t(!0,{},h);!1!==r&&function(){if(ht){var t,i="";if(k.empty(),f._hasValue){if(a)i+=ti(f._value,o);else for(t=0;t<f._value.length;++t)i+=ti(f._value[t],Object.keys(h).length&&h[t].colorIndex?h[t].colorIndex:vt(f._value[t]));k.append(i);f.tap(n(".mbsc-color-input-item",k),function(t){if(n(t.target).hasClass("mbsc-color-input-item-close")){var i=n(this).index();t.stopPropagation();t.preventDefault();void 0===o&&(o=n(t.target).parent().attr("data-color"));l&&e[o]&&(c=e[o].previewInd,v.eq(c).parent().removeClass("mbsc-color-active"),p[i]={},h[i]={});f._value.splice(i,1);f.setVal(f._value,!0,!0)}else w&&"inline"!==s.display&&(o=n(t.target).attr("data-color"),isNaN(o)&&(o=vt(o)),o&&e[o]&&(e[o].selected=!0,c=e[o].previewInd,setTimeout(function(){tt.scroll(d.eq(o),400);l&&it.scroll(v.eq(c),400)},200)))})}}}()}function pt(n,t,i,r,u,o){if(l&&u&&(h[i].colorIndex=n?t:void 0,h[i].color=n?r:void 0,v)){var s=v.eq(i);s.removeClass("mbsc-color-preview-item-empty").css({background:n?r:"transparent"});n||s.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}o&&(n?f._tempValue.splice(i,0,r):f._tempValue.splice(f._tempValue.indexOf(r),1));d&&(n?d.eq(t).addClass("mbsc-color-selected"):d.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active"));e[t].previewInd=n?i:void 0;e[t].selected=n}function wt(n,t){void 0!==n&&(a||e[n]&&e[n].selected)?e[o=n]&&(nt=e[n].changedColor||e[n].color,y=d.eq(n),w&&(yt(d.eq(n),t||""),(et=st(e[n].color,"hsl")).l=st(nt,"hsl").l,ii(e[n].color),ot.setVal(100-et.l,!1,!1))):w&&ii()}function ui(t,i){var r=n(t.target).index();o=h[r].colorIndex;y=d.eq(o);c=r;wt(o,i);tt.scroll(y,250);ft("onPreviewItemTap",{target:t.target,value:h[r].color,index:r})}function fi(t,i){var r=!1,u=n(".mbsc-color-selected",i);if((y=n(t.target)).hasClass("mbsc-color-clear-item"))return nt="",void f.clear();(a||gt>+u.length||y.hasClass("mbsc-color-selected"))&&(o=y.attr("data-index"),l&&(c=void 0!==e[o].previewInd?e[o].previewInd:function(){for(var n=0;n<s.select;++n)if(void 0===h[n].colorIndex)return n}(),r=w&&y.hasClass("mbsc-color-selected")&&!y.parent().hasClass("mbsc-color-active"),6<v.length&&it.scroll(v.eq(c))),nt=e[o].changedColor||e[o].color,a?(u.removeClass("mbsc-color-selected"),(f._tempValue=nt)&&y.toggleClass("mbsc-color-selected"),yt(y,i)):(yt(y,i),r||pt(!e[o].selected,o,c,nt,!0,!0)),wt(o,i),f.live&&(f._fillValue(),ft("onSet",{value:f._value})),ft("onItemTap",{target:t.target,value:nt,selected:e[o].selected,index:o}),f._updateHeader())}var s,bt,e,ft,tt,it,rt,nt,et,b,l,kt,w,dt,ot,o,ht,a,gt,ni,k,d,v,y,ct,f=this,g=n(i),c=0,p={},h={};ut.call(this,i,r,!0);f.setVal=f._setVal=function(t,i,r,u){f._hasValue=null!=t;f._tempValue=a?n.isArray(t)?t[0]:t:n.isArray(t)?t:t?[t]:[];at(i,void 0===r?i:r,u)};f.getVal=f._getVal=function(n){return f._hasValue||n?ni?function(){for(var t=[],n=0;n<e.length;++n)e[n].selected&&t.push(e[n]);return t}():f[n?"_tempValue":"_value"]:null};f._readValue=function(){var n=g.val()||"";f._hasValue=!1;0!==n.length&&""!==n&&(f._hasValue=!0);f._hasValue?(f._tempValue=a?n:"hex"==s.format?n.split(","):n.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),at(!0)):f._tempValue=[];ri(f._tempValue,f._hasValue)};f._fillValue=function(){at(f._hasValue=!0,!0)};f._generateContent=function(){var n,t,r,u=rt?1:0,i;for(dt=b?Math.ceil((e.length+u)/s.rows):s.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(b?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(b?'<div class="mbsc-color-row">':""),n=0;n<e.length;++n)r=e[n].changedColor||e[n].color,rt&&0===n&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"><\/div><\/div><\/div>'),0!==n&&(n+u)%dt==0&&(t+=b?'<\/div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+n+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(e[n].selected?"mbsc-color-selected":"")+'"  style="background:'+r+'"><\/div><\/div>';if(t+="<\/div><\/div>"+(b?"<\/div>":""),w&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/><\/div>'),l){for(i in t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">',p)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(p[i].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(p[i].color||"initial")+';"><\/div><\/div>';t+="<\/div><\/div>"}return t};f._position=function(n){var t,i;b||(t=n.find(".mbsc-color-cont"),i=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(n.find(".mbsc-fr-c").width()/i),Math.round(e.length/s.rows))*i+1));tt&&tt.refresh();it&&it.refresh()};f._markupInserted=function(n){b||n.find(".mbsc-color-scroll-cont").css("max-height",n.find(".mbsc-color-item-c")[0].offsetHeight*s.rows);tt=new oi(n.find(".mbsc-color-scroll-cont")[0],{axis:b?"X":"Y",rtl:s.rtl,elastic:60,stopProp:!1,mousewheel:s.mousewheel,onBtnTap:function(t){fi(t,n)}})};f._attachEvents=function(t){var i;d=n(".mbsc-color-item",t);t.on("keydown",".mbsc-color-btn-e",function(n){n.stopPropagation();32==n.keyCode&&(n.target.classList.contains("mbsc-color-item")?fi(n,t):ui(n,t))});l&&(v=n(".mbsc-color-preview-item",t));w&&(t.addClass("mbsc-color-refine"),ct=n(".mbsc-color-slider",t),ot=new ki(ct[0],{theme:s.theme,rtl:s.rtl}),kt=t.find(".mbsc-progress-track"),o&&f._value&&wt(o,t),ct.on("change",function(){void 0!==o&&(a||e[o]&&e[o].selected)&&(et.l=100-this.value,i=st(et.toString()).toString(),a?f._tempValue=i:f._tempValue[void 0!==c?c:f._tempValue.length]=i,e[o].tempChangedColor=i,d.eq(o).css("background",i),l&&(h[c].color=i,v.eq(c).removeClass("mbsc-color-preview-item-empty").css({background:i})),f.live&&tf(f._fillValue()))}));l&&(it=new oi(t.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:s.rtl,stopProp:!1,mousewheel:s.mousewheel,onBtnTap:function(n){ui(n,t)}}));f._updateHeader()};f._markupRemove=function(){tt&&tt.destroy();ot&&ot.destroy();it&&it.destroy()};f.__processSettings=function(){var t,r;if(s=f.settings,ft=f.trigger,b="horizontal"==s.navigation,f._value=[],f._tempValue=[],a="single"==s.select,rt=void 0!==s.clear?s.clear:a,!(r=s.data||[]).length)switch(s.format){case"rgb":r=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"];rt&&r.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":r=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"];rt&&r.splice(10,0,"hsl(20, 12%, 29%)");break;default:r=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"];rt&&r.splice(10,0,"#534741")}if(w="refine"==s.mode,l=!isNaN(s.select),gt=isNaN(s.select)?a?2:r.length:s.select,ni=n.isPlainObject(r[0]),l&&!Object.keys(p).length)for(t=0;t<s.select;++t)p[t]={},h[t]={};for(e=r.slice(0),t=0;t<e.length;++t)n.isPlainObject(r[t])?e[t].color=r[t].color:(r[t]=r[t].toLowerCase(),e[t]={key:t,name:r[t],color:r[t]});bt=s.defaultValue||e[0].color;et=st(nt=bt,"hsl");(ht=s.enhance&&g.is("input"))&&(g.hasClass("mbsc-color-input-hdn")?k=g.prev():((k=n("<div "+(i.placeholder?'data-placeholder="'+i.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(s.inputClass||"")+'" readonly ><\/div>')).insertBefore(g),g.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),s.anchor=k,f.attachShow(k))};f.__destroy=function(){ht&&(g.removeClass("mbsc-color-input-hdn"),k.remove())};f._checkSize=!0;u||f.init()}function th(u,f){function us(){vu=pu=!1;ts=l=0;is=new Date;ki=rt.width();so=gr(rt);a=so.index(o);k=o[0].offsetHeight;it=o[0].offsetTop;v=fr[o.attr("data-type")||"defaults"];ur=v.stages}function th(t){var i;"touchstart"===t.type&&(h.removeClass("mbsc-no-touch"),yu=!0,clearTimeout(go));!bt(t,this)||dt||hi||ai||pf||(te=!(iu=dt=!0),ie="touchstart"===t.type,bu=r(t,"X"),ku=r(t,"Y"),vi=et=0,o=n(this),i=o,us(),le=v.actionable||o.hasClass("mbsc-lv-parent")||o.hasClass("mbsc-lv-back"),re=o.offset().top,le&&(wi=setTimeout(function(){i.addClass(ie?di:"");w("onItemActivate",{target:i[0],domEvent:t})},120)),s.sortable&&!o.hasClass("mbsc-lv-back")&&(s.sortable.group||(fe=o.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),ee=o.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),cu=(s.sortable.group?rt.children(pt).eq(0):ee.length?ee.eq(-1):o)[0].offsetTop-it,hu=(s.sortable.group?rt.children(pt).eq(-1):fe.length?fe.eq(-1):o)[0].offsetTop-it,s.sortable.handle?n(t.target).hasClass("mbsc-lv-handle")&&(clearTimeout(wi),"Moz"===p?(t.preventDefault(),we()):gu=setTimeout(function(){we()},100)):gu=setTimeout(function(){pr.appendTo(o);pr[0].style[p+"Animation"]="mbsc-lv-fill "+(e.sortDelay-100)+"ms linear";clearTimeout(lo);clearTimeout(wi);iu=!1;gu=setTimeout(function(){pr[0].style[p+"Animation"]="";we()},e.sortDelay-80)},80)),"mousedown"==t.type&&n(document).on("mousemove",ye).on("mouseup",sf))}function ye(n){var u=!1,f=!0,v=l;if(dt)if(ao=r(n,"X"),vo=r(n,"Y"),et=ao-bu,vi=vo-ku,clearTimeout(lo),yi||si||ir||o.hasClass("mbsc-lv-back")||(10<Math.abs(vi)?(ir=!0,sf(t({},n,{type:"mousemove"==n.type?"mouseup":"touchend"})),clearTimeout(wi)):7<Math.abs(et)&&fs()),si)n.preventDefault(),l=et/ki*100,pe(v);else if(yi){n.preventDefault();var a,e=c.scrollTop(),i=Math.max(cu,Math.min(vi+kr,hu)),h=vt?re-ae+e-kr:re;er+e<h+i+k?(c.scrollTop(h+i-er+k),a=!0):h+i<e&&(c.scrollTop(h+i),a=!0);a&&(kr+=c.scrollTop()-e);ui&&(s.sortable.multiLevel&&st.hasClass("mbsc-lv-parent")?ui<it+k/4+i?u=!0:ui<it+k-k/4+i&&(at=st.addClass("mbsc-lv-item-hl"),f=!1):ui<it+k/2+i&&(st.hasClass("mbsc-lv-back")?s.sortable.multiLevel&&(gt=st.addClass("mbsc-lv-item-hl"),f=!1):u=!0),u&&(kt.insertAfter(st),st=vf(nt=st,"next"),fi=ui,ui=st.length&&st[0].offsetTop,ft++));!u&&fi&&(s.sortable.multiLevel&&nt.hasClass("mbsc-lv-parent")?it+k-k/4+i<fi?u=!0:it+k/4+i<fi&&(at=nt.addClass("mbsc-lv-item-hl"),f=!1):it+k/2+i<fi&&(nt.hasClass("mbsc-lv-back")?s.sortable.multiLevel&&(gt=nt.addClass("mbsc-lv-item-hl"),f=!1):u=!0),u&&(kt.insertBefore(nt),nt=vf(st=nt,"prev"),ui=fi,fi=nt.length&&nt[0].offsetTop+nt[0].offsetHeight,ft--));f&&(at&&(at.removeClass("mbsc-lv-item-hl"),at=!1),gt&&(gt.removeClass("mbsc-lv-item-hl"),gt=!1));u&&w("onSortChange",{target:o[0],index:ft});vs(o,i);w("onSort",{target:o[0],index:ft})}else(5<Math.abs(et)||5<Math.abs(vi))&&de()}function sf(t){var u,i,r,f=o;dt&&(dt=!1,de(),"mouseup"==t.type&&n(document).off("mousemove",ye).off("mouseup",sf),ir||(go=setTimeout(function(){yu=!1},300)),(si||ir||yi)&&(vu=!0),si?es():yi?(r=rt,at?(cr(o.detach()),i=g[at.attr("data-ref")],ft=gr(i.child).length,at.removeClass("mbsc-lv-item-hl"),e.navigateOnDrop?to(at,function(){s.add(null,o,null,null,at,!0);tu(o);dr(o,a,r,!0)}):(s.add(null,o,null,null,at,!0),dr(o,a,r,!0))):gt?(cr(o.detach()),i=g[gt.attr("data-back")],ft=gr(i.parent).index(i.item)+1,gt.removeClass("mbsc-lv-item-hl"),e.navigateOnDrop?to(gt,function(){s.add(null,o,ft,null,rt,!0);tu(o);dr(o,a,r,!0)}):(s.add(null,o,ft,null,i.parent,!0),dr(o,a,r,!0))):(u=kt[0].offsetTop-it,vs(o,u,6*Math.abs(u-Math.max(cu,Math.min(vi+kr,hu))),function(){cr(o);o.insertBefore(kt);dr(o,a,r,ft!==a)})),yi=!1):!ir&&Math.abs(et)<5&&Math.abs(vi)<5&&(te=!0,"touchend"===t.type&&e.tap&&ef(t.target,nu(n(t.target)),t)),clearTimeout(wi),setTimeout(function(){f.removeClass(di);w("onItemDeactivate",{target:f[0]})},100),ir=!1,y=null)}function rh(t){var i;te&&(i="true"==o.attr("data-selected"),v.tap&&v.tap.call(tt,{target:o,index:a,domEvent:t},s),le&&!o.hasClass(di)&&(o.addClass(ie?di:""),w("onItemActivate",{target:o[0],domEvent:t})),oe&&(ue?i?yf(o):uo(o):(yf(n(pt,h).filter("."+hr)),uo(o))),!1!==w("onItemTap",{target:o[0],index:a,domEvent:t,selected:i})&&to(o))}function fs(){(si=lr(v.swipe,{target:o[0],index:a,direction:0<et?"right":"left"}))&&(de(),clearTimeout(wi),v.actions?(vr=ds(v,et),lu.html(v.icons).show().children().css("width",vr+"%"),ot.hide(),n(".mbsc-lv-ic-m",b).removeClass("mbsc-lv-ic-disabled"),n(v.leftMenu).each(cs),n(v.rightMenu).each(cs)):(ot.show(),lu.hide(),bi=v.start,y=ur[bi],tr=ur[bi-1],gi=ur[bi+1]),o.addClass("mbsc-lv-item-swiping").removeClass(di),du.css("line-height",k+"px"),b.css({top:it,height:k,backgroundColor:ks(et)}).addClass("mbsc-lv-stage-c-v").appendTo(rt.parent()),e.iconSlide&&o.append(ot),w("onSlideStart",{target:o[0],index:a}))}function pe(n){var t=!1;wu||(v.actions?b.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(l<0?"right":"left")):(tr&&(l<0?l<=tr.percent:l<y.percent)?(gi=y,y=tr,tr=ur[--bi-1],t=!0):gi&&(l<0?l>y.percent:l>=gi.percent)&&(tr=y,y=gi,gi=ur[++bi+1],t=!0),y&&(!t&&0<l!=n<=0||af(y,e.iconSlide),t&&w("onStageChange",{target:o[0],index:a,stage:y}))),rr||(wu=!0,ns=yt(as)))}function es(t){var r,u,i=!1;nf(ns);wu=!1;rr||as();v.actions?10<Math.abs(l)&&vr&&(sr(o,l<0?-vr:vr,200),ai=i=!0,eo=o,oo=a,n(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(n){n.preventDefault();lf(o,!0,t)})):l&&(e.quickSwipe&&!rr&&(r=(u=new Date-is)<300&&50<et,u<300&&et<-50?(pu=!0,af(y=v.left,e.iconSlide)):r&&(pu=!0,af(y=v.right,e.iconSlide))),y&&y.action&&(lr(y.disabled,{target:o[0],index:a})||(i=!0,(ai=rr||lr(y.confirm,{target:o[0],index:a}))?(sr(o,(l<0?-1:1)*ot[0].offsetWidth*100/ki,200,!0),ls(y,o,a,!1,t)):ke(y,o,a,t))));i||lf(o,!0,t);si=!1}function we(){gt=at=!(yi=!0);kr=0;ft=a;e.vibrate&&rf();st=vf(o,"next");ui=st.length&&st[0].offsetTop;nt=vf(o,"prev");fi=nt.length&&nt[0].offsetTop+nt[0].offsetHeight;kt.height(k).insertAfter(o);o.css({top:it}).addClass("mbsc-lv-item-dragging").removeClass(di).appendTo(co);w("onSortStart",{target:o[0],index:ft})}function dr(n,t,i,r){n.removeClass("mbsc-lv-item-dragging");kt.remove();w("onSortEnd",{target:n[0],index:ft});e.vibrate&&rf();r&&(s.addUndoAction(function(r){s.move(n,t,null,r,i,!0)},!0),w("onSortUpdate",{target:n[0],index:ft}))}function os(){yu||(clearTimeout(bo),ai&&n(document).trigger("touchstart"),df&&(s.close(ri,eu),df=!1,ri=null))}function cf(){clearTimeout(ho);ho=setTimeout(function(){er=c[0].innerHeight||c.innerHeight();ae=vt?c.offset().top:0;dt&&(it=o[0].offsetTop,k=o[0].offsetHeight,b.css({top:it,height:k}))},200)}function ss(n){vu&&(n.stopPropagation(),n.preventDefault(),vu=!1)}function be(){ou||(clearTimeout(ko),ko=setTimeout(function(){var n=vt?c[0].getBoundingClientRect().top+c.innerHeight():window.innerHeight,t=su[0].getBoundingClientRect().top-3<n;!ou&&t&&w("onListEnd")},250))}function hs(){if(yi||!dt){var i,u=c.scrollTop(),r=ut.offset().top,f=ut[0].offsetHeight,t=vt?c.offset().top:u;n(".mbsc-lv-gr-title",ut).each(function(r,u){n(u).offset().top<t&&(i=u)});r<t&&t<r+f?ni.show().empty().append(n(i).clone()):ni.hide()}}function cs(t,i){lr(i.disabled,{target:o[0],index:a})&&n(".mbsc-ic-"+i.icon,b).addClass("mbsc-lv-ic-disabled")}function ke(t,i,r,u){var f,o={icon:"undo2",text:e.undoText,action:function(){s.undo()}};t.undo&&(s.startActionTrack(),n.isFunction(t.undo)&&s.addUndoAction(function(){t.undo.call(tt,{target:i[0],index:r},s)}),uf=i.attr("data-ref"));f=t.action.call(tt,{target:i[0],index:r},s);t.undo?(s.endActionTrack(),!1!==f&&sr(i,+i.attr("data-pos")<0?-100:100,200),kt.height(k).insertAfter(i),i.css("top",it).addClass("mbsc-lv-item-undo"),lu.hide(),ot.show(),b.append(ot),af(o),ls(o,i,r,!0,u)):lf(i,f,u)}function ls(t,i,u,f,e){var o,s;ai=!0;n(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(n){n.preventDefault();f&&ys(i);lf(i,!0,e)});yr||ot.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(n){n.stopPropagation();o=r(n,"X");s=r(n,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(n){n.preventDefault();"touchend"===n.type&&wt();Math.abs(r(n,"X")-o)<10&&Math.abs(r(n,"Y")-s)<10&&(ke(t,i,u,e),f&&(ff=null,ys(i)))})}function as(){sr(o,ts+100*et/ki);wu=!1}function lf(t,i,r){n(document).off(".mbsc-lv-conf");ot.off(".mbsc-lv-conf");!1!==i?sr(t,0,"0"!==t.attr("data-pos")?200:0,!1,function(){ge(t,r);cr(t)}):ge(t,r);ai=!1}function sr(n,t,i,r,u){t=Math.max("right"==si?0:-100,Math.min(t,"left"==si?0:100));oi=n[0].style;n.attr("data-pos",t);oi[p+"Transform"]="translate3d("+(r?ki*t/100+"px":t+"%")+",0,0)";oi[p+"Transition"]=lt+"transform "+(i||0)+"ms";u&&(hi++,setTimeout(function(){u();hi--},i));l=t}function vs(n,t,i,r){t=Math.max(cu,Math.min(t,hu));(oi=n[0].style)[p+"Transform"]="translate3d(0,"+t+"px,0)";oi[p+"Transition"]=lt+"transform "+(i||0)+"ms ease-out";r&&(hi++,setTimeout(function(){r();hi--},i))}function de(){clearTimeout(gu);!iu&&s.sortable&&(iu=!0,pr.remove())}function af(n,t){var i=lr(n.text,{target:o[0],index:a})||"";lr(n.disabled,{target:o[0],index:a})?b.addClass("mbsc-lv-ic-disabled"):b.removeClass("mbsc-lv-ic-disabled");b.css("background-color",n.color||(0===n.percent?ks(l):ih));ot.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(l<0?"right":"left"));wr.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(n.icon||"none"));du.attr("class","mbsc-lv-ic-text"+(n.icon?"":" mbsc-lv-ic-text-only")+(i?"":" mbsc-lv-ic-only")).html(i||"&nbsp;");e.animateIcons&&(pu?wr.addClass("mbsc-lv-ic-v"):setTimeout(function(){wr.addClass("mbsc-lv-ic-a")},10))}function ge(n,t){dt||(wr.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),b.attr("style","").removeClass("mbsc-lv-stage-c-v"),du.html(""));b.removeClass("mbsc-lv-left mbsc-lv-right");n&&(w("onSlideEnd",{target:n[0],index:a}),t&&t())}function ys(n){n.css("top","").removeClass("mbsc-lv-item-undo");ff?s.animate(kt,"collapse",function(){kt.remove()}):kt.remove();ge();ff=uf=null}function cr(n){(oi=n[0].style)[p+"Transform"]="";oi[p+"Transition"]="";oi.top="";n.removeClass("mbsc-lv-item-swiping")}function lr(t,i){return n.isFunction(t)?t.call(this,i,s):t}function ps(n){return oe&&!n.hasClass("mbsc-lv-parent")&&!n.hasClass("mbsc-lv-back")}function ws(t){var i=t.attr("data-ref"),f=t.attr("data-role"),h=fr[t.attr("data-type")||"defaults"],o=ps(t)&&"true"==t.attr("data-selected"),r,u;(i||(i=au++,t.attr("data-ref",i)),g[i]={item:t,child:t.children(ii),parent:t.parent(),ref:t.parent()[0]===tt?null:t.parent().parent().attr("data-ref")},t.addClass("list-divider"==f?"mbsc-lv-gr-title":"mbsc-lv-item"+(h.actionable?" mbsc-lv-item-actionable":"")+(o?" "+hr:"")),t.attr("aria-selected",o?"true":"false"),s.sortable.handle&&"list-divider"!=f&&!t.children(".mbsc-lv-handle-c").length&&t.append(yo),e.enhance&&!t.hasClass("mbsc-lv-item-enhanced"))&&(r=t.attr("data-icon"),u=t.find("img").eq(0).addClass("mbsc-lv-img"),u.is(":first-child")?t.addClass("mbsc-lv-img-"+(e.rtl?"right":"left")):u.length&&t.addClass("mbsc-lv-img-"+(e.rtl?"left":"right")),t.addClass("mbsc-lv-item-enhanced").children().each(function(t,i){(i=n(i)).is("p, h1, h2, h3, h4, h5, h6")&&i.addClass("mbsc-lv-txt")}),r&&t.addClass("mbsc-lv-item-ic-"+(t.attr("data-icon-align")||(e.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+r+'"><\/div>'))}function bs(t){n(pt,t).not(".mbsc-lv-back").each(function(){ws(n(this))});n(ii,t).not(".mbsc-lv").addClass("mbsc-lv").prepend(gf).parent().addClass("mbsc-lv-parent mbsc-lv-item-actionable").prepend(ne);n(".mbsc-lv-back",t).each(function(){n(this).attr("data-back",n(this).parent().parent().attr("data-ref"))})}function gr(n){return n.children(pt).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function ci(t){return"object"!==ti(t)&&(t=n(pt,h).filter('[data-id="'+t+'"]')),n(t)}function vf(n,t){for(n=n[t]();n.length&&(!n.hasClass("mbsc-lv-item")||n.hasClass("mbsc-lv-ph")||n.hasClass("mbsc-lv-item-dragging"));){if(!s.sortable.group&&n.hasClass("mbsc-lv-gr-title"))return!1;n=n[t]()}return n}function ks(n){return(0<n?v.right:v.left).color||ih}function li(n){return d(n)?n+"":0}function ds(n,t){return+(t<0?li((n.actionsWidth||0).right)||li(n.actionsWidth)||li(e.actionsWidth.right)||li(e.actionsWidth):li((n.actionsWidth||0).left)||li(n.actionsWidth)||li(e.actionsWidth.left)||li(e.actionsWidth))}function tu(n,t){if(n){var r=c.scrollTop(),u=n.is(".mbsc-lv-item")?n[0].offsetHeight:0,i=n.offset().top+(vt?r-ae:0);t?(i<r||r+er<i+u)&&c.scrollTop(i):i<r?c.scrollTop(i):r+er<i+u&&c.scrollTop(Math.min(i,i+u-er/2))}}function no(n,t,r,u,f){var o=t.parent(),e=t.prev();u=u||i;e[0]===ot[0]&&(e=ot.prev());rt[0]!==t[0]?(w("onNavStart",{level:or,direction:n,list:t[0]}),se.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),tu(h),gs(se,"mbsc-lv-sl-"+n,function(){rt.removeClass("mbsc-lv-sl-curr");t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr");ru&&ru.length?rt.removeClass("mbsc-lv-v").insertAfter(ru):uu.append(rt.removeClass("mbsc-lv-v"));ru=e;uu=o;rt=t;tu(r,f);u.call(tt,r);w("onNavEnd",{level:or,direction:n,list:t[0]})})):(tu(r,f),u.call(tt,r))}function to(n,t){hi||(n.hasClass("mbsc-lv-parent")?(or++,no("r",g[n.attr("data-ref")].child,null,t)):n.hasClass("mbsc-lv-back")&&(or--,no("l",g[n.attr("data-back")].parent,g[n.attr("data-back")].item,t)))}function gs(n,t,r){function u(){clearTimeout(f);hi--;n.off(ei,u).removeClass(t);r.call(tt,n)}var f;r=r||i;e.animation&&"mbsc-lv-item-none"!==t?(hi++,n.on(ei,u).addClass(t),f=setTimeout(u,250)):r.call(tt,n)}function io(n,t){var i,r=n.attr("data-ref");i=ve[r]=ve[r]||[];t&&i.push(t);n.attr("data-action")||(t=i.shift())&&(n.attr("data-action",1),t(function(){n.removeAttr("data-action");i.length?io(n):delete ve[r]}))}function ro(i,r,u){var e,f;i&&i.length&&(e=100/(i.length+2),n.each(i,function(n,o){void 0===o.key&&(o.key=he++);void 0===o.percent&&(o.percent=r*e*(n+1),u&&((f=t({},o)).key=he++,f.percent=-e*(n+1),i.push(f),of[f.key]=f));of[o.key]=o}))}function uo(n){ps(n)&&n.addClass(hr).attr("data-selected","true").attr("aria-selected","true")}function yf(n){n.removeClass(hr).removeAttr("data-selected").removeAttr("aria-selected")}var dt,vr,wi,l,iu,eo,oo,h,ft,rt,ru,uu,so,y,bi,ho,yr,et,vi,at,gt,yi,co,lo,ao,vo,w,pr,fu,ni,bf,kf,vt,yo,po,ri,df,eu,wo,bo,gf,ne,wr,ot,b,te,ou,ie,ki,o,k,a,pi,pt,re,br,ii,su,hu,cu,lu,ue,st,ui,gi,fe,nr,ko,vu,yu,go,ee,kt,nt,fi,tr,pu,ns,wu,e,ir,oe,rr,se,he,ur,ts,is,bu,ku,oi,si,ce,rs,le,du,gu,v,fr,uf,ff,c,er,kr,ae,s=this,tt=u,ut=n(tt),hi=0,or=0,it=0,of={},ve={},g={};ct.call(this,u,f,!0);s.animate=function(n,t,i){gs(n,"mbsc-lv-item-"+t,i)};s.add=function(t,r,u,f,o,c){var rt,y,d,ft,p,b,nt="",a=void 0===o?ut:ci(o),v=a,l="object"!==ti(r)?n("<"+pi+' data-ref="'+au+++'" data-id="'+t+'">'+r+"<\/"+pi+">"):n(r),it=l[0],et=it.style,ot=l.attr("data-pos")<0?"left":"right",k=l.attr("data-ref");f=f||i;k||(k=au++,l.attr("data-ref",k));ws(l);c||s.addUndoAction(function(n){ft?s.navigate(a,function(){v.remove();a.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove();p.child=a.children(ii);s.remove(l,null,n,!0)}):s.remove(l,null,n,!0)},!0);io(l,function(t){cr(l.css("top","").removeClass("mbsc-lv-item-undo"));a.is(pt)?(b=a.attr("data-ref"),a.children(ii).length||(ft=!0,a.append("<"+br+"><\/"+br+">"))):b=a.children(".mbsc-lv-back").attr("data-back");(p=g[b])&&(p.child.length?v=p.child:(a.addClass("mbsc-lv-parent").prepend(ne),v=a.children(ii).prepend(gf).addClass("mbsc-lv"),p.child=v,n(".mbsc-lv-back",a).attr("data-back",b)));g[k]={item:l,child:l.children(ii),parent:v,ref:b};d=gr(v);y=d.length;null==u&&(u=y);c&&(nt="mbsc-lv-item-new-"+(c?ot:""));bs(l.addClass(nt));!1!==u&&(y?u<y?l.insertBefore(d.eq(u)):l.insertAfter(d.eq(y-1)):(rt=n(".mbsc-lv-back",v)).length?l.insertAfter(rt):v.append(l));h.trigger("mbsc-refresh");e.animateAddRemove&&v.hasClass("mbsc-lv-v")?(et.height=it.offsetHeight+"px",s.animate(l,c&&uf===k?"none":"expand",function(n){s.animate(n,c?"add-"+ot:"pop-in",function(n){et.height="";f.call(tt,n.removeClass(nt));t()})})):(f.call(tt,l.removeClass(nt)),t());w("onItemAdd",{target:it})})};s.swipe=function(n,t,i,r,u){var f;n=ci(n);o=n;yr=r;dt=rr=!0;i=void 0===i?300:i;et=0<t?1:-1;us();fs();sr(n,t,i);clearTimeout(rs);clearInterval(ce);ce=setInterval(function(){f=l;l=hf(n)/ki*100;pe(f)},10);rs=setTimeout(function(){clearInterval(ce);f=l;l=t;pe(f);es(u);dt=rr=yr=!1},i)};s.openStage=function(n,t,i,r){of[t]&&s.swipe(n,of[t].percent,i,r)};s.openActions=function(n,t,i,r){n=ci(n);var u=ds(fr[n.attr("data-type")||"defaults"],"left"==t?-1:1);s.swipe(n,"left"==t?-u:u,i,r)};s.close=function(n,t){s.swipe(n,0,t)};s.remove=function(t,r,u,f){var o,h,l,y,c,a,v;u=u||i;c=(o=ci(t)).attr("data-ref");o.length&&g[c]&&(h=o.parent(),y=gr(h).index(o),v=o[0].style,function l(t){t&&(a=a||t.hasClass("mbsc-lv-v"),t.children("[data-ref]").each(function(){var t=n(this).attr("data-ref");g[t]&&(l(g[t].child),delete g[t])}))}(g[c].child),a&&(l=e.animation,e.animation=!1,s.navigate(o),e.animation=l),delete g[c],f||(o.attr("data-ref")===uf&&(ff=!0),s.addUndoAction(function(n){s.add(null,o,y,n,h,!0)},!0)),io(o,function(n){r=r||(o.attr("data-pos")<0?"left":"right");e.animateAddRemove&&h.hasClass("mbsc-lv-v")?s.animate(o.addClass("mbsc-lv-removed"),f?"pop-out":"remove-"+r,function(t){v.height=t[0].offsetHeight+"px";s.animate(t,"collapse",function(t){v.height="";cr(t.removeClass("mbsc-lv-removed"));!1!==u.call(tt,t)&&t.remove();n()})}):(!1!==u.call(tt,o)&&o.remove(),n());w("onItemRemove",{target:o[0]})}))};s.move=function(n,t,i,r,u,f){n=ci(n);f||s.startActionTrack();b.append(ot);s.remove(n,i,null,f);s.add(null,n,t,r,u,f);f||s.endActionTrack()};s.navigate=function(n,t){var i,r;n=ci(n);i=g[n.attr("data-ref")];r=function(n){for(var i=0,t=g[n.attr("data-ref")];t&&t.ref;)i++,t=g[t.ref];return i}(n);i&&(no(or<=r?"r":"l",i.parent,n,t,!0),or=r)};s.showLoading=function(){ou=!0;su.addClass("mbsc-show-lv-loading");c.scrollTop(vt?c[0].scrollHeight:n(e.context)[0].scrollHeight)};s.hideLoading=function(){su.removeClass("mbsc-show-lv-loading");setTimeout(function(){ou=!1},100)};s.select=function(t){ue||yf(n(pt,h).filter("."+hr));uo(ci(t))};s.deselect=function(n){yf(ci(n))};s._processSettings=function(){ut.is("[mbsc-enhance]")&&(bf=!0,ut.removeAttr("mbsc-enhance"))};s._init=function(){var u,f,i,p=ut.find(ii).length?"left":"right",t=0,o="",a="",y="";br=e.listNode;ii=e.listSelector;pi=e.itemNode;pt=e.itemSelector;ue="multiple"==e.select;oe="off"!=e.select;"group"===(i=e.sort||e.sortable||!1)&&(i={group:!1,multiLevel:!0});!0===i&&(i={group:!0,multiLevel:!0,handle:e.sortHandle});i&&void 0===i.handle&&(i.handle=e.sortHandle);i.handle&&(kf=!0===i.handle?p:i.handle,yo='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+kf+' mbsc-lv-handle"><div class="'+e.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+e.handleMarkup+"<\/div><\/div>");gf="<"+pi+' class="mbsc-lv-item mbsc-lv-back mbsc-lv-item-actionable">'+e.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+e.leftArrowClass+'"><\/div><\/'+pi+">";ne='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+e.rightArrowClass+'"><\/div>';u="mbsc-no-touch mbsc-lv-cont mbsc-lv-"+e.theme+" mbsc-"+e.theme+(ol?" mbsc-lv-hb":"")+(e.rtl?" mbsc-lv-rtl":"")+(e.baseTheme?" mbsc-lv-"+e.baseTheme+" mbsc-"+e.baseTheme:"")+(e.animateIcons?" mbsc-lv-ic-anim":"")+(e.striped?" mbsc-lv-alt-row":"")+(e.fixedHeader?" mbsc-lv-has-fixed-header":"")+(i.handle?" mbsc-lv-handle-"+kf:"");s.sortable=i||!1;h?(h.attr("class",u),n(".mbsc-lv-handle-c",h).remove(),n(pt,h).not(".mbsc-lv-back").removeClass("mbsc-lv-item"),c.off("orientationchange resize",cf),nr&&c.off("scroll touchmove",nr),c.off("scroll touchmove",be)):(o+='<div class="mbsc-lv-multi-c"><\/div>',o+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"><\/div><div class="mbsc-lv-ic-text"><\/div><\/div>',ut.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").removeClass("mbsc-cloak").show(),b=n('<div class="mbsc-lv-stage-c">'+o+"<\/div>"),ot=n(".mbsc-lv-ic-c",b),lu=n(".mbsc-lv-multi-c",b),wr=n(".mbsc-lv-ic-s",b),du=n(".mbsc-lv-ic-text",b),kt=n("<"+pi+' class="mbsc-lv-item mbsc-lv-ph"><\/'+pi+">"),pr=n('<div class="mbsc-lv-fill-item"><\/div>'),h=n('<div class="'+u+'"><'+br+' class="mbsc-lv mbsc-lv-dummy"><\/'+br+'><div class="mbsc-lv-sl-c"><\/div><div class="mbsc-lv-loading"><span class="mbsc-ic mbsc-ic-'+(e.loadingIcon||"loop2")+'"><\/span><\/div><\/div>'),co=n(".mbsc-lv-dummy",h),su=n(".mbsc-lv-loading",h),h.insertAfter(ut),cf(),h.on("touchstart mousedown",".mbsc-lv-item",th).on("touchmove",".mbsc-lv-item",ye).on("touchend touchcancel",".mbsc-lv-item",sf).on("click",".mbsc-lv-item",rh),tt.addEventListener("click",ss,!0),h.on("touchstart mousedown",".mbsc-lv-ic-m",function(n){yr||(n.stopPropagation(),n.preventDefault());bu=r(n,"X");ku=r(n,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(t){yr||("touchend"===t.type&&wt(),ai&&!n(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(r(t,"X")-bu)<10&&Math.abs(r(t,"Y")-ku)<10&&ke((l<0?v.rightMenu:v.leftMenu)[n(this).index()],eo,oo))}),se=n(".mbsc-lv-sl-c",h).append(ut.addClass("mbsc-lv-sl-curr")).attr("data-ref",au++),rt=ut,uu=h);vt="body"!==e.context;(c=n(vt?e.context:window)).on("orientationchange resize",cf);c.on("scroll touchmove",be);he=0;(fr=e.itemGroups||{}).defaults={swipeleft:e.swipeleft,swiperight:e.swiperight,stages:e.stages,actions:e.actions,actionsWidth:e.actionsWidth,actionable:e.actionable};bs(ut);n.each(fr,function(i,r){if(r.swipe=void 0!==r.swipe?r.swipe:e.swipe,r.actionable=void 0!==r.actionable?r.actionable:e.actionable,r.stages=r.stages||[],ro(r.stages,1,!0),ro(r.stages.left,1),ro(r.stages.right,-1),(r.stages.left||r.stages.right)&&(r.stages=[].concat(r.stages.left||[],r.stages.right||[])),fu=!1,r.stages.length||(r.swipeleft&&r.stages.push({percent:-30,action:r.swipeleft}),r.swiperight&&r.stages.push({percent:30,action:r.swiperight})),n.each(r.stages,function(n,t){if(0===t.percent)return!(fu=!0)}),fu||r.stages.push({percent:0}),r.stages.sort(function(n,t){return n.percent-t.percent}),n.each(r.stages,function(n,t){if(0===t.percent)return r.start=n,!1}),fu?r.left=r.right=r.stages[r.start]:(r.left=r.stages[r.start-1]||{},r.right=r.stages[r.start+1]||{}),r.actions){for(r.leftMenu=r.actions.left||r.actions,r.rightMenu=r.actions.right||r.leftMenu,y=a="",t=0;t<r.leftMenu.length;t++)a+="<div "+(r.leftMenu[t].color?'style="background-color: '+r.leftMenu[t].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+r.leftMenu[t].icon+'">'+(r.leftMenu[t].text||"")+"<\/div>";for(t=0;t<r.rightMenu.length;++t)y+="<div "+(r.rightMenu[t].color?'style="background-color: '+r.rightMenu[t].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+r.rightMenu[t].icon+'">'+(r.rightMenu[t].text||"")+"<\/div>";r.actions.left&&(r.swipe=r.actions.right?r.swipe:"right");r.actions.right&&(r.swipe=r.actions.left?r.swipe:"left");r.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+a+'<\/div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+y+"<\/div>"}});e.fixedHeader&&(f="mbsc-lv-fixed-header"+(vt?" mbsc-lv-fixed-header-ctx mbsc-lv-"+e.theme+" mbsc-"+e.theme+(e.baseTheme?" mbsc-lv-"+e.baseTheme+" mbsc-"+e.baseTheme:""):""),ni?(ni.attr("class",f),hs()):ni=n('<div class="'+f+'"><\/div>'),vt?c.before(ni):h.prepend(ni),nr=tf(hs,200),c.on("scroll touchmove",nr));e.hover&&(eu||h.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){ri&&ri[0]==this||(os(),ri=n(this),fr[ri.attr("data-type")||"defaults"].actions&&(bo=setTimeout(function(){yu?ri=null:(df=!0,s.openActions(ri,po,eu,!1))},wo)))}).on("mouseleave.mbsc-lv",os),eu=e.hover.time||200,wo=e.hover.timeout||200,po=e.hover.direction||e.hover||"right");bf&&h.attr("mbsc-enhance","");h.trigger("mbsc-enhance",[{theme:e.theme,lang:e.lang}])};s._destroy=function(){var t;uu.append(rt);vt&&ni&&ni.remove();bf&&(ut.attr("mbsc-enhance",""),(t=ht[h[0].id])&&t.destroy());tt.removeEventListener("click",ss,!0);h.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img");h.find(ii).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(pt).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref");n(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",h).remove();ut.insertAfter(h);h.remove();b.remove();c.off("orientationchange resize",cf);c.off("scroll touchmove",be);nr&&c.off("scroll touchmove",nr)};var pf,nh=[],ar=[],fo=[],wf=0;s.startActionTrack=function(){wf||(fo=[]);wf++};s.endActionTrack=function(){--wf||ar.push(fo)};s.addUndoAction=function(n,t){var i={action:n,async:t};wf?fo.push(i):(ar.push([i]),ar.length>e.undoLimit&&ar.shift())};s.undo=function(){function r(){t<0?(pf=!1,u()):(n=i[t],t--,n.async?n.action(r):(n.action(),r()))}function u(){(i=nh.shift())&&(pf=!0,t=i.length-1,r())}var n,t,i;ar.length&&nh.push(ar.pop());pf||u()};e=s.settings;w=s.trigger;s.init()}function kf(i,u,f){function b(t){var r,u=o.validate.call(i,{values:s.slice(0),variables:c},e)||[],f=u&&u.disabled||[];if(e._isValid=!u.invalid,e._tempValue=o.formatValue.call(i,s.slice(0),c,e),l=s.length,rt=u.length||v,e._isVisible){if(n(".mbsc-np-ph",a).each(function(t){n(this).html("ltr"==o.fill?l<=t?k:p||s[t]:v-rt<=t?t+l<v?k:p||s[t+l-v]:"")}),n(".mbsc-np-cph",a).each(function(){n(this).html(c[n(this).attr("data-var")]||n(this).attr("data-ph"))}),l===v)for(r=0;r<=9;r++)f.push(r);for(n(".mbsc-np-btn",a).removeClass(y),r=0;r<f.length;r++)n('.mbsc-np-btn[data-val="'+f[r]+'"]',a).addClass(y);e._isValid?n(".mbsc-fr-btn-s .mbsc-fr-btn",a).removeClass(y):n(".mbsc-fr-btn-s .mbsc-fr-btn",a).addClass(y);e.live&&(e._hasValue=t||e._hasValue,it(t,!1,t),t&&ft("onSet",{valueText:e._value}))}}function it(n,i,r,u){i&&b();u||(tt=s.slice(0),kt=t({},c),wt=h.slice(0),e._value=e._hasValue?e._tempValue:null);n&&(e._isInput&&w.val(e._hasValue&&e._isValid?e._value:""),ft("onFill",{valueText:e._hasValue?e._tempValue:"",change:r}),r&&(e._preventChange=!0,w.trigger("change")))}function dt(n){var t,i,r=n||[],u=[];for(h=[],c={},t=0;t<r.length;t++)/:/.test(r[t])?(i=r[t].split(":"),c[i[0]]=i[1],h.push(i[0])):(u.push(r[t]),h.push("digit"));return u}function gt(n,t){(l||t||o.allowLeadingZero)&&!n.hasClass("mbsc-disabled")&&!n.hasClass("mbsc-np-btn-empty")&&l<v&&(h.push("digit"),s.push(t),b(!0))}function ni(n){var i,t,r=n.attr("data-val"),f="false"!==n.attr("data-track"),u=n.attr("data-var");if(!n.hasClass("mbsc-disabled")){if(u&&(t=u.split(":"),f&&h.push(t[0]),c[t[0]]=void 0===t[2]?t[1]:c[t[0]]==t[1]?t[2]:t[1]),r.length+l<=rt)for(i=0;i<r.length;++i)t=d(r[i])?+r[i]:r[i],(o.allowLeadingZero||l||t)&&(h.push("digit"),s.push(t),l=s.length);b(!0)}}function ot(){var n,i,t=h.pop();if(l||"digit"!==t){if("digit"!==t&&c[t])for(delete c[t],i=h.slice(0),h=[],n=0;n<i.length;n++)i[n]!==t&&h.push(i[n]);else s.pop();b(!0)}}function ti(){clearInterval(nt);g=!1}function ri(t){if(bt(t,this)){if("keydown"==t.type&&32!=t.keyCode)return;g=!0;ct=r(i=t,"X");lt=r(i,"Y");clearInterval(nt);clearTimeout(nt);ot();nt=setInterval(function(){ot()},150);"mousedown"==t.type&&n(document).on("mousemove",st).on("mouseup",ht)}var i}function st(n){g&&(at=r(n,"X"),vt=r(n,"Y"),yt=at-ct,pt=vt-lt,(7<Math.abs(yt)||7<Math.abs(pt))&&ti())}function ht(t){g&&(t.preventDefault(),ti(),"mouseup"==t.type&&n(document).off("mousemove",st).off("mouseup",ht))}var a,y,k,l,o,p,ct,lt,at,vt,yt,pt,g,nt,s,rt,ft,v,tt,w=n(i),e=this,wt=[],h=[],c={},kt={},ii={107:"+",109:"-"},et={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};ut.call(this,i,u,!0);e.setVal=e._setVal=function(t,r,u,f){e._hasValue=null!=t;s=dt(n.isArray(t)?t.slice(0):o.parseValue.call(i,t,e));it(r,!0,void 0===u?r:u,f)};e.getVal=e._getVal=function(n){return e._hasValue||n?e[n?"_tempValue":"_value"]:null};e.setArrayVal=e.setVal;e.getArrayVal=function(n){return n?s.slice(0):e._hasValue?tt.slice(0):null};e._readValue=function(){var n=w.val()||"";""!==n&&(e._hasValue=!0);p?(c={},h=[],s=[]):(c=e._hasValue?kt:{},h=e._hasValue?wt:[],s=e._hasValue&&tt?tt.slice(0):dt(o.parseValue.call(i,n,e)),it(!1,!0))};e._fillValue=function(){it(e._hasValue=!0,!1,!0)};e._generateContent=function(){var r,u,t,i=1,n="";for(n+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+o.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+o.deleteIcon+'"><\/div><div class="mbsc-np-dsp">',n+=o.template.replace(/d/g,'<span class="mbsc-np-ph">'+k+"<\/span>").replace(/&#100;/g,"d").replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2<\/span>'),n+="<\/div><\/div>",n+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',r=0;r<4;r++){for(n+='<div class="mbsc-np-row">',u=0;u<3;u++)10==(t=i)||12==i?t="":11==i&&(t=0),n+=""===t?10==i&&o.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(o.leftKey.variable?'data-var="'+o.leftKey.variable+'"':"")+' data-val="'+(o.leftKey.value||"")+'" '+(void 0!==o.leftKey.track?' data-track="'+o.leftKey.track+'"':"")+">"+o.leftKey.text+"<\/div>":12==i&&o.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(o.rightKey.variable?'data-var="'+o.rightKey.variable+'"':"")+' data-val="'+(o.rightKey.value||"")+'" '+(void 0!==o.rightKey.track?' data-track="'+o.rightKey.track+'"':"")+" >"+o.rightKey.text+"<\/div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"><\/div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+t+'">'+t+"<\/div>",i++;n+="<\/div>"}return n+"<\/div><\/div>"};e._markupReady=function(){a=e._markup;b()};e._attachEvents=function(t){t.on("keydown",function(i){var r;void 0!==ii[i.keyCode]?(r=n('.mbsc-np-btn[data-var="sign:-:"]',t)).length&&(c.sign=107==i.keyCode?"-":"",ni(r)):void 0!==et[i.keyCode]?gt(n('.mbsc-np-btn[data-val="'+et[i.keyCode]+'"]',t),et[i.keyCode]):8==i.keyCode&&(i.preventDefault(),ot())});e.tap(n(".mbsc-np-btn",t),function(){var t=n(this);t.hasClass("mbsc-np-btn-custom")?ni(t):gt(t,+t.attr("data-val"))},!1,30,!0);n(".mbsc-np-del",t).on("touchstart mousedown keydown",ri).on("touchmove mousemove",st).on("touchend mouseup keyup",ht)};e.__init=function(){(o=e.settings).template=o.template.replace(/\\d/,"&#100;");k=o.placeholder;v=(o.template.match(/d/g)||[]).length;y="mbsc-disabled "+(o.disabledClass||"");p=o.mask;ft=e.trigger;p&&w.is("input")&&w.attr("type","password")};e._indexOf=function(n,t){for(var i=0;i<n.length;++i)if(n[i].toString()===t.toString())return i;return-1};f||e.init()}function df(n){for(var t=0,i=1,r=0;n.length;)3<t?i=3600:1<t&&(i=60),r+=n.pop()*i*(t%2?10:1),t++;return r}function hh(){clearTimeout(sh);sh=setTimeout(function(){n("textarea.mbsc-control").each(function(){lr(this)})},100)}function lr(t){var i,u,r,f=n(t).attr("rows")||6;t.offsetHeight&&(t.style.height="",r=t.scrollHeight-t.offsetHeight,i=t.offsetHeight+(0<r?r:0),f<(u=Math.round(i/24))?(i=24*f+(i-24*u),n(t).addClass("mbsc-textarea-scroll")):n(t).removeClass("mbsc-textarea-scroll"),i&&(t.style.height=i+"px"))}function vu(t,i){function et(){var i;t.disabled||(i=parseFloat(n(this).val()),tt(isNaN(i)?r:i))}function ot(){return t.disabled}function st(n,t){tt(r+t*s)}function tt(n,t,i){ft=r;void 0===t&&(t=!0);void 0===i&&(i=t);r=it(n);k.removeClass("mbsc-disabled");t&&f.val(r);r==v?b.addClass("mbsc-disabled"):r==a&&w.addClass("mbsc-disabled");r!==ft&&i&&f.trigger("change")}function p(n,t,i){var r=f.attr(n);return void 0===r||""===r?t:i?r:+r}function it(n){return+Math.min(a,Math.max(Math.round(n/s)*s,v)).toFixed(ut)}var w,b,k,d,a,v,g,rt,ut,s,nt,o,c,r,y,e,l="",h=this,f=n(t),ft=r;ct.call(this,t,i,!0);h.getVal=function(){var n=parseFloat(f.val());return it(n=isNaN(n)?r:n)};h.setVal=function(n,t,i){n=parseFloat(n);tt(isNaN(n)?r:n,t,i)};h._init=function(){y=f.parent().hasClass("mbsc-stepper");e=y?f.closest(".mbsc-stepper-cont"):f.parent();o=h.settings;v=void 0===i.min?p("min",o.min):i.min;a=void 0===i.max?p("max",o.max):i.max;s=void 0===i.step?p("step",o.step):i.step;ut=Math.abs(s)<1?(s+"").split(".")[1].length:0;g=void 0===i.inputStyle?p("data-input-style",o.inputStyle,!0):i.inputStyle;d=f.attr("data-val")||o.val;r=it(+t.value||0);c=u.themes.form[o.theme];rt=c&&c.addRipple?c:null;y||e.addClass("mbsc-stepper-cont mbsc-no-touch mbsc-control-w").addClass("box"==g?"mbsc-input-box":"").addClass("outline"==g?"mbsc-input-outline":"").append('<span class="mbsc-segmented mbsc-stepper"><\/span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(r==v?"mbsc-disabled":"")+'" data-step="-1" tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"><\/span><\/span><\/span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(r==a?"mbsc-disabled":"")+'"  data-step="1" tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"><\/span><\/span><\/span>').prepend(f);l&&(e.removeClass(l),e.find(".mbsc-segmented").removeClass(l));l="mbsc-"+o.theme+(c.baseTheme?" mbsc-"+c.baseTheme:"")+(o.rtl?" mbsc-rtl":" mbsc-ltr");e.addClass(l);e.find(".mbsc-segmented").addClass(l);b=n(".mbsc-stepper-minus",e);w=n(".mbsc-stepper-plus",e);k=n(".mbsc-stepper-control",e);y||("left"==d?(e.addClass("mbsc-stepper-val-left"),f.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"><\/span><\/span>')):"right"==d?(e.addClass("mbsc-stepper-val-right"),w.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"><\/span><\/span>')):b.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"><\/span><\/span>'));nt||(f.on("change",et),nt=iu(k,st,150,ot,!1,rt));f.val(r).attr("data-role","stepper").attr("min",v).attr("max",a).attr("step",s).addClass("mbsc-control");t.mbscInst=h};h._destroy=function(){f.removeClass("mbsc-control").off("change",et);nt.destroy();delete t.mbscInst};h.init()}function yu(i,r){var f,s,e,o,u=this;t(r=r||{},{changeEvent:"click",round:!1});ys.call(this,i,r,!0);u._readValue=function(){return i.checked?1:0};u._fillValue=function(n,t,i){f.prop("checked",!!n);i&&f.trigger("change")};u._onTap=function(n){u._setVal(n?0:1)};u.___init=function(){e=u.settings;f=n(i);(s=f.parent()).find(".mbsc-switch-track").remove();s.prepend(f);f.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+e.offText+'<\/span><span class="mbsc-switch-txt-on">'+e.onText+"<\/span><\/span><\/span><\/span><\/span>");o&&o.destroy();o=new li(i,e);u._$track=s.find(".mbsc-progress-track");u._min=0;u._max=1;u._step=1};u.___destroy=function(){o.destroy()};u.getVal=function(){return i.checked};u.setVal=function(n,t,i){u._setVal(n?1:0,t,i)};u.init()}function pu(t,i,r){var f,e,o,h,c,l,s,u=this,a=n(t);ki.call(this,t,i,!0);u._update=function(n,t,i,r,e,s){return f.css("width",it(n,0,o)+"%"),e||t[i]==n&&!s||u._display(n),n};u._markupReady=function(){var n,t="",i="";for(e=u._$track,f=u._$progress,s=u.settings,h=u._min,o=u._max,u._base=h,u._rounding=s.rtl?"floor":"ceil",c=a.attr("data-empty")||s.empty,l=a.attr("data-filled")||s.filled,n=0;n<o;++n)t+='<span class="mbsc-ic mbsc-ic-'+c+'"><\/span>',i+='<span class="mbsc-ic mbsc-ic-'+l+'"><\/span>';e.html(t);e.append(f);f.html(i);e.append('<span class="mbsc-rating-handle-cont"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+h+'" aria-valuemax="'+o+'" data-index="0"><\/span><\/span>')};r||u.init()}function lh(t,i,r,u){n("input,select,textarea,progress,button",t).each(function(){var t=this,u=n(t),f=nu(u);if("false"!=u.attr("data-enhance"))if(u.hasClass("mbsc-control"))t.mbscInst&&t.mbscInst.option({theme:r.theme,lang:r.lang,rtl:r.rtl,onText:r.onText,offText:r.offText,stopProp:r.stopProp});else switch(t.id||(t.id="mbsc-form-control-"+ ++se),f){case"button":case"submit":i[t.id]=new te(t,{theme:r.theme,rtl:r.rtl,tap:r.tap});break;case"switch":i[t.id]=new yu(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,tap:r.tap,onText:r.onText,offText:r.offText,stopProp:r.stopProp});break;case"checkbox":i[t.id]=new ie(t,{tap:r.tap,theme:r.theme,rtl:r.rtl});break;case"range":n(t).parent().hasClass("mbsc-slider")||(i[t.id]=new ki(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,stopProp:r.stopProp,labelStyle:r.labelStyle}));break;case"rating":i[t.id]=new pu(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,stopProp:r.stopProp});break;case"progress":i[t.id]=new sr(t,{theme:r.theme,lang:r.lang,rtl:r.rtl,labelStyle:r.labelStyle});break;case"radio":i[t.id]=new re(t,{tap:r.tap,theme:r.theme,rtl:r.rtl});break;case"select":case"select-one":case"select-multiple":i[t.id]=new ue(t,{tap:r.tap,inputStyle:r.inputStyle,labelStyle:r.labelStyle,theme:r.theme,rtl:r.rtl});break;case"textarea":i[t.id]=new ee(t,{tap:r.tap,inputStyle:r.inputStyle,labelStyle:r.labelStyle,theme:r.theme,rtl:r.rtl});break;case"segmented":i[t.id]=new oe(t,{theme:r.theme,rtl:r.rtl,tap:r.tap,inputStyle:r.inputStyle});break;case"stepper":i[t.id]=new vu(t,{theme:r.theme,rtl:r.rtl});break;case"hidden":return;default:i[t.id]=new cr(t,{tap:r.tap,inputStyle:r.inputStyle,labelStyle:r.labelStyle,theme:r.theme,rtl:r.rtl})}});n("[data-collapsible]:not(.mbsc-collapsible)",t).each(function(){var t=n(this).attr("data-open");this.id||(this.id="mbsc-form-control-"+ ++se);i[this.id]=new wu(this,{isOpen:void 0!==t&&"false"!=t});ht[this.id]=i[this.id]});u||hh()}function he(n){dt.length||n.show();dt.push(n)}function ku(n,i,r,u){return t({display:i.display||"center",cssClass:"mbsc-alert",okText:i.okText,cancelText:i.cancelText,context:i.context,theme:i.theme,closeOnOverlayTap:!1,onBeforeClose:function(){n.shift()},onHide:function(n,t){r&&r(t._resolve);i.callback&&i.callback(t._resolve);t&&t.destroy();dt.length?dt[0].show():nr.length&&nr[0].show(!1,!0)}},u)}function ce(n){return(n.title?"<h2>"+n.title+"<\/h2>":"")+"<p>"+(n.message||"")+"<\/p>"}function hl(n,t,i){he(new rt(n,ku(dt,t,i)))}function cl(n,t,i){var r=new rt(n,ku(dt,t,i,{buttons:["cancel","ok"],onSet:function(){r._resolve=!0}}));r._resolve=!1;he(r)}function ll(n,t,i){var r,u=new rt(n,ku(dt,t,i,{buttons:["cancel","ok"],onMarkupReady:function(n,t){var i=t.settings;t._markup.find("label").addClass("mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:""));r=t._markup.find("input")[0];setTimeout(function(){r.focus();r.setSelectionRange(0,r.value.length)},300)},onSet:function(){u._resolve=r.value}}));u._resolve=null;he(u)}function vh(t,i,r,u,f){var o,e,s,h=new rt(t,ku(nr,i,r,{display:i.display||"bottom",animate:f,cssClass:(u||"mbsc-snackbar")+(i.color?" mbsc-"+i.color:""),scrollLock:!1,focusTrap:!1,buttons:[],onMarkupReady:function(n,t){var i=t.settings;t._markup.find("button").addClass("mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:""))},onShow:function(t,r){bu=r;!1!==i.duration&&(o=setTimeout(function(){r&&r.hide()},i.duration||3e3));i.button&&r.tap(n(".mbsc-snackbar-btn",t.target),function(){r.hide();i.button.action&&i.button.action.call(this)})},onClose:function(){bu=null;clearTimeout(o)}}));e=h;s=nr.length;nr.push(e);dt.length||(s?nr[0].hide():e.show(!1,!0))}function al(n,t,i){vh(n,t,i,"mbsc-toast","fade")}function ar(n,t,i){var r;return sl?r=new Promise(function(r){n(t,i,r)}):n(t,i),r}function le(t,i){function h(){f.removeClass("mbsc-no-touch")}var r,o="",f=n(t),s={},e=this;ct.call(this,t,i,!0);e.refresh=function(n){r.enhance&&lh(f,s,r,n)};e._init=function(){u.themes.form[r.theme]||(r.theme="mobiscroll");f.hasClass("mbsc-form")||f.on("touchstart",h).show();o&&f.removeClass(o);o="mbsc-form mbsc-no-touch mbsc-"+r.theme+(yh?" mbsc-form-hb":"")+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr")+("box"==r.inputStyle?" mbsc-form-box":"")+("outline"==r.inputStyle?" mbsc-form-outline":"");f.addClass(o).removeClass("mbsc-cloak");e.refresh()};e._destroy=function(){for(var n in f.removeClass(o).off("touchstart",h),s)s[n].destroy()};e.controls=s;r=e.settings;e.init()}function du(t,i){var u="",f=n(t),r=this.settings;ct.call(this,t,i,!0);this._init=function(){var e=r.context,t=n(e),o=t.find(".mbsc-ms-top .mbsc-ms"),s=t.find(".mbsc-ms-bottom .mbsc-ms"),i={};"body"==e?n("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx");u&&f.removeClass(u);o.length&&(i.paddingTop=o[0].offsetHeight);s.length&&(i.paddingBottom=s[0].offsetHeight);u="mbsc-page mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr");f.addClass(u).removeClass("mbsc-cloak").css(i)};this._destroy=function(){f.removeClass(u)};r=this.settings;this.init()}function vr(r,u,f){function b(n){clearTimeout(ot);ot=setTimeout(function(){rt(!n||"load"!==n.type)},200)}function at(){nt&&k(n(this),!0)}function k(n,t){if(n.length){if(t=e._onItemTap(n,t),(c=n).parent()[0]==r){var f=n.offset().left,i=n[0].offsetLeft,u=n[0].offsetWidth,l=h.offset().left;y&&(i=w-i-u);"a"==o.variant?f<l?p.scroll(y?i+u-s:-i,it,!0):l+s<f+u&&p.scroll(y?i:s-i-u,it,!0):p.scroll((s/2-i-u/2)*(y?-1:1),it,!0)}t&&a("onItemTap",{target:n[0]})}}function lt(){var t;e._initMarkup(h);v.find(".mbsc-ripple").remove();e._$items=v.children();e._$items.each(function(i){var f,r=n(this),u=r.attr("data-ref");u=u||ic++;0===i&&(t=r);c=c||e._getActiveItem(r);f="mbsc-scv-item mbsc-btn-e "+((e._getItemProps(r)||{}).cssClass||"");r.attr("data-ref",u).removeClass(tt[u]).addClass(f);tt[u]=f});c=c||t;e._markupReady(h)}function rt(n,i){var u=o.itemWidth,f=o.layout;if(e.contWidth=s=h.width(),e._checkResp())return!1;n&&et===s||!s||(et=s,d(f)&&(l=s?s/f:u)<u&&(f="liquid"),u&&("liquid"==f?l=s?s/Math.min(Math.floor(s/u),e._$items.length):u:"fixed"==f&&(l=u)),e._size(s,l),l&&v.children().css("width",l+"px"),e.totalWidth=w=r.offsetWidth,t(p.settings,{contSize:s,maxSnapScroll:!!o.paging&&1,maxScroll:0,minScroll:s<w?s-w:0,snap:o.paging?s:!!st&&(l||".mbsc-scv-item"),elastic:s<w&&(l||s)}),p.refresh(i))}var c,h,ut,g,s,l,nt,ft,et,ot,y,p,st,o,w,ht,a,tt={},it=1e3,e=this,v=n(r);ct.call(this,r,u,!0);e.navigate=function(n,t){k(e._getItem(n),t)};e.next=function(n){if(c){var t=c.next();t.length&&k(c=t,n)}};e.prev=function(n){if(c){var t=c.prev();t.length&&k(c=t,n)}};e.refresh=e.position=function(n){lt();rt(!1,n)};e._init=function(){var t;ut=n(o.context);g=n("body"==o.context?window:o.context);e.__init();y=o.rtl;st=!(!o.itemWidth||"fixed"==o.layout||void 0!==o.snap)||o.snap;t="mbsc-scv-c mbsc-no-touch mbsc-"+o.theme+" "+(o.cssClass||"")+" "+(o.wrapperClass||"")+(o.baseTheme?" mbsc-"+o.baseTheme:"")+(y?" mbsc-rtl":" mbsc-ltr")+(o.itemWidth?" mbsc-scv-hasw":"")+("body"==o.context?"":" mbsc-scv-ctx")+" "+(e._getContClass()||"");h?(h.attr("class",t),v.off(".mbsc-ripple")):((h=n('<div class="'+t+'"><div class="mbsc-scv-sc"><\/div><\/div>').on("click",".mbsc-scv-item",at).insertAfter(v)).find(".mbsc-scv-sc").append(v),h.find("img").on("load",b),g.on("orientationchange resize",b),ft=yo(h[0],b,o.zone),p=new oi(h[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:y,mousewheel:o.mousewheel,thresholdX:o.threshold,stopProp:o.stopProp,onStart:function(n){"touchstart"==n.domEvent.type&&(nt=!1,ht||(ht=!0,ut.find(".mbsc-no-touch").removeClass("mbsc-no-touch")))},onBtnTap:function(t){nt=!0;var i=t.domEvent,r=i.target;"touchend"===i.type&&o.tap&&ef(r,nu(n(r)),i)},onGestureStart:function(n){a("onGestureStart",n)},onGestureEnd:function(n){a("onGestureEnd",n)},onMove:function(n){a("onMove",n)},onAnimationStart:function(n){a("onAnimationStart",n)},onAnimationEnd:function(n){a("onAnimationEnd",n)}}));v.css("display","").addClass("mbsc-scv").removeClass("mbsc-cloak");lt();a("onMarkupReady",{target:h[0]});rt()};e._size=i;e._initMarkup=i;e._markupReady=i;e._getContClass=i;e._getItemProps=i;e._getActiveItem=i;e.__init=i;e.__destroy=i;e._destroy=function(){e.__destroy();g.off("orientationchange resize",b);v.removeClass("mbsc-scv").insertAfter(h).find(".mbsc-scv-item").each(function(){var t=n(this);t.width("").removeClass(tt[t.attr("data-ref")])});h.remove();p.destroy();ft.detach()};e._getItem=function(t){return"object"!==ti(t)&&(t=e._$items.filter('[data-id="'+t+'"]')),n(t)};e._onItemTap=function(n,t){return void 0===t||t};o=e.settings;a=e.trigger;f||e.init()}function yr(t,r,u){function p(){o&&"inline"!=o&&a.find(".mbsc-page").css("padding-"+o,"")}function v(n){n.addClass(c).attr("data-selected","true").attr("aria-selected","true")}function l(n){n.removeClass(c).removeAttr("data-selected").removeAttr("aria-selected")}var a,o,s,h,c,e,y=n(t),f=this;vr.call(this,t,r,!0);f.select=function(n){s||l(f._$items.filter(".mbsc-ms-item-sel"));v(f._getItem(n))};f.deselect=function(n){l(f._getItem(n))};f.enable=function(n){f._getItem(n).removeClass("mbsc-disabled").removeAttr("data-disabled").removeAttr("aria-disabled")};f.disable=function(n){f._getItem(n).addClass("mbsc-disabled").attr("data-disabled","true").attr("aria-disabled","true")};f.setBadge=function(t,i){var r;t=f._getItem(t).attr("data-badge",i);(r=n(".mbsc-ms-badge",t)).length?i?r.html(i):r.remove():i&&t.append('<span class="mbsc-ms-badge">'+i+"<\/span>")};f._markupReady=function(n){f._hasIcons?n.addClass("mbsc-ms-icons"):n.removeClass("mbsc-ms-icons");f._hasText?n.addClass("mbsc-ms-txt"):n.removeClass("mbsc-ms-txt");f.__markupReady(n)};f._size=function(n,i){f.__size(n,i);"inline"!=o&&a.find(".mbsc-page").css("padding-"+o,t.offsetHeight+"px")};f._onItemTap=function(n,t){return!1!==f.__onItemTap(n,t)&&(void 0===t&&(t=!s),h&&t&&!n.hasClass("mbsc-disabled")&&(s?"true"==n.attr("data-selected")?l(n):v(n):(l(f._$items.filter(".mbsc-ms-item-sel")),v(n))),t)};f._getActiveItem=function(n){var t="true"==n.attr("data-selected");if(h&&!s&&t)return n};f._getItemProps=function(n){var i="true"==n.attr("data-selected"),r="true"==n.attr("data-disabled"),t=n.attr("data-icon"),u=n.attr("data-badge");return n.attr("data-role","button").attr("aria-selected",i?"true":"false").attr("aria-disabled",r?"true":"false").find(".mbsc-ms-badge").remove(),u&&n.append('<span class="mbsc-ms-badge">'+u+"<\/span>"),t&&(f._hasIcons=!0),n.text()&&(f._hasText=!0),{cssClass:"mbsc-ms-item "+(e.itemClass||"")+" "+(i?c:"")+(r?" mbsc-disabled "+(e.disabledClass||""):"")+(t?" mbsc-ms-ic mbsc-ic mbsc-ic-"+t:"")}};f._getContClass=function(){return" mbsc-ms-c mbsc-ms-"+e.variant+" mbsc-ms-"+o+(h?"":" mbsc-ms-nosel")+(f.__getContClass()||"")};f.__init=function(){f.___init();a=n(e.context);p();o=e.display;s="multiple"==e.select;h="off"!=e.select;c=" mbsc-ms-item-sel "+(e.activeClass||"");y.addClass("mbsc-ms mbsc-ms-base "+(e.groupClass||""))};f.__destroy=function(){y.removeClass("mbsc-ms mbsc-ms-base "+(e.groupClass||""));p();f.___destroy()};f.__onItemTap=i;f.__getContClass=i;f.__markupReady=i;f.__size=i;f.___init=i;f.___destroy=i;e=f.settings;u||f.init()}function rc(t,i){var f,s,h,r,o,e=n(t),c=e.is("ul,ol"),u=this;yr.call(this,t,i,!0);u._initMarkup=function(){f&&f.remove();s&&e.append(s.children())};u.__size=function(t,i){var c,a=i||72,v=u._$items.length,l=0;o.hide();"bottom"==r.type&&(e.removeClass("mbsc-scv-liq"),f.remove(),u._$items.remove().each(function(r){var u=n(this);e.append(u);l+=i||this.offsetWidth||0;Math.round(l+(r<v-1?a:0))>t&&(c=!0,s.append(u.css("width","").addClass("mbsc-fr-btn-e")))}),f.attr("class",h+(r.moreIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+r.moreIcon:"")).html(u._hasIcons&&u._hasText?r.moreText:""),c&&e.append(f));"liquid"==r.layout&&e.addClass("mbsc-scv-liq")};u.__onItemTap=function(n){if(n.hasClass("mbsc-menu-item")&&!1!==u.trigger("onMenuShow",{target:n[0],menu:o}))return o.show(!1,!0),!1};u.__getContClass=function(){return"hamburger"==r.type?" mbsc-ms-hamburger":""};u.__markupReady=function(n){"hamburger"==r.type&&(s.append(u._$items.addClass("mbsc-fr-btn-e")),f.attr("class",h+(r.menuIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+r.menuIcon:"")).html(r.menuText||""),e.append(f),r.menuText&&r.menuIcon||n.removeClass("mbsc-ms-icons"),r.menuText?n.addClass("mbsc-ms-txt"):n.removeClass("mbsc-ms-txt"))};u.___init=function(){var t;"tab"==r.type?(r.display=r.display||"top",r.variant=r.variant||"b"):"bottom"==r.type?(r.display=r.display||"bottom",r.variant=r.variant||"a"):"hamburger"==r.type&&(r.display=r.display||"inline",r.variant=r.variant||"a");h="mbsc-scv-item mbsc-ms-item mbsc-btn-e mbsc-menu-item "+(r.itemClass||"");f||(f=n(c?"<li><\/li>":"<div><\/div>"),s=n(c?"<ul><\/ul>":"<div><\/div>").addClass("mbsc-scv mbsc-ms"));o=new rt(s[0],{display:"bubble",theme:r.theme,lang:r.lang,context:r.context,buttons:[],anchor:f,onBeforeShow:function(n,i){t=null;i.settings.cssClass="mbsc-wdg mbsc-ms-a mbsc-ms-more"+(u._hasText?"":" mbsc-ms-more-icons")},onBeforeClose:function(){return u.trigger("onMenuHide",{target:t&&t[0],menu:o})},onMarkupReady:function(i,r){u.tap(r._markup.find(".mbsc-fr-c"),function(i){(t=n(i.target).closest(".mbsc-ms-item")).length&&!t.hasClass("mbsc-disabled")&&(u.navigate(t,!0),o.hide())})}})};u.___destroy=function(){o.destroy();e.append(u._$items);f.remove()};r=u.settings;u.init()}function we(n,t){yr.call(this,n,t,!0);this.___init=function(){};this.init()}function be(t,i){function h(){u.removeClass("mbsc-no-touch")}var e,r,o="",u=n(t),s={},f=this;ct.call(this,t,i,!0);f.refresh=function(n){lh(u,s,e,n)};f._init=function(){var i=void 0!==e.collapsible||void 0!==u.attr("data-collapsible"),n;(u.hasClass("mbsc-card")||u.on("touchstart",h).show(),o&&u.removeClass(o),o="mbsc-card mbsc-form mbsc-no-touch mbsc-"+e.theme+(uc?" mbsc-form-hb":"")+(e.baseTheme?" mbsc-"+e.baseTheme:"")+(e.rtl?" mbsc-rtl":" mbsc-ltr"),u.addClass(o).removeClass("mbsc-cloak"),i&&!r)&&(n=u.attr("data-open"),r=new wu(t,{isOpen:void 0!==n&&"false"!=n||!0===e.collapsible}));f.refresh()};f._destroy=function(){for(var n in u.removeClass(o).off("touchstart",h),s)s[n].destroy();r&&r.destroy()};f.toggle=function(){r&&r.toggle()};f.hide=function(){r&&r.hide()};f.show=function(){r&&r.show()};e=f.settings;f.init()}function ke(t,i){var e=r(i,"X",!0),o=r(i,"Y",!0),u=t.offset(),s=e-u.left,h=o-u.top,c=Math.max(s,t[0].offsetWidth-s),l=Math.max(h,t[0].offsetHeight-h),f=2*Math.sqrt(Math.pow(c,2)+Math.pow(l,2));pr(vi);vi=n('<span class="mbsc-ripple"><\/span>').css({width:f,height:f,top:o-u.top-f/2,left:e-u.left-f/2}).appendTo(t);setTimeout(function(){vi.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function pr(n){setTimeout(function(){n&&(n.removeClass("mbsc-ripple-visible"),setTimeout(function(){n.remove()},2e3))},100)}function fc(t,i,u,f){var e,o;t.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",i,function(t){bt(t,this)&&(e=r(t,"X"),o=r(t,"Y"),(gt=n(this)).hasClass(u)||gt.hasClass(f)?gt=null:ke(gt,t))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",i,function(n){(gt&&9<Math.abs(r(n,"X")-e)||9<Math.abs(r(n,"Y")-o))&&(pr(vi),gt=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",i,function(){gt&&(setTimeout(function(){pr(vi)},100),gt=null)})}var u=u||{},tr={},oc={},sc={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},hc={readonly:"readOnly"},no=[],ir=Array.prototype.slice,f,gu=(f=function et(n,t){var e,o,r,f=[],i=0,u;if(n&&!t&&n instanceof s)return n;if(ot(n))return et(document).ready(n);if(n)if("string"==typeof n)if(n=r=n.trim(),0<=r.indexOf("<")&&0<=r.indexOf(">"))for(u="div",0===r.indexOf("<li")&&(u="ul"),0===r.indexOf("<tr")&&(u="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(u="tr"),0===r.indexOf("<tbody")&&(u="table"),0===r.indexOf("<option")&&(u="select"),(o=document.createElement(u)).innerHTML=r,i=0;i<o.childNodes.length;i++)f.push(o.childNodes[i]);else for(e=t||"#"!==n[0]||n.match(/[ .<>:~]/)?(t instanceof s&&(t=t[0]),(t||document).querySelectorAll(n)):[document.getElementById(n.split("#")[1])],i=0;i<e.length;i++)e[i]&&f.push(e[i]);else if(n.nodeType||n===window||n===document)f.push(n);else if(0<n.length&&n[0].nodeType)for(i=0;i<n.length;i++)f.push(n[i]);else et.isArray(n)&&(f=n);return new s(f)},s.prototype={ready:function(n){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?n(f):document.addEventListener("DOMContentLoaded",function(){n(f)},!1),this},concat:no.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(n){return f(f.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return f(ir.apply(this,arguments))},addClass:function(n){var r,t,i;if(void 0===n)return this;for(r=n.split(" "),t=0;t<r.length;t++)for(i=0;i<this.length;i++)void 0!==this[i].classList&&""!==r[t]&&this[i].classList.add(r[t]);return this},removeClass:function(n){var r,t,i;if(void 0===n)return this;for(r=n.split(" "),t=0;t<r.length;t++)for(i=0;i<this.length;i++)void 0!==this[i].classList&&""!==r[t]&&this[i].classList.remove(r[t]);return this},hasClass:function(n){return!!this[0]&&this[0].classList.contains(n)},toggleClass:function(n){for(var t,r=n.split(" "),i=0;i<r.length;i++)for(t=0;t<this.length;t++)void 0!==this[t].classList&&this[t].classList.toggle(r[i]);return this},closest:function(n,t){var i=this[0],r=!1;for(wr(n)&&(r=f(n));i&&!(r?0<=r.indexOf(i):f.matches(i,n));)i=i!==t&&i.nodeType!==i.DOCUMENT_NODE&&i.parentNode;return f(i)},attr:function(n,t){var u,i,r;if(1!==arguments.length||"string"!=typeof n){for(i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(n,t);else for(r in n)this[i][r]=n[r],this[i].setAttribute(r,n[r]);return this}if(this.length)return u=this[0].getAttribute(n),u||""===u?u:void 0},removeAttr:function(n){for(var t=0;t<this.length;t++)this[t].removeAttribute(n);return this},prop:function(n,t){if(n=hc[n]||n,1===arguments.length&&"string"==typeof n)return this[0]?this[0][n]:void 0;for(var i=0;i<this.length;i++)this[i][n]=t;return this},val:function(n){if(void 0===n)return this.length&&this[0].multiple?f.map(this.find("option:checked"),function(n){return n.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)f.each(this[0].options,function(){this.selected=-1!=n.indexOf(this.value)});else for(var t=0;t<this.length;t++)this[t].value=n;return this},on:function(n,t,i,r){function s(n){var r,u,e=n.target;if(f(e).is(t))i.call(e,n);else for(u=f(e).parents(),r=0;r<u.length;r++)f(u[r]).is(t)&&i.call(u[r],n)}function h(n,t,i,r){var u=t.split(".");n.DomNameSpaces||(n.DomNameSpaces=[]);n.DomNameSpaces.push({namespace:u[1],event:u[0],listener:i,capture:r});n.addEventListener(u[0],i,r)}for(var u,o=n.split(" "),e=0;e<this.length;e++)if(ot(t)||!1===t)for(ot(t)&&(r=i||!1,i=t),u=0;u<o.length;u++)-1!=o[u].indexOf(".")?h(this[e],o[u],i,r):this[e].addEventListener(o[u],i,r);else for(u=0;u<o.length;u++)this[e].DomLiveListeners||(this[e].DomLiveListeners=[]),this[e].DomLiveListeners.push({listener:i,liveListener:s}),-1!=o[u].indexOf(".")?h(this[e],o[u],s,r):this[e].addEventListener(o[u],s,r);return this},off:function(n,t,i,r){function h(n){for(var i,r,u=n.split("."),f=u[0],e=u[1],t=0;t<o.length;++t)if(o[t].DomNameSpaces){for(i=0;i<o[t].DomNameSpaces.length;++i)(r=o[t].DomNameSpaces[i]).namespace!=e||r.event!=f&&f||(o[t].removeEventListener(r.event,r.listener,r.capture),r.removed=!0);for(i=o[t].DomNameSpaces.length-1;0<=i;--i)o[t].DomNameSpaces[i].removed&&o[t].DomNameSpaces.splice(i,1)}}for(var u,s,o=this,e=n.split(" "),f=0;f<e.length;f++)for(u=0;u<this.length;u++)if(ot(t)||!1===t)ot(t)&&(r=i||!1,i=t),0===e[f].indexOf(".")?h(e[f].substr(1)):this[u].removeEventListener(e[f],i,r);else{if(this[u].DomLiveListeners)for(s=0;s<this[u].DomLiveListeners.length;s++)this[u].DomLiveListeners[s].listener===i&&this[u].removeEventListener(e[f],this[u].DomLiveListeners[s].liveListener,r);this[u].DomNameSpaces&&this[u].DomNameSpaces.length&&e[f]&&h(e[f])}return this},trigger:function(n,t){for(var u,f,r=n.split(" "),i=0;i<r.length;i++)for(u=0;u<this.length;u++){try{f=new CustomEvent(r[i],{detail:t,bubbles:!0,cancelable:!0})}catch(n){(f=document.createEvent("Event")).initEvent(r[i],!0,!0);f.detail=t}this[u].dispatchEvent(f)}return this},width:function(n){return void 0!==n?this.css("width",n):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:0<this.length?parseFloat(this.css("width")):null},height:function(n){if(void 0!==n)return this.css("height",n);if(this[0]===window)return window.innerHeight;if(this[0]!==document)return 0<this.length?parseFloat(this.css("height")):null;var i=document.body,t=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},innerWidth:function(){var t=this,n;if(0<this.length)return this[0].innerWidth?this[0].innerWidth:(n=this[0].offsetWidth,["left","right"].forEach(function(i){n-=parseInt(t.css(io("border-"+i+"-width"))||0,10)}),n)},innerHeight:function(){var t=this,n;if(0<this.length)return this[0].innerHeight?this[0].innerHeight:(n=this[0].offsetHeight,["top","bottom"].forEach(function(i){n-=parseInt(t.css(io("border-"+i+"-width"))||0,10)}),n)},offset:function(){if(0<this.length){var n=this[0].getBoundingClientRect(),t=document.documentElement;return{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}},hide:function(){for(var n=0;n<this.length;n++)this[n].style.display="none";return this},show:function(){for(var n=0;n<this.length;n++)"none"==this[n].style.display&&(this[n].style.display=""),"none"==getComputedStyle(this[n],"").getPropertyValue("display")&&(this[n].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){if(this[0])return window.getComputedStyle(this[0],null)},css:function(n,t){var r,i,u=this[0],f="";if(arguments.length<2){if(!u)return;if("string"==typeof n)return u.style[n]||getComputedStyle(u,"").getPropertyValue(n)}if("string"==typeof n)t||0===t?f=rr(n)+":"+ro(n,t):this.each(function(){this.style.removeProperty(rr(n))});else for(i in n)if(n[i]||0===n[i])f+=rr(i)+":"+ro(i,n[i])+";";else for(r=0;r<this.length;r++)this[r].style.removeProperty(rr(i));return this.each(function(){this.style.cssText+=";"+f})},each:function(n){for(var t=0;t<this.length&&!1!==n.apply(this[t],[t,this[t]]);t++);return this},filter:function(n){for(var i=[],t=0;t<this.length;t++)ot(n)?n.call(this[t],t,this[t])&&i.push(this[t]):f.matches(this[t],n)&&i.push(this[t]);return new s(i)},html:function(n){if(void 0===n)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=n;return this},text:function(n){if(void 0===n)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=n;return this},is:function(n){return 0<this.length&&f.matches(this[0],n)},not:function(n){var i=[],t;return ot(n)&&void 0!==n.call?this.each(function(t){n.call(this,t)||i.push(this)}):(t="string"==typeof n?this.filter(n):to(n)&&ot(n.item)?ir.call(n):f(n),wr(t)&&(t=f.map(t,function(n){return n})),this.each(function(n,r){t.indexOf(r)<0&&i.push(r)})),f(i)},indexOf:function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t},index:function(n){return n?this.indexOf(f(n)[0]):this.parent().children().indexOf(this[0])},get:function(n){return void 0===n?ir.call(this):this[0<=n?n:n+this.length]},eq:function(n){if(void 0===n)return this;var t,i=this.length;return new s(i-1<n?[]:n<0?(t=i+n)<0?[]:[this[t]]:[this[n]])},append:function(n){for(var i,r,t=0;t<this.length;t++)if("string"==typeof n)for(r=document.createElement("div"),r.innerHTML=n;r.firstChild;)this[t].appendChild(r.firstChild);else if(n instanceof s)for(i=0;i<n.length;i++)this[t].appendChild(n[i]);else this[t].appendChild(n);return this},appendTo:function(n){return f(n).append(this),this},prepend:function(n){for(var i,r,t=0;t<this.length;t++)if("string"==typeof n)for(r=document.createElement("div"),r.innerHTML=n,i=r.childNodes.length-1;0<=i;i--)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0]);else if(n instanceof s)for(i=0;i<n.length;i++)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},prependTo:function(n){return f(n).prepend(this),this},insertBefore:function(n){for(var r,t=f(n),i=0;i<this.length;i++)if(1===t.length)t[0].parentNode.insertBefore(this[i],t[0]);else if(1<t.length)for(r=0;r<t.length;r++)t[r].parentNode.insertBefore(this[i].cloneNode(!0),t[r]);return this},insertAfter:function(n){for(var r,t=f(n),i=0;i<this.length;i++)if(1===t.length)t[0].parentNode.insertBefore(this[i],t[0].nextSibling);else if(1<t.length)for(r=0;r<t.length;r++)t[r].parentNode.insertBefore(this[i].cloneNode(!0),t[r].nextSibling);return this},next:function(n){return 0<this.length?n?this[0].nextElementSibling&&f(this[0].nextElementSibling).is(n)?new s([this[0].nextElementSibling]):new s([]):this[0].nextElementSibling?new s([this[0].nextElementSibling]):new s([]):new s([])},nextAll:function(n){var r=[],i=this[0],t;if(!i)return new s([]);for(;i.nextElementSibling;)t=i.nextElementSibling,n?f(t).is(n)&&r.push(t):r.push(t),i=t;return new s(r)},prev:function(n){return 0<this.length?n?this[0].previousElementSibling&&f(this[0].previousElementSibling).is(n)?new s([this[0].previousElementSibling]):new s([]):this[0].previousElementSibling?new s([this[0].previousElementSibling]):new s([]):new s([])},prevAll:function(n){var r=[],i=this[0],t;if(!i)return new s([]);for(;i.previousElementSibling;)t=i.previousElementSibling,n?f(t).is(n)&&r.push(t):r.push(t),i=t;return new s(r)},parent:function(n){for(var i=[],t=0;t<this.length;t++)null!==this[t].parentNode&&(n?f(this[t].parentNode).is(n)&&i.push(this[t].parentNode):i.push(this[t].parentNode));return f(f.unique(i))},parents:function(n){for(var t,i=[],r=0;r<this.length;r++)for(t=this[r].parentNode;t;)n?f(t).is(n)&&i.push(t):i.push(t),t=t.parentNode;return f(f.unique(i))},find:function(n){for(var u,i,r=[],t=0;t<this.length;t++)for(u=this[t].querySelectorAll(n),i=0;i<u.length;i++)r.push(u[i]);return new s(r)},children:function(n){for(var i,t,r=[],u=0;u<this.length;u++)for(i=this[u].childNodes,t=0;t<i.length;t++)n?1===i[t].nodeType&&f(i[t]).is(n)&&r.push(i[t]):1===i[t].nodeType&&r.push(i[t]);return new s(f.unique(r))},remove:function(){for(var n=0;n<this.length;n++)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this},add:function(){for(var t,i,n=0;n<arguments.length;n++)for(i=f(arguments[n]),t=0;t<i.length;t++)this[this.length]=i[t],this.length++;return this},before:function(n){return f(n).insertBefore(this),this},after:function(n){return f(n).insertAfter(this),this},scrollTop:function(n){if(this.length){var t="scrollTop"in this[0];return void 0===n?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=n}:function(){this.scrollTo(this.scrollX,n)})}},scrollLeft:function(n){if(this.length){var t="scrollLeft"in this[0];return void 0===n?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=n}:function(){this.scrollTo(n,this.scrollY)})}},contents:function(){return this.map(function(n,t){return ir.call(t.childNodes)})},nextUntil:function(n){for(var t=this,i=[];t.length&&!t.filter(n).length;)i.push(t[0]),t=t.next();return f(i)},prevUntil:function(n){for(var t=this,i=[];t.length&&!f(t).filter(n).length;)i.push(t[0]),t=t.prev();return f(i)},detach:function(){return this.remove()}},f.fn=s.prototype,f),v=gu,ff,fr,ho,ei,er,lt,bi,cf,lo,ao,p,tu,wo,bo,ts,rs,us,fs,es,os,li,nh,rh,gi,uh,gf,fh,eh,oh,ne,cr,te,ie,re,ue,sh,fe,ee,oe,ch,wu,se,rt,ah,yh,ph,wh,bh,ae,kh,ve,dh,ye,gh,pe,nc,tc,ic,uc,gt,vi,yi,ec,ni;u.$=gu;v.inArray=function(n,t,i){return no.indexOf.call(t,n,i)};v.extend=function(n){var t,i=ir.call(arguments,1);return"boolean"==typeof n&&(t=n,n=i.shift()),n=n||{},i.forEach(function(i){!function i(n,t,r){for(var u in t)r&&(v.isPlainObject(t[u])||v.isArray(t[u]))?((v.isPlainObject(t[u])&&!v.isPlainObject(n[u])||v.isArray(t[u])&&!v.isArray(n[u]))&&(n[u]={}),i(n[u],t[u],r)):void 0!==t[u]&&(n[u]=t[u])}(n,i,t)}),n};v.isFunction=ot;v.isArray=function(n){return"[object Array]"===Object.prototype.toString.apply(n)};v.isPlainObject=function(n){return wr(n)&&null!==n&&n!==n.window&&Object.getPrototypeOf(n)==Object.prototype};v.each=function(n,t){var i,r;if(wr(n)&&t){if(v.isArray(n)||n instanceof gu)for(i=0;i<n.length&&!1!==t.call(n[i],i,n[i]);i++);else for(r in n)if(n.hasOwnProperty(r)&&"length"!==r&&!1===t.call(n[r],r,n[r]))break;return this}};v.unique=function(n){for(var i=[],t=0;t<n.length;t++)-1===i.indexOf(n[t])&&i.push(n[t]);return i};v.map=function(n,t){var u,i,f,r=[];if(to(n))for(i=0;i<n.length;i++)null!==(u=t(n[i],i))&&r.push(u);else for(f in n)null!==(u=t(n[f],f))&&r.push(u);return 0<r.length?v.fn.concat.apply([],r):r};v.matches=function(n,t){return!(!t||!n||1!==n.nodeType)&&(n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector).call(n,t)};var y,br,st,uo,kr=[],tt="undefined"!=typeof window,cc=tt&&matchMedia("(prefers-color-scheme:dark)").matches,ur=tt?navigator.userAgent:"",fo=tt?navigator.platform:"",lc=tt?navigator.maxTouchPoints:0,ac=/Safari/.test(ur),dr=ur.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),yt=tt&&window.requestAnimationFrame||function(n){return setTimeout(n,20)},nf=tt&&window.cancelAnimationFrame||function(n){clearTimeout(n)};/Android/i.test(dr)?(y="android",(br=ur.match(/Android\s+([\d\.]+)/i))&&(kr=br[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(dr)||/iPhone|iPad|iPod/i.test(fo)||"MacIntel"===fo&&1<lc?(y="ios",(br=ur.match(/OS\s+([\d\_]+)/i))&&(kr=br[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(dr)?y="wp":/Windows|MSIE/i.test(dr)&&(y="windows");st=kr[0];uo=kr[1];fr=0;tt&&(["mouseover","mousedown","mouseup","click"].forEach(function(n){document.addEventListener(n,vc,!0)}),"android"==y&&st<5&&document.addEventListener("change",function(n){fr&&"checkbox"==n.target.type&&!n.target.mbscChange&&(n.stopPropagation(),n.preventDefault());delete n.target.mbscChange},!0));u.uid="55ac5a82";var fi,n=u.$,yc=+new Date,ht={},a={},pc={},wc={xsmall:0,small:576,medium:768,large:992,xlarge:1200},t=n.extend;t(tr,{getCoord:r,preventClick:wt,vibrate:rf});fi=t(u,{$:n,version:"4.9.0",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:y,majorVersion:st,minorVersion:uo},i18n:{},instances:ht,classes:a,util:tr,settings:{},setDefaults:function(n){t(this.settings,n)},customTheme:function(n,i){for(var e=u.themes,f=["frame","scroller","listview","navigation","form","page","progress","card"],r=0;r<f.length;r++)e[f[r]][n]=t({},e[f[r]][i],{baseTheme:i})}});ho=0;tr.getJson=sf;tu={};tt&&(er=document.createElement("modernizr").style,lt=function(){var n,t=["Webkit","Moz","O","ms"];for(n in t)if(bc([t[n]+"Transform"]))return"-"+t[n].toLowerCase()+"-";return""}(),p=lt.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),ei=void 0!==er.animation?"animationend":"webkitAnimationEnd",cf=void 0!==er.transition,ao=(lo="ios"===y&&!ac)&&window.webkit&&window.webkit.messageHandlers,bi=void 0===er.touchAction||lo&&!ao);var lf="position:absolute;left:0;top:0;",vo=lf+"right:0;bottom:0;overflow:hidden;z-index:-1;",dc='<div style="'+vo+'"><div style="'+lf+'"><\/div><\/div><div style="'+vo+'"><div style="'+lf+'width:200%;height:200%;"><\/div><\/div>';var ru,uu,af=u.themes,nl=/(iphone|ipod)/i.test(ur)&&7<=st,po="android"==y,vf="ios"==y,tl=vf&&7<st,il="input,select,textarea,button";ut.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:po||vf,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,showOverlay:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!(vf&&8==st)};a.Frame=ut;af.frame.mobiscroll={headerText:!1,btnWidth:!1};af.scroller.mobiscroll=t({},af.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"});tt&&n(window).on("focus",function(){ru&&(uu=!0)});wo="ios"==y;oi.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};var h={},yf=tt?window.CSS:null,rl=yf&&yf.supports&&yf.supports("(transform-style: preserve-3d)");l.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:h,_defaults:t({},ut.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(n){return n.join(" ")},parseValue:function(t,i){var r,u,f=[],e=[],o=0;return null!=t&&(f=(t+"").split(" ")),n.each(i.settings.wheels,function(t,s){n.each(s,function(t,s){u=s.data;r=i._getItemValue(u[0]);n.each(u,function(n,t){if(f[o]==i._getItemValue(t))return r=i._getItemValue(t),!1});e.push(r);o++})}),e}})};a.Scroller=l;bo={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};h.select=function(r,u){function bt(t){var u,p,e,i,y,r,c=0,s=0,a={},v;(h={},w={},l=[],et=[],it.length=0,vt)?n.each(rt,function(n,o){y=o[f.dataText]+"";p=o[f.dataHtml];r=o[f.dataValue];e=o[f.dataGroup];i={value:r,html:p,text:y,index:n,cssClass:wt?"mbsc-sel-gr-itm":""};h[r]=i;t&&!gt(y,t)||(l.push(i),nt&&(void 0===a[e]?(u={text:e,value:s,options:[],index:s},w[s]=u,a[e]=s,et.push(u),s++):u=w[a[e]],tt&&(i.index=u.options.length),i.group=a[e],u.options.push(i)),o[f.dataDisabled]&&it.push(r))}):nt?(v=!0,n("optgroup",o).each(function(r){w[r]={text:this.label,value:r,options:[],index:r};v=!0;n("option",this).each(function(n){i={value:this.value,text:this.text,index:tt?n:c++,group:r,cssClass:wt?"mbsc-sel-gr-itm":""};h[this.value]=i;t&&!gt(this.text,t)||(v&&(et.push(w[r]),v=!1),l.push(i),w[r].options.push(i),this.disabled&&it.push(this.value))})})):n("option",o).each(function(n){i={value:this.value,text:this.text,index:n};h[this.value]=i;t&&!gt(this.text,t)||(l.push(i),this.disabled&&it.push(this.value))});ti=f.defaultValue?f.defaultValue:l.length?l[0].value:"";wt&&(l=[],c=0,n.each(w,function(t,u){u.options.length&&(r="__group"+t,i={text:u.text,value:r,group:t,index:c++,cssClass:"mbsc-sel-gr"},h[r]=i,l.push(i),it.push(i.value),n.each(u.options,function(n,t){t.index=c++;l.push(t)}))}));lt&&(l.length?lt.removeClass("mbsc-sel-empty-v"):lt.addClass("mbsc-sel-empty-v"))}function si(n,t,i,r,u){for(var e=[],f=0;f<n.length;f++)e.push({value:n[f].value,display:n[f].html||n[f].text,cssClass:n[f].cssClass});return{circular:!1,multiple:t&&!r?1:r,cssClass:(t&&!r?"mbsc-sel-one":"")+" "+u,data:e,label:i}}function hi(){return si(tt&&w[a]?w[a].options:l,v,ki,p,"")}function ci(){var n=[[]];return b&&(ot=si(et,v,f.groupLabel,!1,"mbsc-sel-gr-whl"),ei?n[0][s]=ot:n[s]=[ot]),st=hi(),ei?n[0][e]=st:n[e]=[st],n}function yt(t){p&&(t&&pt(t)&&(t=t.split(",")),n.isArray(t)&&(t=t[0]));!h[c=null==t||""===t?ti:t]&&l&&l.length&&(c=l[0].value);b&&(a=h[c]?h[c].group:null)}function kt(n){return ii[n]||(h[n]?h[n].text:"")}function dt(){var t,i="",n=r.getVal(),u=f.formatValue.call(ct,r.getArrayVal(),r,!0);if(f.filter&&"inline"==f.display||y.val(u),o.is("select")&&vt){if(p)for(t=0;t<n.length;t++)i+='<option value="'+n[t]+'">'+kt(n[t])+"<\/option>";else i='<option value="'+(null===n?"":n)+'">'+u+"<\/option>";o.html(i)}ct!==y[0]&&o.val(n)}function li(){var n={};n[e]=hi();ht=!0;r.changeWheel(n)}function gt(n,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),n.match(new RegExp(t,"ig"))}function ai(n){return f.data.dataField?n[f.data.dataField]:f.data.processResponse?f.data.processResponse(n):n}function vi(n){var t={};bt(n);yt(c);f.wheels=ci();t[e]=st;r._tempWheelArray[e]=c;b&&(t[s]=ot,r._tempWheelArray[s]=a);r.changeWheel(t,0,!0);dt()}function yi(n){return r.trigger("onFilter",{filterText:n})}function pi(n){n[s]!=a&&(a=n[s],c=w[a].options[0].value,n[e]=c,tt?li():r.setArrayVal(n,!1,!1,!0,ri))}var y,rt,ni,k,a,et,ot,w,s,ut,c,l,st,e,ht,ti="",ii={},ri=1e3,ct=this,o=n(ct),wi=t({},r.settings),f=t(r.settings,bo,wi),lt=n('<div class="mbsc-sel-empty">'+f.filterEmptyText+"<\/div>"),bi=f.readonly,h={},fi=f.layout||(/top|bottom|inline/.test(f.display)||f.filter?"liquid":""),ei="liquid"==fi||!f.touchUi,p=d(f.select)?f.select:"multiple"==f.select||o.prop("multiple"),v=p||!(!f.filter&&!f.tapSelect)&&1,at=this.id+"_dummy",oi=n('label[for="'+this.id+'"]').attr("for",at),ki=void 0!==f.label?f.label:oi.length?oi.text():o.attr("name"),g=f.group,vt=!!f.data,nt=vt?!!f.group:n("optgroup",o).length,b=nt&&g&&!1!==g.groupWheel,tt=nt&&g&&b&&!0===g.clustered,wt=nt&&(!g||!1!==g.header&&!tt),ft=o.val()||(p?[]:[""]),it=[];return r.setVal=function(n,t,i,u,f){if(v&&(null==n||p||(n=[n]),n&&pt(n)&&(n=n.split(",")),r._tempSelected[e]=ui(n),u||(r._selected[e]=ui(n)),n=n?n[0]:null,b)){var o=h[n],c=o&&o.group;r._tempSelected[s]=ui([c]);u||(r._selected[s]=ui([c]))}r._setVal(n,t,i,u,f)},r.getVal=function(n,t){var i;return i=v?(i=gr(n?r._tempSelected[e]:r._selected[e]),p?i:i.length?i[0]:null):(i=n?r._tempWheelArray:r._hasValue?r._wheelArray:null)?i[e]:null,p?i:void 0!==i?nt&&t?[h[i]?h[i].group:null,i]:i:null},r.refresh=function(t,r,u){u=u||i;t?(rt=t,ut||(f.data=t)):n.isArray(f.data)&&(rt=f.data);!t&&ut&&void 0===r?sf(f.data.url,function(n){rt=ai(n);vi();u()},f.data.dataType):(vi(r),u())},u.invalid||(f.invalid=it),e=b?(s=0,1):(s=-1,0),v&&(p&&o.prop("multiple",!0),ft&&pt(ft)&&(ft=ft.split(",")),r._selected[e]=ui(ft)),r._$input&&r._$input.remove(),o.next().is(".mbsc-select-input")?y=o.next().removeAttr("tabindex"):f.input?y=n(f.input):(f.filter&&"inline"==f.display?r._$input=n('<div class="mbsc-sel-input-wrap"><input type="text" id="'+at+'" class="mbsc-select-input mbsc-control '+f.inputClass+'" readonly /><\/div>'):(y=n('<input type="text" id="'+at+'" class="mbsc-select-input mbsc-control '+f.inputClass+'" readonly />'),r._$input=y),f.showInput&&(r._$input.insertAfter(o),y=y||r._$input.find("#"+at))),r.attachShow(y.attr("placeholder",f.placeholder||"")),y[0]!==ct&&(o.addClass("mbsc-sel-hdn").attr("tabindex",-1),f.showInput||o.attr("data-enhance",!1)),!v||f.rows%2||(f.rows=f.rows-1),f.filter&&(ni=f.filter.minLength||0),(ut=f.data&&f.data.url)?r.refresh():(vt&&(rt=f.data),bt(),yt(o.val())),{layout:fi,headerText:!1,anchor:y,compClass:"mbsc-sc mbsc-sel"+(v?" mbsc-sel-multi":""),setOnTap:!b||[!1,!0],formatValue:function(n,t,i){var r,u=[],f=i?t._selected:t._tempSelected;if(v){for(r in f[e])u.push(kt(r));return u.join(", ")}return kt(n[e])},tapSelect:v,parseValue:function(n){return yt(void 0===n?o.val():n),b?[a,c]:[c]},validate:function(n){var i=n.index,t=[];return t[e]=f.invalid,tt&&!ht&&void 0===i&&li(),ht=!1,{disabled:t}},onRead:dt,onFill:dt,onMarkupReady:function(t,i){if(f.filter){var u,s,r,o=n(".mbsc-fr-w",t.target),e=n('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+f.filterClearIcon+'"><\/span>');"inline"==f.display?(u=y).parent().find(".mbsc-sel-filter-clear").remove():(o.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w mbsc-'+f.theme+(f.baseTheme?" mbsc-"+f.baseTheme:"")+'"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/><\/span><\/div>'),u=o.find(".mbsc-sel-filter-input"));k=null;r=u[0];u.prop("readonly",!1).attr("placeholder",f.filterPlaceholderText).parent().append(e);o.find(".mbsc-fr-c").prepend(lt);i._activeElm=r;i.tap(e,function(){k=null;r.value="";i.refresh();e.removeClass("mbsc-sel-filter-show-clear");yi("")});u.on("keydown",function(n){13!=n.keyCode&&27!=n.keyCode||(n.stopPropagation(),r.blur())}).on("input",function(){clearTimeout(s);r.value.length?e.addClass("mbsc-sel-filter-show-clear"):e.removeClass("mbsc-sel-filter-show-clear");s=setTimeout(function(){k!==r.value&&!1!==yi(r.value)&&((k=r.value).length>=ni||!k.length)&&(ut&&f.data.remoteFilter?sf(f.data.url+encodeURIComponent(k),function(n){i.refresh(ai(n))},f.data.dataType):i.refresh(void 0,k))},500)})}},onBeforeShow:function(){p&&f.counter&&(f.headerText=function(){var t=0;return n.each(r._tempSelected[e],function(){t++}),(1<t&&f.selectedPluralText||f.selectedText).replace(/{count}/,t)});yt(o.val());v&&b&&(r._selected[s]=ui([a]));f.filter&&bt(void 0);r.settings.wheels=ci();ht=!0},onWheelGestureStart:function(n){n.index==s&&(f.readonly=[!1,!0])},onWheelAnimationEnd:function(n){var t=r.getArrayVal(!0);n.index==s?(f.readonly=bi,v||pi(t)):n.index==e&&t[e]!=c&&(c=t[e],b&&h[c]&&h[c].group!=a&&(a=h[c].group,t[s]=a,r._tempSelected[s]=ui([a]),r.setArrayVal(t,!1,!1,!0,ri)))},onItemTap:function(n){var t;if(n.index==e&&(ii[n.value]=h[n.value].text,v&&!p&&n.selected))return!1;if(n.index==s&&v){if(n.selected)return!1;(t=r.getArrayVal(!0))[s]=n.value;pi(t)}},onClose:function(){ut&&f.data.remoteFilter&&k&&r.refresh()},onDestroy:function(){r._$input&&r._$input.remove();o.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};o("select",l);var ul=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,ns=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,ci=/^\d{1,2}(\/\d{1,2})?$/,vt=/^w\d$/i,eu={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(n){return n.getFullYear()},getMonth:function(n){return n.getMonth()},getDay:function(n){return n.getDate()},getDate:kt,getMaxDayOfMonth:function(n,t){return 32-new Date(n,t,32,12).getDate()},getWeekNumber:function(n){(n=new Date(n)).setHours(0,0,0);n.setDate(n.getDate()+4-(n.getDay()||7));var t=new Date(n.getFullYear(),0,1);return Math.ceil(((n-t)/864e5+1)/7)}};tr.datetime={formatDate:c,parseDate:si};ts={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"};h.date=ou;h.time=ou;h.datetime=ou;o("date",l);o("time",l);o("datetime",l);rs={invalid:[],showInput:!0,inputClass:"",itemSelector:"li"};h.image=function(t){return t.settings.enhance&&(t._processMarkup=function(t){var i=t.attr("data-icon");return t.children().each(function(t,i){(i=n(i)).is("img")?n('<div class="mbsc-img-c"><\/div>').insertAfter(i).append(i.addClass("mbsc-img")):i.is("p")&&i.addClass("mbsc-img-txt")}),i&&t.prepend('<div class="mbsc-ic mbsc-ic-'+i+'"><\/div'),t.html('<div class="mbsc-img-w">'+t.html()+"<\/div>"),t.html()}),is.call(this,t)};o("image",l);h.treelist=is;o("treelist",l);us={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",fromText:"Start",toText:"End",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};fs={};h.calendar=function(i){function l(n){var t,i,f,o=null;if(u={},n&&n.length)for(i=0;i<n.length;i++)t=e(n[i],s,r,r.isoParts),o=o||t,u[kt((f=t).getFullYear(),f.getMonth(),f.getDate())]=t;return o}function a(){i.redraw()}var o,v,s,y,p,k=t({},i.settings),r=t(i.settings,fs,k),w="mbsc-selected "+(r.selectedClass||""),h=r.defaultValue,f="multiple"==r.select||1<r.select||"week"==r.selectType,b=d(r.select)?r.select:1/0,u={};return o=pf.call(this,i),y=void 0===r.firstSelectDay?r.firstDay:r.firstSelectDay,s=i._format,f&&l(h),i._multiple=f,i._getDayProps=function(n){return{selected:f?void 0!==u[n]:void 0}},i._selectDay=function(t,e,o,s){var c,l,h,p;if(r.setOnDayTap&&"multiple"!=r.select&&"inline"!=r.display)return i.setDate(o),void i.select();if(f)if("week"==r.selectType){for(h=e.getDay()-y,h=h<0?7+h:h,"multiple"!=r.select&&(u={}),c=0;c<7;c++)l=kt(e.getFullYear(),e.getMonth(),e.getDate()-h+c),s?delete u[l]:gr(u).length/7<b&&(u[l]=l);a()}else p=n('.mbsc-cal-day[data-full="'+t.attr("data-full")+'"]',v),s?(p.removeClass(w).removeAttr("aria-selected"),delete u[e]):gr(u).length<b&&(p.addClass(w).attr("aria-selected","true"),u[e]=e);i.__selectDay(t,e,o)},i.setVal=function(n,t,r,u,e){f&&(n=l(n));i._setVal(n,t,r,u,e);f&&a()},i.getVal=function(n){var t,e=[];if(f){for(t in u)e.push(hi(u[t],r,s));return e}return hi(i.getDate(n),r,s)},t({},o,{highlight:!f,outerMonthChange:!f,parseValue:function(n){return f&&n&&"string"==typeof n&&(n=l(n.split(","))),f&&h&&h.length&&(r.defaultValue=h[0]),o.parseValue.call(this,n)},formatValue:function(n){var t,e=[];if(f){for(t in u)e.push(c(s,u[t],r));return e.join(", ")}return o.formatValue.call(this,n,i)},onClear:function(){f&&(u={},a())},onBeforeShow:function(){void 0!==r.setOnDayTap||r.buttons&&r.buttons.length||1!=r.controls.length||(r.setOnDayTap=!0);r.setOnDayTap&&"inline"!=r.display&&(r.outerMonthChange=!1);r.counter&&f&&(r.headerText=function(){var t=0,i="week"==r.selectType?7:1;return n.each(u,function(){t++}),(1<(t=Math.round(t/i))&&r.selectedPluralText||r.selectedText).replace(/{count}/,t)})},onMarkupReady:function(i){o.onMarkupReady.call(this,i);v=n(i.target);f&&(n(".mbsc-fr-hdr",v).attr("aria-live","off"),p=t({},u))},onCancel:function(){!i.live&&f&&(u=t({},p))}})};o("calendar",l);es={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};h.timespan=function(i){function h(t){var i={};return n(v).each(function(n,r){i[r]=s[r]?Math.floor(t/u[r].limit):0;t-=i[r]*u[r].limit}),i}function y(n,t,i){return(n<10&&t?"0":"")+n+'<span class="mbsc-ts-lbl">'+i+"<\/span>"}function p(t){var i=0;return n.each(f,function(n,r){isNaN(+t[0])||(i+=u[r.v].limit*t[n])}),i}var o,w,b,c,l,tt=t({},i.settings),r=t(i.settings,es,tt),k=r.wheelOrder,e=r.useShortLabels?r.labelsShort:r.labels,v=["years","months","days","hours","minutes","seconds"],u={years:{ord:0,index:6,until:10,limit:31536e6,label:e[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:e[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:e[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:e[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:e[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:e[5],re:"s",wheel:{}}},f=[],g=r.steps||[],s={},a="seconds",it=r.defaultValue||Math.max(r.min,Math.min(0,r.max)),nt=[[]];return n(v).each(function(n,t){-1<(w=k.search(new RegExp(u[t].re,"i")))&&(f.push({o:w,v:t}),u[t].index>u[a].index&&(a=t))}),f.sort(function(n,t){return n.o>t.o?1:-1}),n.each(f,function(n,t){s[t.v]=n+1;nt[0].push(u[t.v].wheel)}),c=h(r.min),l=h(r.max),n.each(f,function(n,t){!function(n){var f=!1,r=g[s[n]-1]||1,i=u[n],e=i.label,t=i.wheel;if(t.data=[],t.label=i.label,k.match(new RegExp(i.re+i.re,"i"))&&(f=!0),n==a)t.min=c[n],t.max=l[n],t.data=function(n){return{value:n*r,display:y(n*r,f,e)}},t.getIndex=function(n){return Math.round(n/r)};else for(o=0;o<=i.until;o+=r)t.data.push({value:o,display:y(o,f,e)})}(t.v)}),i.getVal=function(n,t){return t?i._getVal(n):i._hasValue||n?p(i.getArrayVal(n)):null},{minWidth:100,showLabel:!0,wheels:nt,compClass:"mbsc-ts mbsc-sc",parseValue:function(t){var e,i=[];return d(t)||!t?(b=h(t||it),n.each(f,function(n,t){i.push(b[t.v])})):n.each(f,function(n,f){e=new RegExp("(\\d+)\\s?("+r.labels[u[f.v].ord]+"|"+r.labelsShort[u[f.v].ord]+")","gi").exec(t);i.push(e?e[1]:0)}),n(i).each(function(n,t){var u,r;i[n]=(u=t,r=g[n]||1,Math.floor(u/r)*r)}),i},formatValue:function(t){var i="";return n.each(f,function(n,r){i+=+t[n]?t[n]+" "+u[r.v].label+" ":""}),i?i.replace(/\s+$/g,""):0},validate:function(t){var o,r,f,e,y=t.values,d=t.direction,w=[],b=!0,k=!0;return n(v).each(function(t,v){if(void 0!==s[v]){if(f=s[v]-1,w[f]=[],e={},v!=a){if(b)for(r=l[v]+1;r<=u[v].until;r++)e[r]=!0;if(k)for(r=0;r<c[v];r++)e[r]=!0}y[f]=i.getValidValue(f,y[f],d,e);o=h(p(y));b=b&&o[v]==l[v];k=k&&o[v]==c[v];n.each(e,function(n){w[f].push(n)})}}),{disabled:w}}}};o("timespan",l);os={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide",mode:"countdown"};h.timer=function(i){function ct(n){return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())}function lt(n,t,i){return(t||"")+(n<10?"0":"")+n+'<span class="mbsc-timer-lbl">'+i+"<\/span>"}function p(t){var i,r=[],u=function(t){var i={};if(ht&&o[l].index>o.days.index){var e,f,v,a,y=new Date,r=s?y:c,u=s?c:y;for(u=ct(u),r=ct(r),i.years=r.getFullYear()-u.getFullYear(),i.months=r.getMonth()-u.getMonth(),i.days=r.getDate()-u.getDate(),i.hours=r.getHours()-u.getHours(),i.minutes=r.getMinutes()-u.getMinutes(),i.seconds=r.getSeconds()-u.getSeconds(),i.fract=(r.getMilliseconds()-u.getMilliseconds())/10,e=h.length;0<e;e--)f=h[e-1],v=o[f],a=h[n.inArray(f,h)-1],o[a]&&i[f]<0&&(i[a]--,i[f]+="months"==a?32-new Date(r.getFullYear(),r.getMonth(),32).getDate():v.until+1);"months"==l&&(i.months+=12*i.years,delete i.years)}else n(h).each(function(n,r){o[r].index<=o[l].index&&(i[r]=Math.floor(t/o[r].limit),t-=i[r]*o[r].limit)});return i}(t);return n(h).each(function(n,t){d[t]&&(i=Math.max(Math.round(rt/o[t].limit),1),r.push(Math.round(u[t]/i)*i))}),r}function ft(n){ht?(f=c-new Date,s=f<0&&(f*=-1,!0),tt=!(u=0)):(void 0!==c?(tt=!1,f=1e3*c,s="countdown"!=r.mode):(f=0,s="countdown"!=r.mode,tt=s),n&&(u=0))}function et(){a?(n(".mbsc-fr-w",e).addClass("mbsc-timer-running mbsc-timer-locked"),n(".mbsc-timer-btn-toggle-c > div",e).text(r.stopText),i.buttons.start.icon&&n(".mbsc-timer-btn-toggle-c > div",e).removeClass("mbsc-ic-"+i.buttons.start.icon),i.buttons.stop.icon&&n(".mbsc-timer-btn-toggle-c > div",e).addClass("mbsc-ic-"+i.buttons.stop.icon),"stopwatch"==r.mode&&(n(".mbsc-timer-btn-resetlap-c > div",e).text(r.lapText),i.buttons.reset.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).removeClass("mbsc-ic-"+i.buttons.reset.icon),i.buttons.lap.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).addClass("mbsc-ic-"+i.buttons.lap.icon))):(n(".mbsc-fr-w",e).removeClass("mbsc-timer-running"),n(".mbsc-timer-btn-toggle-c > div",e).text(r.startText),i.buttons.start.icon&&n(".mbsc-timer-btn-toggle-c > div",e).addClass("mbsc-ic-"+i.buttons.start.icon),i.buttons.stop.icon&&n(".mbsc-timer-btn-toggle-c > div",e).removeClass("mbsc-ic-"+i.buttons.stop.icon),"stopwatch"==r.mode&&(n(".mbsc-timer-btn-resetlap-c > div",e).text(r.resetText),i.buttons.reset.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).addClass("mbsc-ic-"+i.buttons.reset.icon),i.buttons.lap.icon&&n(".mbsc-timer-btn-resetlap-c > div",e).removeClass("mbsc-ic-"+i.buttons.lap.icon)))}var g,it,w,b,k,nt,f,u,s,e,at,pt=t({},i.settings),r=t(i.settings,os,pt),v=r.useShortLabels?r.labelsShort:r.labels,vt=["resetlap","toggle"],h=["years","months","days","hours","minutes","seconds","fract"],o={years:{index:6,until:10,limit:31536e6,label:v[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:v[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:v[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:v[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:v[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:v[5],wheel:{}},fract:{index:0,until:99,limit:10,label:v[6],prefix:".",wheel:{}}},d={},ot=[],st=0,a=!1,y=!0,tt=!1,rt=Math.max(10,1e3*r.step),l=r.maxWheel,ut="stopwatch"==r.mode||ht,c=r.targetTime,ht=c&&void 0!==c.getTime,yt=[[]];return i.start=function(){if(y&&i.reset(),!a){if(ft(),!tt&&f<=u)return;y=!(a=!0);k=new Date;b=u;r.readonly=!0;i.setVal(p(s?u:f-u),!0,!0,!1,100);it=setInterval(function(){u=new Date-k+b;i.setVal(p(s?u:f-u),!0,!0,!1,Math.min(100,w-10));!tt&&f<=u+w&&(clearInterval(it),setTimeout(function(){i.stop();u=f;i.setVal(p(s?u:0),!0,!0,!1,100);i.trigger("onFinish",{time:f});y=!0},f-u))},w);et();i.trigger("onStart")}},i.stop=function(){a&&(a=!1,clearInterval(it),u=new Date-k+b,et(),i.trigger("onStop",{ellapsed:u}))},i.toggle=function(){a?i.stop():i.start()},i.reset=function(){i.stop();ot=[];st=u=0;i.setVal(p(s?0:f),!0,!0,!1,1e3);i.settings.readonly=ut;y=!0;ut||n(".mbsc-fr-w",e).removeClass("mbsc-timer-locked");i.trigger("onReset")},i.lap=function(){a&&(nt=new Date-k+b,at=nt-st,st=nt,ot.push(nt),i.trigger("onLap",{ellapsed:nt,lap:at,laps:ot}))},i.resetlap=function(){a&&"stopwatch"==r.mode?i.lap():i.reset()},i.getTime=function(){return f},i.setTime=function(n){c=n/1e3;f=n},i.getEllapsedTime=function(){return y?0:a?new Date-k+b:u},i.setEllapsedTime=function(n,t){y||(b=u=n,k=new Date,i.setVal(p(s?u:f-u),!0,t,!1,1e3))},ft(!0),l||f||(l="minutes"),"inline"!==r.display&&vt.unshift("hide"),l||n(h).each(function(n,t){if(!l&&f>=o[t].limit)return l=t,!1}),n(h).each(function(t,i){!function(t){var u=1,i=o[t],r=i.wheel,f=i.prefix,s=i.until,e=o[h[n.inArray(t,h)-1]];if(i.index<=o[l].index&&(!e||e.limit>rt))if(d[t]||yt[0].push(r),d[t]=1,r.data=[],r.label=i.label||"",r.cssClass="mbsc-timer-whl-"+t,rt>=i.limit&&(u=Math.max(Math.round(rt/i.limit),1),w=u*i.limit),t==l)r.min=0,r.data=function(n){return{value:n,display:lt(n,f,i.label)}},r.getIndex=function(n){return n};else for(g=0;g<=s;g+=u)r.data.push({value:g,display:lt(g,f,i.label)})}(i)}),w=Math.max(97,w),r.autostart&&setTimeout(function(){i.start()},0),i.handlers.toggle=i.toggle,i.handlers.start=i.start,i.handlers.stop=i.stop,i.handlers.resetlap=i.resetlap,i.handlers.reset=i.reset,i.handlers.lap=i.lap,i.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:r.startText,icon:r.startIcon,handler:"toggle"},i.buttons.start={text:r.startText,icon:r.startIcon,handler:"start"},i.buttons.stop={text:r.stopText,icon:r.stopIcon,handler:"stop"},i.buttons.reset={text:r.resetText,icon:r.resetIcon,handler:"reset"},i.buttons.lap={text:r.lapText,icon:r.lapIcon,handler:"lap"},i.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:r.resetText,icon:r.resetIcon,handler:"resetlap"},i.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:r.hideText,icon:r.closeIcon,handler:"cancel"},{minWidth:100,wheels:yt,headerText:!1,readonly:ut,buttons:vt,compClass:"mbsc-timer mbsc-sc",parseValue:function(){return p(s?0:f)},formatValue:function(t){var r="",i=0;return n(h).each(function(n,u){"fract"!=u&&d[u]&&(r+=t[i]+("seconds"==u&&d.fract?"."+t[i+1]:"")+" "+v[n]+" ",i++)}),r},validate:function(t){var r=t.values,u=t.index,i=0;y&&void 0!==u&&(c=0,n(h).each(function(n,t){d[t]&&(c+=o[t].limit*r[i],i++)}),c/=1e3,ft(!0))},onBeforeShow:function(){r.showLabel=!0},onMarkupReady:function(t){e=n(t.target);et();ut&&n(".mbsc-fr-w",e).addClass("mbsc-timer-locked")},onPosition:function(t){n(".mbsc-fr-w",t.target).css("min-width",0).css("min-width",n(".mbsc-fr-btn-cont",t.target)[0].offsetWidth)},onDestroy:function(){clearInterval(it)}}};o("timer",l);var su,hu="mbsc-input-wrap",ss=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],fl={tap:bi};li=function(){function i(r,f){var v=this;ft(this,i);var e=t({},fl,u.settings,f),o=n(r),h=o.parent(),s=h.hasClass("mbsc-input-wrap")?h.parent():h,c=o.next().hasClass("mbsc-fr")?o.next():null,l=nu(o),y=as(o,"data-input-style",e.inputStyle),a=as(o,"data-label-style",e.labelStyle);r.mbscInst&&r.mbscInst.destroy();c&&c.insertAfter(s);e.theme=so(e);void 0===e.rtl&&e.lang&&u.i18n[e.lang]&&(e.rtl=u.i18n[e.lang].rtl);cs(s,l,y,a,r);o.addClass("mbsc-control");this._handle=this._handle.bind(this);ss.forEach(function(n){o.on(n,v._handle)});this.settings=e;this._type=l;this._elm=r;this._$elm=o;this._$parent=s;this._$frame=c;this._ripple=ls(e.theme);this._isFloating="floating"==a||s.hasClass("mbsc-label-floating");this.cssClass=wf(e);this.getClassElm().addClass(this.cssClass);r.mbscInst=this}return et(i,[{key:"getClassElm",value:function(){return this._$parent}},{key:"destroy",value:function(){var n=this;this._$elm.removeClass("mbsc-control");this.getClassElm().removeClass(this.cssClass);ss.forEach(function(t){n._$elm.off(t,n._handle)});delete this._elm.mbscInst}},{key:"option",value:function(n){t(this.settings,n);var i=this.getClassElm();this.cssClass&&i.removeClass(this.cssClass);this.cssClass=wf(this.settings);i.addClass(this.cssClass);this._ripple=ls(this.settings.theme)}},{key:"_handle",value:function(n){switch(n.type){case"touchstart":case"mousedown":this._onStart(n);break;case"touchmove":case"mousemove":this._onMove(n);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(n)}}},{key:"_addRipple",value:function(n){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,n)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(n){var t=this._elm;bt(n,t)&&(this._startX=r(n,"X"),this._startY=r(n,"Y"),su&&su.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,(su=this._$elm).addClass("mbsc-active"),this._addRipple(n)));"touchstart"==n.type&&this._$elm.closest(".mbsc-no-touch").removeClass("mbsc-no-touch")}},{key:"_onMove",value:function(n){(this._isActive&&9<Math.abs(r(n,"X")-this._startX)||9<Math.abs(r(n,"Y")-this._startY))&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(n){var t=this,i=this._elm,r=this._type;this._isActive&&this.settings.tap&&"touchend"==n.type&&!i.readOnly&&ef(i,r,n);this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active");t._removeRipple()},100);this._isActive=!1;su=null}}]),i}();u.themes.form.mobiscroll={};sr.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}};b("[mbsc-progress]",a.Progress=sr);ki.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}};b("[mbsc-slider]",a.Slider=ki);bf.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:t({},ut.prototype._defaults,{headerText:!1,validate:i,parseValue:i,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal",compClass:"mbsc-color"})};a.Color=bf;u.themes.color=u.themes.frame;o("color",bf,!(tr.color={hsv2hex:ds,hsv2rgb:ps,rgb2hsv:ws,rgb2hex:cu,rgb2hsl:bs,hex2rgb:lu,hex2hsv:gs,hex2hsl:ks}));nh={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0};h.range=function(i){function wt(n,t){n&&(n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()))}function w(n,t){var u=i._order,r=new Date(n);return void 0===u.h&&r.setHours(t?23:0),void 0===u.i&&r.setMinutes(t?59:0),void 0===u.s&&r.setSeconds(t?59:0),r.setMilliseconds(t?999:0),r}function rt(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)}function kt(n){ni?(u-f>r.maxRange-1&&(n?f=new Date(Math.max(g,u-r.maxRange+1)):u=new Date(Math.min(d,+f+r.maxRange-1))),u-f<r.minRange-1&&(n?f=new Date(Math.max(g,u-r.minRange+1)):u=new Date(Math.min(d,+f+r.minRange-1)))):(Math.ceil((u-f)/et)>pt&&(n?f=w(Math.max(g,rt(u,1-pt)),!1):u=w(Math.min(d,rt(f,pt-1)),!0)),Math.ceil((u-f)/et)<yt&&(n?f=w(Math.max(g,rt(u,1-yt)),!1):u=w(Math.min(d,rt(f,yt-1)),!0)))}function ht(n,t){var i=!0;return n&&f&&u&&(kt(o),kt(!o)),f&&u||(i=!1),t&&dt(),i}function ct(){at&&h&&(n(".mbsc-range-btn",h).removeClass(ot).removeAttr("aria-checked"),n(".mbsc-range-btn",h).eq(o).addClass(ot).attr("aria-checked","true"))}function dt(){var t,v,e,y,l,p=0,w=a||!o?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",b=a||o?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(i.startVal=f?c(s,f,r):"",i.endVal=u?c(s,u,r):"",h&&(n(".mbsc-range-btn-v-start",h).html(i.startVal||"&nbsp;"),n(".mbsc-range-btn-v-end",h).html(i.endVal||"&nbsp;"),t=f?new Date(f):null,e=u?new Date(u):null,!t&&e&&(t=new Date(e)),!e&&t&&(e=new Date(t)),l=o?e:t,n(".mbsc-cal-day-picker .mbsc-cal-day-hl",h).removeClass(st),n(".mbsc-cal-day-picker .mbsc-selected",h).removeClass("mbsc-cal-sel-start mbsc-cal-sel-end "+ot).removeAttr("aria-selected"),t&&e))for(v=t.setHours(0,0,0,0),y=e.setHours(0,0,0,0);t<=e&&p<126;)n('.mbsc-cal-day[data-full="'+l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate()+'"]',h).addClass(ot+" "+(l.getTime()===v?w:"")+(l.getTime()===y?b:"")).attr("aria-selected","true"),l.setDate(l.getDate()+(o?-1:1)),l.setHours(0,0,0,0),p++}function ut(n,t){return{h:n?n.getHours():t?23:0,i:n?n.getMinutes():t?59:0,s:n?n.getSeconds():t?59:0}}function gt(){f&&(p=!0,i.setDate(f,!1,0,!0),f=i.getDate(!0));u&&(p=!0,i.setDate(u,!1,0,!0),u=i.getDate(!0))}var k,h,b,s,ni,p,d,g,nt,f,tt,u,it,lt,at,v=i._startDate,y=i._endDate,o=0,ft=new Date,ii=t({},i.settings),r=t(i.settings,nh,ii),vt=r.anchor,a=r.rangeTap,et=864e5,yt=Math.max(1,Math.ceil(r.minRange/et)),pt=Math.max(1,Math.ceil(r.maxRange/et)),ti="mbsc-disabled "+(r.disabledClass||""),ot="mbsc-selected "+(r.selectedClass||""),st="mbsc-cal-day-hl",l=null===r.defaultValue?[]:r.defaultValue||[new Date(ft.setHours(0,0,0,0)),new Date(ft.getFullYear(),ft.getMonth(),ft.getDate()+6,23,59,59,999)];return a&&(r.tabs=!0),k=pf.call(this,i),s=i._format,ni=/time/i.test(r.controls.join(",")),lt="time"===r.controls.join(""),at=r.showSelector,d=r.max?w(e(r.max,s,r),!0):1/0,g=r.min?w(e(r.min,s,r),!1):-1/0,l[0]=e(l[0],s,r,r.isoParts),l[1]=e(l[1],s,r,r.isoParts),r.startInput&&i.attachShow(n(r.startInput),function(){o=0;r.anchor=vt||n(r.startInput)}),r.endInput&&i.attachShow(n(r.endInput),function(){o=1;r.anchor=vt||n(r.endInput)}),i._getDayProps=function(n,t){var i=f?new Date(f.getFullYear(),f.getMonth(),f.getDate()):null,r=u?new Date(u.getFullYear(),u.getMonth(),u.getDate()):null;return{selected:i&&r&&i<=n&&n<=u,cssClass:t.cssClass+" "+((a||!o)&&i&&i.getTime()===n.getTime()||(a||o)&&r&&r.getTime()===n.getTime()?st:"")+(i&&i.getTime()===n.getTime()?" mbsc-cal-sel-start":"")+(r&&r.getTime()===n.getTime()?" mbsc-cal-sel-end":"")}},i.setVal=function(n,t,h,l,a){var p,w=n||[];f=e(w[0],s,r,r.isoParts);u=e(w[1],s,r,r.isoParts);gt();i.startVal=f?c(s,f,r):"";i.endVal=u?c(s,u,r):"";p=k.parseValue(o?u:f,i);l||(i._startDate=v=f,i._endDate=y=u);nt=!0;i._setVal(p,t,h,l,a)},i.getVal=function(n){return n?[hi(f,r,s),hi(u,r,s)]:i._hasValue?[hi(v,r,s),hi(y,r,s)]:null},i.setActiveDate=function(t){var r;o="start"==t?0:1;r="start"==t?f:u;i.isVisible()&&(ct(),a||(n(".mbsc-cal-table .mbsc-cal-day-hl",h).removeClass(st),r&&n('.mbsc-cal-day[data-full="'+r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+'"]',h).addClass(st)),r&&(p=!0,i.setDate(r,!1,1e3,!0)))},i.getValue=i.getVal,t({},k,{highlight:!1,outerMonthChange:!1,formatValue:function(){return i.startVal+(r.endInput?"":i.endVal?" - "+i.endVal:"")},parseValue:function(t){var u=t?t.split(" - "):[],f=r.startInput?n(r.startInput).val():u[0],e=r.endInput?n(r.endInput).val():u[1];return r.defaultValue=l[1],y=e?si(s,e,r):l[1],r.defaultValue=l[0],v=f?si(s,f,r):l[2],r.defaultValue=l[o],i.startVal=v?c(s,v,r):"",i.endVal=y?c(s,y,r):"",i._startDate=v,i._endDate=y,k.parseValue(o?y:v,i)},onFill:function(t){var e;e=t.change;i._startDate=v=f;i._endDate=y=u;r.startInput&&(n(r.startInput).val(i.startVal),e&&n(r.startInput).trigger("change"));r.endInput&&(n(r.endInput).val(i.endVal),e&&n(r.endInput).trigger("change"))},onBeforeClose:function(n){if("set"===n.button&&!ht(!0,!0))return i.setActiveDate(o?"start":"end"),!1},onHide:function(){k.onHide.call(i);o=0;h=null;r.anchor=vt},onClear:function(){a&&(o=0)},onBeforeShow:function(){f=v||l[0];u=y||l[1];tt=ut(f,0);it=ut(u,1);r.counter&&(r.headerText=function(){var n=f&&u?Math.max(1,Math.round((new Date(u).setHours(0,0,0,0)-new Date(f).setHours(0,0,0,0))/864e5)+1):0;return(1<n&&r.selectedPluralText||r.selectedText).replace(/{count}/,n)});nt=!0},onMarkupReady:function(t){var e;gt();(o&&u||!o&&f)&&(p=!0,i.setDate(o?u:f,!1,0,!0));dt();k.onMarkupReady.call(this,t);(h=n(t.target)).addClass("mbsc-range");at&&(e='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" data-select="start" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+r.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(i.startVal||"&nbsp;")+'<\/div><\/div><\/div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" data-select="end" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+r.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(i.endVal||"&nbsp;")+"<\/div><\/div><\/div><\/div>",r.headerText?n(".mbsc-fr-hdr",h).after(e):n(".mbsc-fr-w",h).prepend(e),ct());n(".mbsc-range-btn",h).on("touchstart click",function(t){bt(t,this)&&(i._showDayPicker(),i.setActiveDate(n(this).attr("data-select")))})},onDayChange:function(n){n.active=o?"end":"start";b=!0},onSetDate:function(t){var e;p||(e=w(t.date,o),nt&&!b||(a&&b&&(1==o&&e<f&&(o=0),o?e.setHours(it.h,it.i,it.s,999):e.setHours(tt.h,tt.i,tt.s,0)),o?(u=new Date(e),it=ut(u)):(f=new Date(e),tt=ut(f)),lt&&r.autoCorrect&&(wt(f,e),wt(u,e)),a&&b&&!o&&(u=null)));lt&&!r.autoCorrect&&u<f&&(u=new Date(u.setDate(u.getDate()+1)));i._isValid=ht(nt||b||r.autoCorrect,!p);t.active=o?"end":"start";!p&&a&&(b&&(o=o?0:1),ct());i.isVisible()&&(i._isValid?n(".mbsc-fr-btn-s .mbsc-fr-btn",i._markup).removeClass(ti):n(".mbsc-fr-btn-s .mbsc-fr-btn",i._markup).addClass(ti));p=nt=b=!1},onTabChange:function(n){"calendar"!=n.tab&&i.setDate(o?u:f,!1,1e3,!0);ht(!0,!0)}})};o("range",l);o("scroller",l,!1);var ai,hr="mbsc-selected",di="mbsc-lv-item-active",ol="ios"==y&&7<st,au=1,ih="transparent";th.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,tap:bi,swipe:!0,quickSwipe:!0,animateAddRemove:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,actionable:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"><\/div><div class="mbsc-lv-handle-bar mbsc-lv-handle"><\/div><div class="mbsc-lv-handle-bar mbsc-lv-handle"><\/div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[],select:"off"}};o("listview",a.ListView=th,!(u.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"}));rh={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(n){return n},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};h.measurement=function(i){function ti(n){return Math.max(h,Math.min(y,e?n<0?Math.ceil(n):Math.floor(n):dt(Math.round(n-wt),d)+wt))}function kt(n){return e?dt((Math.abs(n)-Math.abs(ti(n)))*et-bt,d)+bt:0}function ht(n){var t=ti(n),i=kt(n);return et<=i&&(n<0?t--:t++,i=0),[n<0?"-":"+",t,i]}function ii(n){var t=+n[s],i=e?n[v]/et*(t<0?-1:1):0;return(f&&"-"==n[0]?-1:1)*(t+i)}function dt(n,t){return Math.round(n/t)*t}function tt(n,t,i){return t!==i&&r.convert?r.convert.call(this,n,t,i):n}function gt(n){var t,i;l=tt(r.min,nt,n);a=tt(r.max,nt,n);e?(h=l<0?Math.ceil(l):Math.floor(l),y=a<0?Math.ceil(a):Math.floor(a),ct=kt(l),lt=kt(a)):(h=Math.round(l),y=Math.round(a),y=h+Math.floor((y-h)/d)*d,wt=h%d);t=h;i=y;f&&(i=Math.abs(t)>Math.abs(i)?Math.abs(t):Math.abs(i),t=t<0?0:t);ft.min=t<0?Math.ceil(t/c):Math.floor(t/c);ft.max=i<0?Math.ceil(i/c):Math.floor(i/c)}function ri(n){return ii(n).toFixed(e?pt:0)+(p?" "+st[n[rt]]:"")}var ni,o,it,v,s,rt,l,a,h,y,ct,lt,at,u,ui=t({},i.settings),r=t(i.settings,rh,ui),vt={},ut=[[]],k={},ft={},ot={},yt=[],f=r.sign,p=r.units&&r.units.length,nt=p?r.defaultUnit||r.units[0]:"",st=[],e=r.step<1,c=1<r.step?r.step:1,pt=e?Math.max(r.scale,(r.step+"").split(".")[1].length):1,et=Math.pow(10,pt),d=Math.round(e?r.step*et:r.step),wt=0,bt=0,b=0;if(i.setVal=function(t,r,u,f,e){i._setVal(n.isArray(t)?ri(t):t,r,u,f,e)},r.units)for(u=0;u<r.units.length;++u)at=r.units[u],st.push(r.unitNames&&r.unitNames[at]||at);if(f)if(f=!1,p)for(u=0;u<r.units.length;u++)tt(r.min,nt,r.units[u])<0&&(f=!0);else f=r.min<0;if(f&&(ut[0].push({data:["-","+"],label:r.signText}),b++),ft={label:r.wholeText,data:function(n){return h%c+n*c},getIndex:function(n){return Math.round((n-h%c)/c)}},ut[0].push(ft),s=b++,gt(nt),e){for(ut[0].push(ot),ot.data=[],ot.label=r.fractionText,u=bt;u<et;u+=d)yt.push(u),ot.data.push({value:u,display:"."+g(u,pt)});v=b++;ni=Math.ceil(100/d);r.invalid&&r.invalid.length&&(n.each(r.invalid,function(n,t){var i=0<t?Math.floor(t):Math.ceil(t);0===i&&(i=t<=0?-.001:.001);k[i]=(k[i]||0)+1;0===t&&(k[i=.001]=(k[i]||0)+1)}),n.each(k,function(n,t){t<ni?delete k[n]:k[n]=n}))}if(p){for(vt={data:[],label:r.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},u=0;u<r.units.length;u++)vt.data.push({value:u,display:st[u]});ut[0].push(vt)}return rt=b,{wheels:ut,minWidth:f&&e?70:80,showLabel:!1,formatValue:ri,compClass:"mbsc-msr mbsc-sc",parseValue:function(t){var i,k=((("number"==typeof t?t+"":t)||r.defaultValue)+"").split(" "),c=+k[0],b=[],u="";return p&&(u=-1==(u=-1==(u=n.inArray(k[1],st))?n.inArray(nt,r.units):u)?0:u),gt(it=p?r.units[u]:""),(i=ht(c=w(c=isNaN(c)?0:c,l,a)))[1]=w(i[1],h,y),o=c,f&&(b[0]=i[0],i[1]=Math.abs(i[1])),b[s]=i[1],e&&(b[v]=i[2]),p&&(b[rt]=u),b},onCancel:function(){o=void 0},validate:function(t){var st,g,vt,at,pt,u=t.values,et=t.index,ni=t.direction,wt={},ut=[],bt={},ot=p?r.units[u[rt]]:"";if(f&&0===et&&(o=Math.abs(o)*("-"==u[0]?-1:1)),(et===s||et===v&&e||void 0===o||void 0===et)&&(o=ii(u),it=ot),(p&&et===rt&&it!==ot||void 0===et)&&(gt(ot),o=tt(o,it,ot),it=ot,g=ht(o),void 0!==et&&(bt[s]=ft,i.changeWheel(bt)),f&&(u[0]=g[0])),ut[s]=[],f)for(ut[0]=[],0<l&&(ut[0].push("-"),u[0]="+"),a<0&&(ut[0].push("+"),u[0]="-"),pt=Math.abs("-"==u[0]?h:y),b=pt+c;b<pt+20*c;b+=c)ut[s].push(b),wt[b]=!0;if(o=w(o,l,a),g=ht(o),vt=f?Math.abs(g[1]):g[1],st=f?"-"==u[0]:o<0,u[s]=vt,st&&(g[0]="-"),e&&(u[v]=g[2]),n.each(e?k:r.invalid,function(n,t){if(f&&st){if(!(t<=0))return;t=Math.abs(t)}t=dt(tt(t,nt,ot),e?1:d);wt[t]=!0;ut[s].push(t)}),u[s]=i.getValidValue(s,vt,ni,wt),g[1]=u[s]*(f&&st?-1:1),e){ut[v]=[];var kt=f?u[0]+u[1]:(o<0?"-":"+")+Math.abs(g[1]),ti=(l<0?"-":"+")+Math.abs(h),ri=(a<0?"-":"+")+Math.abs(y);kt===ti&&n(yt).each(function(n,t){(st?ct<t:t<ct)&&ut[v].push(t)});kt===ri&&n(yt).each(function(n,t){(st?t<lt:lt<t)&&ut[v].push(t)});n.each(r.invalid,function(n,t){at=ht(tt(t,nt,ot));(g[0]===at[0]||0===g[1]&&0===at[1]&&0===at[2])&&g[1]===at[1]&&ut[v].push(at[2])})}return{disabled:ut,valid:u}}}};h.number=h.measurement;o("number",l);gi={};kf.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"numpad",_presets:gi,_defaults:t({},ut.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",compClass:"mbsc-np",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:i,parseValue:i,formatValue:function(t,i,r){for(var e=1,h=r.settings,l=h.placeholder,o=h.template,c=t.length,s=o.length,u="",f=0;f<s;f++)"d"==o[s-f-1]?(u=e<=c?t[c-e]+u:l+u,e++):u=o[s-f-1]+u;return n.each(i,function(n,t){u=u.replace("{"+n+"}",t)}),n("<div>"+u+"<\/div>").text()}})};a.Numpad=kf;u.themes.numpad=u.themes.frame;uh={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};gi.decimal=function(i){function e(n,t){for(var r,f=n.slice(0),i=0;f.length;)i=10*i+f.shift();for(r=0;r<u;r++)i/=10;return t?-1*i:i}function s(n){var t=e(n).toFixed(u).split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandsSeparator)+(t[1]?r.decimalSeparator+t[1]:"")}var l=t({},i.settings),r=t(i.settings,uh,l),u=r.scale,f=+r.min.toFixed(u),o=+r.max.toFixed(u),h=f<0,c=new RegExp(r.thousandsSeparator,"g");return i.setVal=function(n,t,r,u){return i._setVal(w(n,f,o),t,r,u)},i.getVal=function(n){var t=i._getVal(n),u=(t+"").replace(c,"").replace(r.decimalSeparator,".");return d(u)?+u:t},{template:(h?"{sign}":"")+r.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(o,Math.abs(f)))+"").length+1).join("d")+(u?"."+Array(u+1).join("d"):"")+r.suffix.replace(/d/g,"\\d"),leftKey:h?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(n){var i,t,e=n||r.defaultValue,f=[];if(e&&(t=(e=(e+"").replace(c,"").replace(r.decimalSeparator,".")).match(/\d+\.?\d*/g)))for(t=(+t[0]).toFixed(u),i=0;i<t.length;i++)"."!=t[i]&&(+t[i]?f.push(+t[i]):f.length&&f.push(0));return n<0&&f.push("sign:-"),f},formatValue:function(n,t){var i=s(n);return(e(n,t&&"-"==t.sign)<0?"-":"")+(r.returnAffix?r.prefix+i+r.suffix:i)},validate:function(t){var u=t.values,l=s(u),h=e(u,t.variables&&"-"==t.variables.sign),c=[];return u.length||r.allowLeadingZero||c.push(0),i.isVisible()&&n(".mbsc-np-dsp",i._markup).html((t.variables.sign||"")+r.prefix+l+r.suffix),{disabled:c,invalid:o<h||h<f||!!r.invalid&&-1!=i._indexOf(r.invalid,h)}}}};gf=["h","m","s"];fh={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};gi.timespan=function(i){function e(t){var r,i="",u=3600;return n(gf).each(function(n,e){r=Math.floor(t/u);t-=r*u;u/=60;(0<r||"s"==e&&!i)&&(i=i+(i?" ":"")+r+f[e])}),i}var o=t({},i.settings),r=t(i.settings,fh,o),f={h:r.hourTextShort.replace(/d/g,"\\d"),m:r.minuteTextShort.replace(/d/g,"\\d"),s:r.secTextShort.replace(/d/g,"\\d")},u='d<span class="mbsc-np-sup mbsc-np-time">'+f.s+"<\/span>";return 9<r.max&&(u="d"+u),99<r.max&&(u='<span class="mbsc-np-ts-m">'+(639<r.max?"d":"")+'d<\/span><span class="mbsc-np-sup mbsc-np-time">'+f.m+"<\/span>"+u),6039<r.max&&(u='<span class="mbsc-np-ts-h">'+(38439<r.max?"d":"")+'d<\/span><span class="mbsc-np-sup mbsc-np-time">'+f.h+"<\/span>"+u),i.setVal=function(n,t,r,u){return d(n)&&(n=e(n)),i._setVal(n,t,r,u)},i.getVal=function(n){return i._hasValue||n?df(i.getArrayVal(n)):null},{template:u,parseValue:function(t){var u,o=t||e(r.defaultValue),i=[];return o&&n(gf).each(function(n,t){(u=new RegExp("(\\d+)"+f[t],"gi").exec(o))?9<(u=+u[1])?(i.push(Math.floor(u/10)),i.push(u%10)):(i.length&&i.push(0),(u||i.length)&&i.push(u)):i.length&&(i.push(0),i.push(0))}),i},formatValue:function(n){return e(df(n))},validate:function(n){var u=n.values,t=df(u.slice(0)),f=[];return u.length||f.push(0),{disabled:f,invalid:t>r.max||t<r.min||!!r.invalid&&-1!=i._indexOf(r.invalid,+t)}}}};eh={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};gi.time=function(i){function p(t,i){for(var u="",r=0;r<t.length;++r)u+=t[r]+(r%2==(t.length%2==1?0:1)&&r!=t.length-1?":":"");return n.each(i,function(n,t){u+=" "+t}),u}var w=t({},i.settings),r=t(i.settings,eh,w),s=r.timeFormat.split(":"),u=r.timeFormat.match(/a/i),a=u?"a"==u[0]?r.amText:r.amText.toUpperCase():"",v=u?"a"==u[0]?r.pmText:r.pmText.toUpperCase():"",y=0,f=r.min?""+r.min.getHours():"",e=r.max?""+r.max.getHours():"",h=r.min?""+(r.min.getMinutes()<10?"0"+r.min.getMinutes():r.min.getMinutes()):"",o=r.max?""+(r.max.getMinutes()<10?"0"+r.max.getMinutes():r.max.getMinutes()):"",c=r.min?""+(r.min.getSeconds()<10?"0"+r.min.getSeconds():r.min.getSeconds()):"",l=r.max?""+(r.max.getSeconds()<10?"0"+r.max.getSeconds():r.max.getSeconds()):"";return r.min&&r.min.setFullYear(2014,7,20),r.max&&r.max.setFullYear(2014,7,20),{placeholder:"-",allowLeadingZero:!0,template:(3==s.length?"dd:dd:dd":2==s.length?"dd:dd":"dd")+(u?'<span class="mbsc-np-sup">{ampm:--}<\/span>':""),leftKey:u?{text:a,variable:"ampm:"+a,value:"00"}:{text:":00",value:"00"},rightKey:u?{text:v,variable:"ampm:"+v,value:"00"}:{text:":30",value:"30"},parseValue:function(n){var t,i,f=n||r.defaultValue,e=[];if(f){if(i=(f+="").match(/\d/g))for(t=0;t<i.length;t++)e.push(+i[t]);u&&e.push("ampm:"+(f.match(new RegExp(r.pmText,"gi"))?v:a))}return e},formatValue:function(n,t){return p(n,t)},validate:function(n){var t=n.values,v=p(t,n.variables),a=3<=t.length?new Date(2014,7,20,""+t[0]+(t.length%2==0?t[1]:""),""+t[t.length%2==0?2:1]+t[t.length%2==0?3:2]):"";return{disabled:function(n){var t,p,w,b,k,tt,a,v,g,nt,i=[],d=2*s.length;if(y=d,n.length||(u&&(i.push(0),i.push(r.leftKey.value)),i.push(r.rightKey.value)),!u&&(d-n.length<2||1!=n[0]&&(2<n[0]||3<n[1])&&d-n.length<=2)&&(i.push("30"),i.push("00")),(u?1<n[0]||2<n[1]:1!=n[0]&&(2<n[0]||3<n[1]))&&n[0]&&(n.unshift(0),y=d-1),n.length==d)for(t=0;t<=9;++t)i.push(t);else if(1==n.length&&u&&1==n[0]||n.length&&n.length%2==0||!u&&2==n[0]&&3<n[1]&&n.length%2==1)for(t=6;t<=9;++t)i.push(t);if(g=void 0!==n[1]?""+n[0]+n[1]:"",nt=+o==+(void 0!==n[3]?""+n[2]+n[3]:""),r.invalid)for(t=0;t<r.invalid.length;++t)if(tt=r.invalid[t].getHours(),a=r.invalid[t].getMinutes(),v=r.invalid[t].getSeconds(),tt==+g){if(2==s.length&&(a<10?0:+(""+a)[0])==+n[2]){i.push(a<10?a:+(""+a)[1]);break}if((v<10?0:+(""+v)[0])==+n[4]){i.push(v<10?v:+(""+v)[1]);break}}if(r.min||r.max){if(k=(w=+e==+g)&&nt,b=(p=+f==+g)&&nt,0===n.length){for(t=u?2:19<f?f[0]:3;t<=(1==f[0]?9:f[0]-1);++t)i.push(t);if(10<=f&&(i.push(0),2==f[0]))for(t=3;t<=9;++t)i.push(t);if(e&&e<10||f&&10<=f)for(t=e&&e<10?+e[0]+1:0;t<(f&&10<=f?f[0]:10);++t)i.push(t)}if(1==n.length){if(0===n[0])for(t=0;t<f[0];++t)i.push(t);if(f&&0!==n[0]&&(u?1==n[0]:2==n[0]))for(t=u?3:4;t<=9;++t)i.push(t);if(n[0]==f[0])for(t=0;t<f[1];++t)i.push(t);if(n[0]==e[0]&&!u)for(t=+e[1]+1;t<=9;++t)i.push(t)}if(2==n.length&&(p||w))for(t=w?+o[0]+1:0;t<(p?+h[0]:10);++t)i.push(t);if(3==n.length&&(w&&n[2]==o[0]||p&&n[2]==h[0]))for(t=w&&n[2]==o[0]?+o[1]+1:0;t<(p&&n[2]==h[0]?+h[1]:10);++t)i.push(t);if(4==n.length&&(b||k))for(t=k?+l[0]+1:0;t<(b?+c[0]:10);++t)i.push(t);if(5==n.length&&(b&&n[4]==c[0]||k&&n[4]==l[0]))for(t=k&&n[4]==l[0]?+l[1]+1:0;t<(b&&n[4]==c[0]?+c[1]:10);++t)i.push(t)}return i}(t),length:y,invalid:(u?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+r.amText+"|"+r.pmText+")$","i").test(v):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(v))||!!r.invalid&&-1!=i._indexOf(r.invalid,a)||!((!r.min||r.min<=a)&&(!r.max||a<=r.max))}}}};oh={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};o("numpad",kf,!(gi.date=function(i){function b(n){return new Date(+(""+n[u]+n[u+1]+n[u+2]+n[u+3]),""+n[f]+n[f+1]-1,+(""+n[e]+n[e+1]))}var u,f,e,l,a=[],k=t({},i.settings),r=t(i.settings,eu,oh,k),o=r.dateOrder,p=r.min?""+(r.getMonth(r.min)+1):0,v=r.max?""+(r.getMonth(r.max)+1):0,w=r.min?""+r.getDay(r.min):0,y=r.max?""+r.getDay(r.max):0,s=r.min?""+r.getYear(r.min):0,h=r.max?""+r.getYear(r.max):0;for(o=(o=(o=o.replace(/y+/gi,"yyyy")).replace(/m+/gi,"mm")).replace(/d+/gi,"dd"),u=o.toUpperCase().indexOf("Y"),f=o.toUpperCase().indexOf("M"),e=o.toUpperCase().indexOf("D"),o="",a.push({val:u,n:"yyyy"},{val:f,n:"mm"},{val:e,n:"dd"}),a.sort(function(n,t){return n.val-t.val}),n.each(a,function(n,t){o+=t.n}),u=o.indexOf("y"),f=o.indexOf("m"),e=o.indexOf("d"),o="",l=0;l<8;++l)o+="d",l+1!=u&&l+1!=f&&l+1!=e||(o+=r.delimiter);return i.getVal=function(n){return i._hasValue||n?b(i.getArrayVal(n)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:o,parseValue:function(n){var t,i=[],f=n||r.defaultValue,u=si(r.dateFormat,f,r);if(f)for(t=0;t<a.length;++t)i=/m/i.test(a[t].n)?i.concat(((r.getMonth(u)<9?"0":"")+(r.getMonth(u)+1)).split("")):/d/i.test(a[t].n)?i.concat(((r.getDay(u)<10?"0":"")+r.getDay(u)).split("")):i.concat((r.getYear(u)+"").split(""));return i},formatValue:function(n){return c(r.dateFormat,b(n),r)},validate:function(n){var o=n.values,t=b(o);return{disabled:function(n){var t,o,d,a,b,tt,i=[],c=void 0!==n[u+3]?""+n[u]+n[u+1]+n[u+2]+n[u+3]:"",l=void 0!==n[f+1]?""+n[f]+n[f+1]:"",k=void 0!==n[e+1]?""+n[e]+n[e+1]:"",it=""+r.getMaxDayOfMonth(c||2012,l-1||0),g=s===c&&+p==+l,nt=h===c&&+v==+l;if(r.invalid)for(t=0;t<r.invalid.length;++t){if(d=r.getYear(r.invalid[t]),a=r.getMonth(r.invalid[t]),b=r.getDay(r.invalid[t]),d==+c&&a+1==+l&&(b<10?0:+(""+b)[0])==+n[e]){i.push(b<10?b:+(""+b)[1]);break}if(a+1==+l&&b==+k&&(""+d).substring(0,3)==""+n[u]+n[u+1]+n[u+2]){i.push((""+d)[3]);break}if(d==+c&&b==+k&&(a<10?0:+(""+(a+1))[0])==+n[f]){i.push(a<10?a:+(""+(a+1))[1]);break}}if("31"!=k||n.length!=f&&n.length!=f+1||(1!=n[f]?i.push(2,4,6,9,11):i.push(1)),"30"==k&&0===n[f]&&n.length<=f+1&&i.push(2),n.length==f){for(t=h===c&&+v<10?1:2;t<=9;++t)i.push(t);s===c&&10<=+p&&i.push(0)}if(n.length==f+1){if(1==n[f]){for(t=h===c?+v[1]+1:3;t<=9;++t)i.push(t);if(s==c)for(t=0;t<+p[1];++t)i.push(t)}if(0===n[f]&&(i.push(0),h===c||s===c))for(t=h===c?+y<+k?+v:+v+1:0;t<=(s===c?p-1:9);++t)i.push(t)}if(n.length==e){for(t=nt?1+(10<+y?+y[0]:0):+it[0]+1;t<=9;++t)i.push(t);if(g)for(t=0;t<(+w<10?0:w[0]);++t)i.push(t)}if(n.length==e+1){if(3<=n[e]||"02"==l)for(t=+it[1]+1;t<=9;++t)i.push(t);if(nt&&+y[0]==n[e])for(t=+y[1]+1;t<=9;++t)i.push(t);if(g&&w[0]==n[e])for(t=0;t<+w[1];++t)i.push(t);if(0===n[e]&&(i.push(0),nt||g))for(t=nt?+y+1:1;t<=(g?w-1:9);++t)i.push(t)}if(void 0!==n[u+2]&&"02"==l&&"29"==k)for(o=+(""+n[u]+n[u+1]+n[u+2]+0);o<=+(""+n[u]+n[u+1]+n[u+2]+9);++o)i.push((tt=o)%4==0&&tt%100!=0||tt%400==0?"":o%10);if(n.length==u){if(r.min)for(t=0;t<+s[0];++t)i.push(t);if(r.max)for(t=+h[0]+1;t<=9;++t)i.push(t);i.push(0)}if(r.min||r.max)for(o=1;o<4;++o)if(n.length==u+o){if(n[u+o-1]==+s[o-1]&&(3!=o||n[u+o-2]==+s[o-2]))for(t=0;t<+s[o]+(3==o&&n[f+1]&&+l<+p?1:0);++t)i.push(t);if(n[u+o-1]==+h[o-1]&&(3!=o||n[u+o-2]==+h[o-2]))for(t=+h[o]+(3==o&&+v<+l?0:1);t<=9;++t)i.push(t)}return i}(o),invalid:!("Invalid Date"!=t&&(!r.min||r.min<=t)&&(!r.max||t<=r.max))||!!r.invalid&&-1!=i._indexOf(r.invalid,t)}}}}));ne=["focus","change","blur","animationstart"];cr=function(){function t(i,r){var u,y;ft(this,t);var p,w,e,a,o,v,s,h,f=(u=ri(this,k(t).call(this,i,r)))._$elm,c=u._$parent,l=c.find(".mbsc-select-input, .mbsc-color-input");return(p=pi(u),w=c,a={},o=(e=f)[0],v=e.attr("data-password-toggle"),s=e.attr("data-icon-show")||"eye",h=e.attr("data-icon-hide")||"eye-blocked",v&&(a.right="password"==o.type?s:h),hs(e,a),v&&of(p,w.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==o.type?(o.type="password",n(this).addClass("mbsc-ic-"+s).removeClass("mbsc-ic-"+h)):(o.type="text",n(this).removeClass("mbsc-ic-"+s).addClass("mbsc-ic-"+h))}),u._checkLabel=u._checkLabel.bind(pi(u)),u._mouseDown=u._mouseDown.bind(pi(u)),u._setText=u._setText.bind(pi(u)),"file"==i.type)&&(y=c.find(".mbsc-file-input"),u._$input=y.length?y:n('<input type="text" class="'+(f.attr("class")||"")+' mbsc-file-input" placeholder="'+(f.attr("placeholder")||"")+'"/>').insertAfter(f),f.on("change",u._setText)),c.addClass("mbsc-input").on("mousedown",u._mouseDown),ne.forEach(function(n){f.on(n,u._checkLabel)}),l.length&&(f.after(l),l.hasClass("mbsc-select-input")&&(u._delm=l[0],u.refresh())),u}return ii(t,li),et(t,[{key:"_setText",value:function(n){for(var i=n.target.files,r=[],t=0;t<i.length;++t)r.push(i[t].name);this._$input.val(r)}},{key:"_checkLabel",value:function(n){if(this._isFloating){var t=this._delm||this._elm;t.value||document.activeElement===t||n&&("focus"==n.type||"animationstart"==n.type&&this._$elm.is("*:-webkit-autofill"))?this._$parent.addClass("mbsc-label-floating-active"):this._$parent.removeClass("mbsc-label-floating-active")}}},{key:"_mouseDown",value:function(n){document.activeElement===this._elm&&n.target!==this._elm&&n.preventDefault()}},{key:"refresh",value:function(){this._checkLabel()}},{key:"destroy",value:function(){var n=this;wi(k(t.prototype),"destroy",this).call(this);this._$parent.off("mousedown",this._mouseDown).removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove();this._$parent.find(".mbsc-input-fill").remove();ne.forEach(function(t){n._$elm.off(t,n._checkLabel)});this._$elm.off("change",this._setText)}}]),t}();b("[mbsc-input]",cr);te=function(){function n(t,i){var u,r,f;return ft(this,n),r=(u=ri(this,k(n).call(this,t,i)))._$elm,f=r.attr("data-icon"),r.addClass("mbsc-btn mbsc-no-touch").find(".mbsc-btn-ic").remove(),f&&(r.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+f+'"><\/span>'),""===r.text()&&r.addClass("mbsc-btn-icon-only")),u._$rippleElm=r,u}return ii(n,li),et(n,[{key:"getClassElm",value:function(){return this._$elm}}]),n}();b("[mbsc-button]",te);ie=function(){function n(t,i){var r;return ft(this,n),(r=ri(this,k(n).call(this,t,i)))._$parent.prepend(r._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),r._$elm.after('<span class="mbsc-checkbox-box"><\/span>'),r}return ii(n,li),n}();b("[mbsc-checkbox]",ie);re=function(){function n(t,i){var r;return ft(this,n),(r=ri(this,k(n).call(this,t,i)))._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),r._$elm.after('<span class="mbsc-radio-box"><span><\/span><\/span>'),r}return ii(n,li),n}();b("[mbsc-radio]",re);ue=function(){function t(i,r){var u;ft(this,t);var e=(u=ri(this,k(t).call(this,i,r)))._$elm,o=u._$parent,s=o.find(".mbsc-select-input"),f=s.length?s:n('<input tabindex="-1" class="mbsc-select-input mbsc-control" readonly>');return u._$input=f,u._delm=f[0],u._setText=u._setText.bind(pi(u)),o.addClass("mbsc-select"+(u._$frame?" mbsc-select-inline":"")),e.after(f),f.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"><\/span>'),e.on("change",u._setText),u._setText(),u}return ii(t,cr),et(t,[{key:"destroy",value:function(){wi(k(t.prototype),"destroy",this).call(this);this._$parent.find(".mbsc-select-ic").remove();this._$elm.off("change",this._setText)}},{key:"_setText",value:function(){var t=this._elm,i=n(t);i.is("select")&&!i.hasClass("mbsc-comp")&&this._$input.val(-1!=t.selectedIndex?t.options[t.selectedIndex].text:"");this.refresh()}}]),t}();b("[mbsc-dropdown]",ue);fe=["change","keydown","input","scroll"];tt&&n(window).on("resize orientationchange",hh);ee=function(){function t(n,i){var r;return ft(this,t),(r=ri(this,k(t).call(this,n,i)))._$parent.addClass("mbsc-textarea"),fe.forEach(function(n){r._$elm.on(n,r._handle)}),lr(n),r}return ii(t,cr),et(t,[{key:"destroy",value:function(){var n=this;wi(k(t.prototype),"destroy",this).call(this);fe.forEach(function(t){n._$elm.off(t,n._handle)})}},{key:"refresh",value:function(){wi(k(t.prototype),"refresh",this).call(this);clearTimeout(this._debounce);lr(this._elm)}},{key:"_handle",value:function(i){switch(wi(k(t.prototype),"_handle",this).call(this,i),i.type){case"change":lr(this._elm);break;case"keydown":case"input":this._onInput(i);break;case"scroll":!function(t){var r=n(t),u,i;r.hasClass("mbsc-textarea-scroll")||(u=t.scrollHeight-t.offsetHeight,i=t.offsetHeight+u,Math.round(i/24)<=(r.attr("rows")||6)&&(t.scrollTop=0,t.style.height=i+"px"))}(this._elm)}}},{key:"_onInput",value:function(){var n=this;clearTimeout(this._debounce);this._debounce=setTimeout(function(){lr(n._elm)},100)}}]),t}();b("[mbsc-textarea]",ee);oe=function(){function t(i,r){var f,o,u,s,e;return ft(this,t),s=(f=ri(this,k(t).call(this,i,r)))._$elm,e=f._$parent,e.hasClass("mbsc-segmented-item-ready")||(o=n('<div class="mbsc-segmented mbsc-no-touch"><\/div>'),e.after(o),e.parent().find('input[name="'+s.attr("name")+'"]').each(function(){var t=n(this);u=t.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready");n('<span class="mbsc-segmented-content">'+(t.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+t.attr("data-icon")+'"><\/span>':"")+"<\/span>").append(u.contents()).appendTo(u);u.prepend(t);o.append(u)})),f._$rippleElm=s.next(),f}return ii(t,li),et(t,[{key:"getClassElm",value:function(){return this._$elm.closest(".mbsc-segmented")}}]),t}();b("[mbsc-segmented]",oe);vu.prototype={_class:"stepper",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{min:0,max:100,step:1}};b("[mbsc-stepper]",a.Stepper=vu);yu.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}};b("[mbsc-switch]",a.Switch=yu);pu.prototype={_class:"progress",_css:"mbsc-progress mbsc-rating",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:1,max:5,step:1,live:!0,round:!0,hover:!0,highlight:!0,returnAffix:!0,empty:"star",filled:"star3"}};b("[mbsc-rating]",a.Rating=pu);ch=1;wu=function(){function t(i,r){var e,f,o,s=this,u,h;ft(this,t);u=n(i);(this.settings=r,this._isOpen=r.isOpen||!1,u.addClass("mbsc-collapsible "+(this._isOpen?"mbsc-collapsible-open":"")),(e=(o=u.hasClass("mbsc-card")?(f=u.find(".mbsc-card-header").eq(0).addClass("mbsc-collapsible-header"),u.find(".mbsc-card-content").eq(0).addClass("mbsc-collapsible-content")):u.hasClass("mbsc-form-group")||u.hasClass("mbsc-form-group-inset")?(f=u.find(".mbsc-form-group-title").eq(0).addClass("mbsc-collapsible-header"),u.find(".mbsc-form-group-content").eq(0).addClass("mbsc-collapsible-content")):(f=u.find(".mbsc-collapsible-header").eq(0),u.find(".mbsc-collapsible-content").eq(0)))[0])&&!e.id&&(e.id="mbsc-collapsible-"+ch++),f.length&&e)&&(h=n('<span class="mbsc-collapsible-icon mbsc-ic mbsc-ic-arrow-down5"><\/span>'),of(this,f,function(){s.collapse()}),f.attr("role","button").attr("aria-expanded",this._isOpen).attr("aria-controls",e.id).attr("tabindex","0").on("mousedown",function(n){n.preventDefault()}).on("keydown",function(n){32!==n.which&&13!=n.keyCode||(n.preventDefault(),s.collapse())}).append(h));(i.mbscInst=this)._$header=f;this._$content=o;this._$elm=u;this._$accordionParent=u.parent("[mbsc-accordion], mbsc-accordion, .mbsc-accordion");this.show=this.show.bind(this);this.hide=this.hide.bind(this);this.toggle=this.toggle.bind(this)}return et(t,[{key:"collapse",value:function(n){var i=this._$elm,t=this._$content;void 0===n&&(n=!this._isOpen);(!n||!this._isOpen)&&(n||this._isOpen)&&t.length&&(n?(cf&&t.on("transitionend",function n(){t.off("transitionend",n).css("height","")}).css("height",t[0].scrollHeight),i.addClass("mbsc-collapsible-open")):(cf&&t.css("height",getComputedStyle(t[0]).height),setTimeout(function(){t.css("height",0);i.removeClass("mbsc-collapsible-open")},50)),n&&this._$accordionParent&&this._$accordionParent.find(".mbsc-collapsible-open").each(function(){this!==i[0]&&this.mbscInst.hide()}),this._isOpen=n,this._$header.attr("aria-expanded",this._isOpen))}},{key:"show",value:function(){this.collapse(!0)}},{key:"hide",value:function(){this.collapse(!1)}},{key:"toggle",value:function(){this.collapse()}},{key:"destroy",value:function(){this._$elm.removeClass("mbsc-collapsible mbsc-collapsible-open");this._$content.removeClass("mbsc-collapsible-content");this._$header.removeClass("mbsc-collapsible-header").find(".mbsc-collapsible-icon").remove()}}]),t}();a.CollapsibleBase=wu;se=0;rt=function(t,i,r){function s(t){n(".mbsc-fr-c",t).hasClass("mbsc-wdg-c")||(n(".mbsc-fr-c",t).addClass("mbsc-wdg-c").append(o.show()),n(".mbsc-w-p",t).length||n(".mbsc-fr-c",t).addClass("mbsc-w-p"))}var u,e,o=n(t),f=this;ut.call(this,t,i,!0);f._generateContent=function(){return""};f._markupReady=function(n){"inline"!=u.display&&s(n)};f._markupInserted=function(n){"inline"==u.display&&s(n);n.trigger("mbsc-enhance",[{theme:u.theme,lang:u.lang}])};f._markupRemove=function(){o.hide();e&&e.parent().length&&e.after(o)};f.__processSettings=function(){u=f.settings;f.buttons.ok={text:u.okText,icon:u.okIcon,handler:"set"};u.buttons=u.buttons||("inline"==u.display?[]:["ok"]);!e&&o.parent().length&&(e=n(document.createComment("popup")),o.before(e));o.hide()};r||f.init()};rt.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_responsive:!0,_class:"popup",_defaults:t({},ut.prototype._defaults,{compClass:"mbsc-wdg",okText:"OK",headerText:!1})};a.Popup=rt;ah=a.Widget=rt;u.themes.popup=u.themes.frame;var bu,sl=tt&&!!window.Promise,dt=[],nr=[];return u.alert=function(n){var t=document.createElement("div");return t.innerHTML=ce(n),ar(hl,t,n)},u.confirm=function(n){var t=document.createElement("div");return t.innerHTML=ce(n),ar(cl,t,n)},u.prompt=function(n){var t=document.createElement("div");return t.innerHTML=ce(n)+'<label class="mbsc-input">'+(n.label?'<span class="mbsc-label">'+n.label+"<\/span>":"")+'<input class="mbsc-control" tabindex="0" type="'+(n.inputType||"text")+'" placeholder="'+(n.placeholder||"")+'" value="'+(n.value||"")+'"><\/label>',ar(ll,t,n)},u.snackbar=function(n){var i=document.createElement("div"),t=n.button;return i.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(n.message||"")+"<\/div>"+(t?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(t.icon?'<span class="mbsc-ic '+(t.text?"mbsc-btn-ic ":"")+"mbsc-ic-"+t.icon+'"><\/span>':"")+(t.text||"")+"<\/button>":"")+"<\/div>",ar(vh,i,n)},u.toast=function(n){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(n.message||"")+"<\/div>",ar(al,t,n)},u.notification={dismiss:function(){bu&&bu.hide()}},yh="ios"==y&&7<st,le.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:bi,stopProp:!0,rtl:!1,enhance:!0}},b("[mbsc-enhance],[mbsc-form]",a.Form=le,!0),du.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},a.Page=du,u.themes.page.mobiscroll={},b("[mbsc-page]",du),o("page",du,!1),o("form",le,!1),o("progress",sr,!1),o("slider",ki,!1),o("stepper",vu,!1),o("switch",yu,!1),o("rating",pu,!1),ph={view:{calendar:{type:"month",popover:!0}},allDayText:"All-day",labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events",noEventsText:"No events"},wh={yearChange:!1,weekDays:"short"},h.eventcalendar=function(i,r){function ti(t,r,f){var l,p,w,s,rt=0,ut=[],v="",b=[];for(f=f||i._prepareObj(h,t,r),l=at(t);l<=r;l.setDate(l.getDate()+1))(s=f[at(l)])&&s.length&&b.push({d:new Date(l),list:ii(s)});if(0<b.length)for(p=0;p<b.length;p++){for(v+='<div><div class="mbsc-lv-gr-title mbsc-event-day" data-full="'+or((s=b[p]).d)+'">'+c(u.dateFormat,s.d,u)+"<\/div>",w=0;w<s.list.length;w++){var o=s.list[w],d=o.start?e(o.start):null,a=o.end?e(o.end):null,et=o.color,ot=vt.test(o.d)||ci.test(o.d),g=d&&a&&!nt(d,a),st=!g||nt(d,s.d),tt=!g||nt(a,s.d),it=o.d?ot?o.d:e(o.d):d,ht=o.allDay||ot||g&&!st&&!tt;ut.push({d:s.d,e:o});v+='<div class="mbsc-lv-item mbsc-lv-item-actionable" data-index="'+rt+'"><div class="mbsc-event-time">'+(ht?u.allDayText:st&&it&&it.getTime?c(u.timeFormat,it):g&&tt?u.toText:"")+(!ht&&tt&&a&&a.getTime?"<br/>"+c(u.timeFormat,a):"")+'<\/div><div class="mbsc-event-color"'+(et?' style="background:'+et+';"':"")+'><\/div><div class="mbsc-event-txt">'+o.text+"<\/div><\/div>";rt++}v+="<\/div>"}else v+='<div class="mbsc-lv-gr-title mbsc-event-empty"><div class="mbsc-empty"><h3>'+u.noEventsText+"<\/h3><\/div><\/div>";ft++;y.html('<div class="mbsc-lv mbsc-lv-v">'+v+"<\/div>").scrollTop(0);setTimeout(function(){ft--},150);i.tap(n(".mbsc-lv-item",y),function(t){var i=ut[n(this).attr("data-index")];k("onEventSelect",{domEvent:t,event:i.e,date:i.d})})}function yi(){if(w){var t=at(w.d);!function(t,r,f){if(t){var o,h,l,s,a='<div class="mbsc-cal-event-list">';o=n('<div class="mbsc-cal-events '+(u.eventBubbleClass||"")+'"><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"><\/div><div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"><\/div><\/div><\/div><\/div>');h=n(".mbsc-cal-events-i",o);l=n(".mbsc-cal-events-sc",o);i.tap(h,function(){s.scrolled||d()});v=new rt(o[0],{display:"bubble",theme:u.theme,lang:u.lang,context:u.context,buttons:[],anchor:f,showOverlay:!1,cssClass:"mbsc-no-padding mbsc-cal-events-popup",onShow:function(){s=new oi(h[0],{scrollbar:n(".mbsc-sc-bar-c",o),stopProp:!1})},onClose:function(n,t){t.destroy();s.destroy()}});ht=f;t=ii(t);n.each(t,function(t,i){var o=i.start?e(i.start):null,f=i.end?e(i.end):null,y=vt.test(i.d)||ci.test(i.d),h=i.d?y?i.d:e(i.d):o,s=o&&f&&!nt(o,f),p=!s||nt(o,r),k=!s||nt(f,r),d=i.allDay||y||s&&!p&&!k,w=i.color,l="",v="",b=n("<div>"+i.text+"<\/div>").text();h.getTime&&(l=c((s?"MM d yy ":"")+u.timeFormat,h));f&&(v=c((s?"MM d yy ":"")+u.timeFormat,f));a+='<div role="button" title="'+b+'" aria-label="'+b+(l?", "+u.fromText+": "+l:"")+(v?", "+u.toText+": "+v:"")+'" class="mbsc-cal-event mbsc-lv-item mbsc-lv-item-actionable"><div class="mbsc-cal-event-color" style="'+(w?"background:"+w+";":"")+'"><\/div><div class="mbsc-cal-event-text"><div class="mbsc-cal-event-time">'+(d?u.allDayText:p&&h.getTime?c(u.timeFormat,h):"")+"<\/div>"+i.text+"<\/div>"+(o&&f&&!i.allDay?'<div class="mbsc-cal-event-dur">'+u.formatDuration(o,f,i)+"<\/div>":"")+"<\/div>"});a+="<\/div>";l.html(a);v.show();k("onEventBubbleShow",{target:ht,eventList:o[0]});i.tap(n(".mbsc-cal-event",l),function(i){s.scrolled||k("onEventSelect",{domEvent:i,event:t[n(this).index()],date:r})});lt=!0}}(w.events||g[t],t,w.cell||n('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+or(t)+'"]',i._markup)[0]);w=null}}function ii(n){return n.slice(0).sort(function(n,t){var i=n.start?e(n.start):null,r=t.start?e(t.start):null,u=n.end?e(n.end):null,f=t.end?e(t.end):null,l=vt.test(n.d)||ci.test(n.d),a=vt.test(t.d)||ci.test(t.d),o=n.d?l?n.d:e(n.d):i,s=t.d?a?t.d:e(t.d):r,h=o.getTime?i&&u&&i.toDateString()!==u.toDateString()?1:n.allDay?2:o.getTime():0,c=s.getTime?r&&f&&r.toDateString()!==f.toDateString()?1:t.allDay?2:s.getTime():0;return h==c?n.text>t.text?1:-1:h-c})}function ki(){var r,u,t;ft||n(".mbsc-event-day",this).each(function(){if(0<=(u=this.offsetTop-ct.scrollTop)&&u<35)return t=n(this).attr("data-full").split("-"),nt(r=kt(t[0],t[1]-1,t[2]),p)||(pt=!0,i.setVal(r)),!1})}function d(){v&&lt&&v.hide();ht=null;lt=!1}function pi(t){0==n(t.target).closest(".mbsc-cal-day").length&&d()}function et(){d();i.redraw()}function wi(n){var t=u.getYear(n),i=u.getMonth(n),h=u.getDay(n),r,e;(s=n,"day"==o)?l=u.getDate(t,i,h+f-1):"week"==o?(e=s.getDay(),r=h+u.firstDay-(0<u.firstDay-e?7:0)-e,s=u.getDate(t,i,r),l=u.getDate(t,i,r+7*f-1)):"month"==o?(s=u.getDate(t,i,1),l=u.getDate(t,i+f,0)):"year"==o&&(s=u.getDate(t,0,1),l=u.getDate(t+f,0,0))}function ri(t,i){if(b&&!pt){var r=n('.mbsc-event-day[data-full="'+or(t)+'"]',y);r.length&&(ft++,kc(ct,r.parent()[0].offsetTop,i,function(){setTimeout(function(){ft--},150)}))}}function ot(n,t){n&&k("onPageChange",{firstDay:s,lastDay:l});t||k("onPageLoading",{firstDay:s,lastDay:l});k("onPageLoaded",{firstDay:s,lastDay:l})}var it,st,y,bi,p,s,l,ht,ct,g,lt,ui,fi,ut,o,f,yt,w,v,pt,ei,wt,bt,si,b,dt,hi,gt,a,tt,li,ni,di=this,gi=t({},i.settings),u=t(i.settings,ph,gi,wh,r),ft=0,ai=0,h=t(!0,[],u.data),vi=!0,k=i.trigger;return u.data=h,n.each(h,function(n,t){void 0===t._id&&(t._id=ai++)}),gt=u.view,a=gt.calendar,tt=gt.eventList,li=u.months,ni=u.weeks,ut=a?("week"==a.type?ni=a.size||1:a.size&&(li=a.size),!1):!(ni=0),tt&&(o=tt.type,f=tt.size||1),yt=a&&a.labels,si=tt&&tt.scrollable,b=gt.eventList,dt=void 0===u.eventBubble?a&&a.popover:u.eventBubble,u.weeks=ni,u.months=li,it=pf.call(this,i),i._onSelectShow=function(){d()},i._onGenMonth=function(n,t){g=i._prepareObj(h,n,t);i._labels=yt?g:null},i._onRefresh=function(n){ei=!0;bt=wt=null;ut&&ot(!1,n)},i._onSetDate=function(n,t){p=n;ut?pt||(wi(n),ot(!0)):t||ui||(b&&"day"==o&&ti(n,n,g),!dt&&!hi||fi||yi(),ri(n));fi=hi=pt=!1},i._getDayProps=function(n){var t=g[n],i={events:t};return u.marked||u.labels||yt||(t?(i.background=t[0]&&t[0].background,i.marked=t,i.markup=u.showEventCount?'<div class="mbsc-cal-txt">'+t.length+" "+(1<t.length?u.eventsText:u.eventText)+"<\/div>":'<div class="mbsc-cal-marks"><div class="mbsc-cal-mark"><\/div><\/div>'):i.markup=u.showEventCount?'<div class="mbsc-cal-txt-ph"><\/div>':""),i},i.addEvent=function(i){var r=[];return i=t(!0,[],n.isArray(i)?i:[i]),n.each(i,function(n,t){void 0===t._id&&(t._id=ai++);h.push(t);r.push(t._id)}),et(),r},i.updateEvent=function(t){n.each(h,function(n,i){if(i._id===t._id)return h.splice(n,1,t),!1});et()},i.removeEvent=function(t){t=n.isArray(t)?t:[t];n.each(t,function(t,i){n.each(h,function(n,t){if(t._id===i)return h.splice(n,1),!1})});et()},i.getEvents=function(n){var r;return n?(n.setHours(0,0,0,0),(r=i._prepareObj(h,n,n))[n]?ii(r[n]):[]):t(!0,[],h)},i.setEvents=function(i){var r=[];return u.data=h=t(!0,[],i),n.each(h,function(n,t){void 0===t._id&&(t._id=ai++);r.push(t._id)}),et(),r},i.navigate=function(n,t,r){w=r?{d:n}:null;i.setVal(n,!0,!0,!1,t?200:0)},t({},it,{multiLabel:yt,headerText:!1,buttons:"inline"!==u.display?["close"]:u.buttons,compClass:"mbsc-ev-cal mbsc-calendar mbsc-dt mbsc-sc",formatDuration:function(n,t){var i=u.labelsShort,s=t-n,f=Math.abs(s)/1e3,e=f/60,o=e/60,r=o/24,h=r/365;return f<45&&Math.round(f)+" "+i[5].toLowerCase()||e<45&&Math.round(e)+" "+i[4].toLowerCase()||o<24&&Math.round(o)+" "+i[3].toLowerCase()||r<30&&Math.round(r)+" "+i[2].toLowerCase()||r<365&&Math.round(r/30)+" "+i[1].toLowerCase()||Math.round(h)+" "+i[0].toLowerCase()},onMarkupReady:function(t,i){st=n(t.target);p=i.getDate(!0);b&&((y=n('<div class="mbsc-lv-cont mbsc-lv-'+u.theme+(u.baseTheme?" mbsc-lv-"+u.baseTheme:"")+(si?" mbsc-event-list-h":"")+' mbsc-event-list"><\/div>').appendTo(n(".mbsc-fr-w",st))).on("scroll",tf(ki)),ct=y[0]);it.onMarkupReady.call(this,t);bi=n(".mbsc-cal-month",st);lt=!1;wi(p);b&&ut&&(ot(),iu(n(".mbsc-cal-btn",st),function(n,t){var i=u.getYear(s),r=u.getMonth(s),e=u.getDay(s);"day"==o?(s=u.getDate(i,r,e+t*f),l=u.getDate(i,r,e+(t+1)*f-1)):"week"==o?(s=u.getDate(i,r,e+t*f*7),l=u.getDate(i,r,e+(t+1)*f*7-1)):"month"==o?(s=u.getDate(i,r+t*f,1),l=u.getDate(i,r+(t+1)*f,0)):"year"==o&&(s=u.getDate(i+t*f,0,1),l=u.getDate(i+(t+1)*f,0,0));ot(!0)},200));n(document).on("click",pi)},onDayChange:function(t){var i=t.target,r=i!==ht;d();r&&(hi=!1!==dt&&n(".mbsc-cal-txt-more",i).length,w={d:t.date,cell:u.outerMonthChange&&n(i).hasClass("mbsc-cal-day-diff")?null:i,events:t.events})},onLabelTap:function(n){n.label&&(k("onEventSelect",{domEvent:n.domEvent,event:n.label,date:n.date}),fi=!0)},onPageChange:function(n){d();ui=!0;i._isSetDate||i.setVal(n.firstDay)},onPageLoaded:function(n){var e,s,h,y,w,r,l,v,k,t=n.firstDay,a=n.lastDay;b&&(ut?wt&&bt&&nt(wt,t)&&nt(bt,a)||(ti(wt=t,bt=a),e=t,s=a,y=(u.dateWheels||u.dateFormat).search(/m/i),w=(u.dateWheels||u.dateFormat).search(/y/i),r=u.getYear(e),l=u.getMonth(e),v=u.getYear(s),k=u.getMonth(s),"day"==o?h=c(u.dateFormat,e,u)+(1<f?" - "+c(u.dateFormat,s,u):""):"week"==o?h=c(u.dateFormat,e,u)+" - "+c(u.dateFormat,s,u):"month"==o?h=1==f?w<y?r+" "+u.monthNames[l]:u.monthNames[l]+" "+r:w<y?r+" "+u.monthNamesShort[l]+" - "+v+" "+u.monthNamesShort[k]:u.monthNamesShort[l]+" "+r+" - "+u.monthNamesShort[k]+" "+v:"year"==o&&(h=r+(1<f?" - "+v:"")),bi.html(h)):(a="month"==o?u.getDate(u.getYear(t),u.getMonth(t)+f,0):"week"==o?u.getDate(u.getYear(t),u.getMonth(t),u.getDay(t)+7*f-1):t=i.getVal(!0),ti(t,a,g)),vi||nt(p,t)||(ri(p,ei),ei=!1));dt&&yi();ui=!1},onPosition:function(n){var f,t,i,r;(it.onPosition.call(this,n),v&&v.position(),b&&si)&&(y.addClass("mbsc-event-list-h"),f="inline"==u.display?di.parentNode:window,t=(i=f,r=getComputedStyle(i),i.innerHeight||i.clientHeight-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom))-n.popup.offsetHeight,ct.style.height=200<t?t+"px":"",y.removeClass("mbsc-event-list-h"),vi&&t&&(ri(p,!0),vi=!1))},onHide:function(){it.onHide.call(this);v&&v.destroy();n(document).off("click",pi)}})},o("eventcalendar",l),bh={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},ae={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,"in":.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032},h.distance=function(n){var i=t({},bh,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*ae[t]/ae[i]}}),h.measurement.call(this,n)},kh={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},ve={N:1,kp:9.80665,lbf:4.448222,pdl:.138255},h.force=function(n){var i=t({},kh,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*ve[t]/ve[i]}}),h.measurement.call(this,n)},dh={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},ye={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74},h.mass=function(n){var i=t({},dh,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*ye[t]/ye[i]}}),h.measurement.call(this,n)},gh={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},pe={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852},h.speed=function(n){var i=t({},gh,n.settings);return t(n.settings,i,{sign:!1,convert:function(n,t,i){return n*pe[t]/pe[i]}}),h.measurement.call(this,n)},nc={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},tc={c2k:function(n){return n+273.15},c2f:function(n){return 9*n/5+32},c2r:function(n){return 9*(n+273.15)/5},k2c:function(n){return n-273.15},k2f:function(n){return 9*n/5-459.67},k2r:function(n){return 9*n/5},f2c:function(n){return 5*(n-32)/9},f2k:function(n){return 5*(n+459.67)/9},f2r:function(n){return n+459.67},r2c:function(n){return 5*(n-491.67)/9},r2k:function(n){return 5*n/9},r2f:function(n){return n-459.67}},h.temperature=function(n){var i=t({},nc,n.settings);return t(n.settings,i,{sign:!0,convert:function(n,t,i){return tc[t+"2"+i](n)}}),h.measurement.call(this,n)},o("measurement",l),o("distance",l),o("force",l),o("mass",l),o("speed",l),o("temperature",l),ic=1,vr.prototype={_class:"scrollview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:{tap:bi,stopProp:!1,context:"body",layout:"liquid"}},a.ScrollView=vr,yr.prototype={_defaults:t({},vr.prototype._defaults)},rc.prototype={_class:"navigation",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:t({},yr.prototype._defaults,{type:"bottom",moreText:"More",moreIcon:"material-more-horiz",menuIcon:"material-menu"})},o("nav",a.Navigation=rc,!1),o("scrollview",vr,!1),we.prototype={_class:"optionlist",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:t({},yr.prototype._defaults,{select:"multiple",variant:"a",display:"inline"})},a.Optionlist=we,u.themes.optionlist=u.themes.navigation,o("optionlist",we,!1),uc="ios"==y&&7<st,be.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"card",_defaults:{tap:bi,stopProp:!0,rtl:!1}},b("[mbsc-card]",a.Card=be,!0),o("card",be,!1),o("popup",rt,!1),o("widget",ah,!1),u.i18n.es={setText:"Aceptar",cancelText:"Cancelar",clearText:"Borrar",selectedText:"{count} seleccionado",selectedPluralText:"{count} seleccionados",dateFormat:"dd/mm/yy",dayNames:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],dayNamesShort:["Do","Lu","Ma","Mi","Ju","Vi","S"],dayNamesMin:["D","L","M","M","J","V","S"],dayText:"Da",hourText:"Horas",minuteText:"Minutos",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthText:"Mes",secText:"Segundos",timeFormat:"HH:ii",yearText:"A&ntilde;o",nowText:"Ahora",pmText:"pm",amText:"am",todayText:"Hoy",firstDay:1,dateText:"Fecha",timeText:"Tiempo",closeText:"Cerrar",allDayText:"Todo el da",noEventsText:"No hay eventos",eventText:"Evento",eventsText:"Eventos",moreEventsText:"{count} ms",fromText:"Iniciar",toText:"Final",wholeText:"Entero",fractionText:"Fraccin",unitText:"Unidad",labels:["Aos","Meses","Das","Horas","Minutos","Segundos",""],labelsShort:["Ao","Mes","Da","Hora","Min","Seg",""],startText:"Iniciar",stopText:"Detngase",resetText:"Reinicializar",lapText:"Lap",hideText:"Esconder",backText:"Atrs",undoText:"Deshacer",offText:"No",onText:"S",decimalSeparator:",",thousandsSeparator:" "},u.customTheme("mobiscroll-dark","mobiscroll"),yi=u.themes,yi.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(t){fc(n(t.target),".mbsc-fr-btn-e","mbsc-disabled","mbsc-fr-btn-nhl")}},yi.scroller.material=t({},yi.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right"}),yi.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(t){ke(n(t.target),t.domEvent)},onItemDeactivate:function(){pr(vi)},onSlideStart:function(t){n(".mbsc-ripple",t.target).remove()},onSortStart:function(t){n(".mbsc-ripple",t.target).remove()}},yi.navigation.material={onInit:function(){fc(n(this),".mbsc-ms-item.mbsc-btn-e","mbsc-disabled","mbsc-btn-nhl")},onMarkupInit:function(){n(".mbsc-ripple",this).remove()},onDestroy:function(){n(this).off(".mbsc-ripple")}},yi.form.material={addRipple:function(n,t){ke(n,t)},removeRipple:function(){pr(vi)}},u.customTheme("material-dark","material"),ec=u.themes,ni="mobiscroll","android"==y?ni="material":"ios"==y?ni="ios":"wp"==y&&(ni="windows"),n.each(ec.frame,function(n,t){if(ni&&t.baseTheme==ni&&n!=ni+"-dark")return u.autoTheme=n,!1;n==ni&&(u.autoTheme=n)}),u});