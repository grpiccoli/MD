document.addEventListener("DOMContentLoaded",function(){var i=$("#Input_Insurance"),n=$("#Input_InsurancePassword"),f=$("#Input_RUT"),t=$("#recoverpass"),r=n.parent(),e=$("#recovery"),u=$("#info"),o=7,s=["https://www.isaprebanmedica.cl/CambiodeClaveBanmedica.aspx","https://www.colmena.cl/web-administracion/sitioprivado/solicitudclave/solicitudclave.jsp","https://clientes.consalud.cl/default.aspx#","https://sitio.cruzblanca.cl/MiCruzBlanca/RecuperacionClave.aspx","https://sv.nuevamasvida.cl/solicitud_clave/?url=recupera","https://www.isaprevidatres.cl/CambioDeClaveVidaTres.aspx"];i.change(function(){var i,u;n.val("");i=parseInt($("#Input_Insurance").val());i===0?r.slideUp():(u=$("#Input_Insurance_dummy").val(),t.attr("href",s[i-2]),e.attr("src","/img/mi/"+u+"-icon.min.png"),r.slideDown())});Parsley.addValidator("mipwd",{validateString:function(r){var h=i.val(),e,s,c,l;return h==="0"?!0:(e=f.val(),!e)?!1:(l=$.validateRut(e,function(n,t){s=n;c=t},{minimumLength:o}),!l||s>3e7)?!1:(loaderStart(),fetch("/MIP/Validate",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),body:"__RequestVerificationToken="+$('input[name="__RequestVerificationToken"]').val()+("&rut="+s)+("&dv="+c.replace(/k/,"K"))+("&insurance="+h)+("&pwd="+r)}).then(function(i){if(i.ok)return M.toast({html:"Contraseña válida",classes:"rounded"}),t.slideUp(),u.slideUp(),n.parsley().reset(),!0;throw i.statusText;}).catch(function(n){t.slideDown();u.slideDown();throw n;}).finally(loaderStop))},messages:{es:"Verifique Combinación Previsión/Contraseña"}})});