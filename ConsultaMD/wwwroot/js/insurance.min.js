function switchRecovery(n,t){$recovermip.attr("href",mi[n-2]);$recovery.attr("src","/img/mi/"+t.text()+"-icon.min.png")}function validateInsurance(n,t,i,r){var u=!1;return debounce($.ajax({method:"POST",url:"/MIP/Validate","async":!1,data:{__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val(),insurance:n,rut:t,dv:i,pwd:r},success:function(){$recovermip.slideUp();$info.slideUp();u=!0},error:function(){$recovermip.slideDown();$info.slideDown()}}),1e3),u}var insuranceId="Input_Insurance",insurancePass="Input_InsurancePassword",rutId="Input_RUT",recovery="recovery",info="info",$insuranceId=$("#"+insuranceId),$insurancePass=$("#"+insurancePass),$rut=$("#"+rutId),$recovermip=$("#recoverpass"),$insurancePassDiv=$insurancePass.parent(),$recovery=$("#"+recovery),$info=$("#"+info),minLengthRut=7,mi=["https://www.isaprebanmedica.cl/CambiodeClaveBanmedica.aspx","https://www.colmena.cl/web-administracion/sitioprivado/solicitudclave/solicitudclave.jsp","https://clientes.consalud.cl/default.aspx#","https://sitio.cruzblanca.cl/MiCruzBlanca/RecuperacionClave.aspx","https://sv.nuevamasvida.cl/solicitud_clave/?url=recupera","https://www.isaprevidatres.cl/CambioDeClaveVidaTres.aspx"];$("#"+insuranceId+" > option").slice(1).each(function(){var n=$(this);n.attr("data-icon","/img/mi/"+n.text()+"-icon.min.png")});M.FormSelect.init(document.querySelectorAll("select"));$insuranceId.on("change",function(){$insurancePass.val("")});$.validator.addMethod("insurance",function(n,t){var r=$(t),i=$rut.val();return i&&$.validateRut(i,function(){var t=parseInt(n);switchRecovery(t,r);$insurancePassDiv.slideDown()},{minimumLength:minLengthRut}),!0});$.validator.unobtrusive.adapters.add("insurance",[],function(n){n.rules.insurance={};n.messages.insurance=n.message});$.validator.addMethod("mipwd",function(n,t){var r=$insuranceId.val(),i,u;return r==="0"||r==="1"?!0:(i=!1,u=$rut.val(),u&&$.validateRut(u,function(u,f){if($(":focus")[0]===$(t)[0]){i=!0;return}var e=parseInt(r);i=validateInsurance(e,u,f,n)},{minimumLength:minLengthRut}),i)});$.validator.unobtrusive.adapters.add("mipwd",[],function(n){n.rules.mipwd={};n.messages.mipwd=n.message});