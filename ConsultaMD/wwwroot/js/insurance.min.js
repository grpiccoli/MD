function switchRecovery(n,t){$recovermip.attr("href",mi[n]);$recovery.attr("src","/img/mi/"+t.text()+"-icon.min.png")}function validateInsurance(n,t,i,r){var u=!1;return debounce($.ajax({method:"POST",url:"/MIP/Validate",async:!1,data:{__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val(),insurance:n,rut:t,dv:i,pwd:r},success:function(){$recovermip.slideUp();$info.slideUp();u=!0},error:function(){$recovermip.slideDown();$info.slideDown()}}),1e3),u}var insuranceId="Input_Insurance",insurancePass="Input_InsurancePassword",rutId="Input_RUT",recovery="recovery",info="info",$insuranceId=$("#"+insuranceId),$insurancePass=$("#"+insurancePass),$rut=$("#"+rutId),$recovermip=$("#recoverpass"),$insurancePassDiv=$insurancePass.parent(),$recovery=$("#"+recovery),$info=$("#"+info),minLengthRut=7,mi=["#","#","https://www.isaprebanmedica.cl/CambiodeClaveBanmedica.aspx","https://www.colmena.cl/web-administracion/sitioprivado/solicitudclave/solicitudclave.jsp","https://clientes.consalud.cl/default.aspx#","https://sitio.cruzblanca.cl/MiCruzBlanca/RecuperacionClave.aspx","https://sv.nuevamasvida.cl/solicitud_clave/?url=recupera","https://www.isaprevidatres.cl/CambioDeClaveVidaTres.aspx"],selectdata,style,selectModal;/Android|webOS|iPhone|iPad|iPod|BlackBerry|Nexus/i.test(navigator.userAgent)?(selectdata=[],style="height:17px;margin:0 15px",$("#Input_Insurance > option").each(function(){selectdata.push('<img src="/img/mi/'+$(this).text()+'-icon.min.png" style="'+style+'" data-id="'+$(this).val()+'"/><span>'+$(this).text()+"<\/span>")}),$("select").remove(),selectModal=M.Modal.init(document.getElementById("select-modal"),{onCloseEnd:function(){$("#Input_Insurance").focusout()}}),$("#example-picker").picker({data:selectdata},function(){var t=Math.round($(".clone-scroller").scrollTop()/30),n=$($(".picker-scroller").find(".option").get(t)),i=n.find("img").data("id"),r=n.find("span").html();$("#Input_Insurance").val(i).change();$("#shower").val(r).change()}),$("#shower").click(function(){selectModal.open()})):($("input.mobile-only").remove(),$("#"+insuranceId+" > option").slice(1).each(function(){var n=$(this);n.attr("data-icon","/img/mi/"+n.text()+"-icon.min.png")}),M.FormSelect.init(document.querySelectorAll("select")));$insuranceId.on("change",function(){$insurancePass.val("")});$.validator.addMethod("insurance",function(n,t){var i=!0,u=$(t),r=$rut.val();return r&&$.validateRut(r,function(t,r){var f=parseInt(n);switch(f){default:switchRecovery(f,u);case 1:i=validateInsurance(f,t,r.replace(/k/,"K"),"");case 0:$insurancePassDiv.slideUp();break;case 2:case 3:case 4:case 5:case 6:case 7:$insurancePassDiv.slideDown()}},{minimumLength:minLengthRut}),i});$.validator.unobtrusive.adapters.add("insurance",[],function(n){n.rules.insurance={};n.messages.insurance=n.message});$.validator.addMethod("mipwd",function(n,t){var r=$insuranceId.val(),i,u;return r==="0"||r==="1"?!0:(i=!1,u=$rut.val(),u&&$.validateRut(u,function(u,f){if($(":focus")[0]===$(t)[0]){i=!0;return}var e=parseInt(r);i=validateInsurance(e,u,f,n)},{minimumLength:minLengthRut}),i)});$.validator.unobtrusive.adapters.add("mipwd",[],function(n){n.rules.mipwd={};n.messages.mipwd=n.message});