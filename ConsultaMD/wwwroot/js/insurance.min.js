function switchRecovery(n,t){$recovermip.attr("href",mi[n]);$recovery.attr("src","/img/mi/"+t.text()+"-icon.min.png")}function validateInsurance(n,t,i,r){var u=!1;return debounce($.ajax({method:"POST",url:"/MIP/Validate","async":!1,data:{__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val(),insurance:n,rut:t,dv:i,pwd:r},success:function(){$recovermip.slideUp();$info.slideUp();u=!0},error:function(){$recovermip.slideDown();$info.slideDown()}}),1e3),u}var insuranceId="Input_Insurance",insurancePass="Input_InsurancePassword",rutId="Input_RUT",recovery="recovery",info="info",$insuranceId=$("#"+insuranceId),$insurancePass=$("#"+insurancePass),$rut=$("#"+rutId),$recovermip=$("#recoverpass"),$insurancePassDiv=$insurancePass.parent(),$recovery=$("#"+recovery),$info=$("#"+info),minLengthRut=7,mi=["#","#","https://www.isaprebanmedica.cl/CambiodeClaveBanmedica.aspx","https://www.colmena.cl/web-administracion/sitioprivado/solicitudclave/solicitudclave.jsp","https://clientes.consalud.cl/default.aspx#","https://sitio.cruzblanca.cl/MiCruzBlanca/RecuperacionClave.aspx","https://sv.nuevamasvida.cl/solicitud_clave/?url=recupera","https://www.isaprevidatres.cl/CambioDeClaveVidaTres.aspx"],debounce;$("#"+insuranceId+" > option").slice(1).each(function(){var n=$(this);n.attr("data-icon","/img/mi/"+n.text()+"-icon.min.png")});$("select").formSelect();$insuranceId.on("change",function(){$insurancePass.val("")});$.validator.addMethod("insurance",function(n,t){var i=!0,u=$(t),r=$rut.val();return r&&$.validateRut(r,function(t,r){var f=parseInt(n);switch(f){default:switchRecovery(f,u);case 1:i=validateInsurance(f,t,r.replace(/k/,"K"),"");case 0:$insurancePassDiv.slideUp();break;case 2:case 3:case 4:case 5:case 6:case 7:$insurancePassDiv.slideDown()}},{minimumLength:minLengthRut}),i});$.validator.unobtrusive.adapters.add("insurance",[],function(n){n.rules.insurance={};n.messages.insurance=n.message});$.validator.addMethod("mipwd",function(n,t){var r=$insuranceId.val(),i,u;return r==="0"||r==="1"?!0:(i=!1,u=$rut.val(),u&&$.validateRut(u,function(u,f){if($(":focus")[0]===$(t)[0]){i=!0;return}var e=parseInt(r);console.log(e,u,f,n);i=validateInsurance(e,u,f,n)},{minimumLength:minLengthRut}),i)});$.validator.unobtrusive.adapters.add("mipwd",[],function(n){n.rules.mipwd={};n.messages.mipwd=n.message});debounce=function(n,t){var i;return function(){var r=this,u=arguments;clearTimeout(i);i=setTimeout(function(){return n.apply(r,u)},t)}};