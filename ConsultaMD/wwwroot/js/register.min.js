var rutId="Input_RUT",nameId="Input_Name",carnetId="Input_CarnetId",nationId="Input_Nationality",email="Input_Email",$rut=$("#"+rutId),$name=$("#"+nameId),$carnet=$("#"+carnetId),$nation=$("#"+nationId),$email=$("#"+email),minLengthRut=7,minLengthCarnet=9,debounceTO=300,$nameDiv=$name.parent(),$carnetDiv=$carnet.parent(),$nationDiv=$nation.parent();document.addEventListener("DOMContentLoaded",function(){M.Collapsible.init(document.querySelectorAll(".collapsible"))});$rut.on("keyup",function(){$nameDiv.slideUp();$carnetDiv.slideUp();$nationDiv.slideUp();$name.prop("readonly",!0);$carnet.val("");$name.val("")}).rut({formatOn:"keyup change",minimumLength:minLengthRut,validateOn:"change"});new Cleave("#"+carnetId,{delimiter:".",blocks:[3,3,3],uppercase:!0});$.validator.addMethod("rut",function(n,t){loaderStart();var i=!1;return $(t).val(n.replace(/k/,"K")),$.validateRut(n,function(n,r){if(!(n>3e7)){if($(":focus")[0]===$(t)[0]){i=!0;return}$.ajax({method:"POST",url:"/SP/validaterut","async":!1,data:{__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val(),rut:n,dv:r.replace(/k/,"K")},dataType:"JSON",success:function(n){i=!0;n.value==="**"?$name.prop("readonly",!1):($name.val(n.value),$name.addClass("valid"));M.updateTextFields();$nameDiv.slideDown();$carnetDiv.slideDown();$carnet.focus();M.toast({html:"RUT válido",classes:"rounded"})}})}},{minimumLength:minLengthRut}),loaderStop(),i});$.validator.unobtrusive.adapters.add("rut",[],function(n){n.rules.rut={};n.messages.rut=n.message});$.validator.addMethod("carnet",function(n,t){var u,i,r;return loaderStart(),u=n,i=!1,$nationDiv.slideUp(),r=$rut.val(),r&&$.validateRut(r,function(n,r){if($(":focus")[0]===$(t)[0]){i=!0;return}$.ajax({method:"POST",url:"/SP/DocumentRequestStatus","async":!1,data:{__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val(),rut:n,dv:r.replace(/k/g,"K"),carnet:u.replace(/\./g,"")},dataType:"JSON",success:function(n){i=!0;$nation.val(n.nacionalidad);M.updateTextFields();$nationDiv.slideDown();$email.focus();M.toast({html:"Cédula válida",classes:"rounded"})}})},{minimumLength:minLengthRut}),loaderStop(),i});$.validator.unobtrusive.adapters.add("carnet",[],function(n){n.rules.carnet={};n.messages.carnet=n.message});