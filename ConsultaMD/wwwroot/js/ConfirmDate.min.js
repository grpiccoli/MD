var rutId="Rut",$rut=$("#"+rutId),minLengthRut=7;$rut.rut({formatOn:"keyup change",minimumLength:minLengthRut,validateOn:"change"});$.validator.addMethod("rut",function(n,t){$(t).val(n.replace(/k/,"K"));var i=!1;return $.validateRut(n,function(n){n>3e7||(i=!0)},{minimumLength:minLengthRut}),i});$.validator.unobtrusive.adapters.add("rut",[],function(n){n.rules.rut={};n.messages.rut=n.message});document.addEventListener("DOMContentLoaded",function(){$("#Payment").on("submit",function(n){var i,t,r;loaderStart();i=setInterval(function(){M.toast({html:"Comprando bono y redirigiendo a pago, esto puede tardar varios minutos"})},1e4);n.preventDefault();t=$("#Payment").attr("action");console.log(t);r=$("#PaymentDetails_Type").val();$.post(t,$("#Payment").serializeArray(),function(n){console.log(n);switch(r){case"0":window.location.href=n;break;case"1":window.location.href="https://webpay3g.transbank.cl:443/webpayserver/initTransaction?token_ws="+n;break;default:alert("error inesperado")}loaderStop();clearInterval(i)})})});