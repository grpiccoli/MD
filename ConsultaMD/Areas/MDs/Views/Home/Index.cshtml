
@{
    ViewData["Title"] = "Dashboard";
    var action = this.ViewContext.RouteData.Values["action"].ToString();
}

@section Styles {
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- BEGIN: VENDOR CSS-->
    <link rel="stylesheet" type="text/css" href="~/css/vendors.min.css">
    <!-- END: VENDOR CSS-->
    <!-- BEGIN: Page Level CSS-->
    <link rel="stylesheet" type="text/css" href="~/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="~/css/style.min.css">
    <!-- END: Page Level CSS-->
    <!-- BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="~/css/custom.min.css">
    <!-- END: Custom CSS-->
    <style>
        .clinic-gradient, .sidenav li a.active {
            background: teal;
            /*background: linear-gradient(90deg, teal 0%, white 100%);*/
        }

            .clinic-gradient.gradient-shadow, .sidenav li a.active {
                -webkit-box-shadow: 0 6px 20px 0 teal !important;
                box-shadow: 0 6px 20px 0 teal !important;
            }

        #booking-chart, #espec-chart {
            width: 100%;
            height: 200px;
        }
    </style>
}

<partial name="_SideBar" model="action" />
<div id="main">
    <div class="row">
        <div class="content-wrapper-before clinic-gradient"></div>
        <div class="col s12">
            <div class="container">
                <!-- Current balance & total transactions cards-->
                <div class="row mt-4">
                    <div class="col s12 m4 l5">
                        <!-- Current Balance -->
                        <!-- User Statistics -->
                        <div class="card user-statistics-card animate fadeLeft">
                            <div class="card-content">
                                <h4 class="card-title mb-0">Estadísticas Generales <i class="material-icons float-right">more_vert</i></h4>
                                <div class="row">
                                    <div class="col s12 m6">
                                        <ul class="collection border-none mb-0">
                                            <li class="collection-item avatar">
                                                <i class="material-icons circle pink accent-2">trending_up</i>
                                                <p class="medium-small">Atenciones Ayer</p>
                                                <h5 class="mt-0 mb-0">60</h5>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col s12 m6">
                                        <ul class="collection border-none mb-0">
                                            <li class="collection-item avatar">
                                                <i class="material-icons circle purple accent-4">trending_down</i>
                                                <p class="medium-small">Atenciones hoy</p>
                                                <h5 class="mt-0 mb-0">40</h5>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="user-statistics-container">
                                    <div id="user-statistics-bar-chart" class="user-statistics-shadow"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col s12 m8 l7 animate fadeRight">
                        <!-- Total Transaction -->
                        <div class="card">
                            <div class="card-content">
                                <h4 class="card-title mb-0">Total Transaction <i class="material-icons float-right">more_vert</i></h4>
                                <div id="booking-chart"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--/ Current balance & total transactions cards-->
                <!-- User statistics & appointment cards-->
                <div class="row">
                    <div class="col s12 l5">

                        <div class="card subscriber-list-card animate fadeRight">
                            <div class="card-content pb-1">
                                <h4 class="card-title mb-0">Agenda Diaria <i class="material-icons float-right">more_vert</i></h4>
                            </div>
                            <table class="subscription-table responsive-table highlight">
                                <thead>
                                    <tr>
                                        <th>Especialidad</th>
                                        <th>Doctor</th>
                                        <th>Hora</th>
                                        <th>Paciente</th>
                                        <th>Valor</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Glaucoma</td>
                                        <td>Guillermo Neumann Pérez</td>
                                        <td>09:00</td>
                                        <td>Eugenio Mena</td>
                                        <td>$ 49.000</td>
                                    </tr>
                                    <tr>
                                        <td>Oftalmología</td>
                                        <td>Pedro Bórquez Vera</td>
                                        <td>11:00</td>
                                        <td>Eugenio Mena</td>
                                        <td>$ 18.000</td>
                                    </tr>
                                    <tr>
                                        <td>Oftalmología</td>
                                        <td>Pedro Bórquez Vera</td>
                                        <td>12:00</td>
                                        <td>Eugenio Mena</td>
                                        <td>$ 18.000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col s12 l7">
                        <!-- Recent Buyers -->
                        <div class="card animate fadeUp">
                            <div class="card-content">
                                <h4 class="card-title mb-0">Carga mensual de especialidades <i class="material-icons float-right">more_vert</i></h4>
                                <div id="espec-chart"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--/ Current balance & appointment cards-->
                <!-- Intro -->

                <div id="intro">
                    <div class="row">
                        <div class="col s12">

                            <div id="img-modal" class="modal white">
                                <div class="modal-content">
                                    <div class="bg-img-div"></div>
                                    <p class="modal-header right modal-close">
                                        Skip Intro <span class="right"><i class="material-icons right-align">clear</i></span>
                                    </p>
                                    <div class="carousel carousel-slider center intro-carousel">
                                        <div class="carousel-fixed-item center middle-indicator">
                                            <div class="left">
                                                <button class="movePrevCarousel middle-indicator-text btn btn-flat purple-text waves-effect waves-light btn-prev">
                                                    <i class="material-icons">navigate_before</i> <span class="hide-on-small-only">Prev</span>
                                                </button>
                                            </div>

                                            <div class="right">
                                                <button class=" moveNextCarousel middle-indicator-text btn btn-flat purple-text waves-effect waves-light btn-next">
                                                    <span class="hide-on-small-only">Next</span> <i class="material-icons">navigate_next</i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="carousel-item slide-1">
                                            <img src="../../../app-assets/images/gallery/intro-slide-1.png" alt="" class="responsive-img animated fadeInUp slide-1-img">
                                            <h5 class="intro-step-title mt-7 center animated fadeInUp">Welcome to Materialize</h5>
                                            <p class="intro-step-text mt-5 animated fadeInUp">
                                                Materialize is a Material Design Admin
                                                Template is the excellent responsive google material design inspired multipurpose admin
                                                template. Materialize has a huge collection of material design animation & widgets, UI
                                                Elements.
                                            </p>
                                        </div>
                                        <div class="carousel-item slide-2">
                                            <img src="../../../app-assets/images/gallery/intro-features.png" alt="" class="responsive-img slide-2-img">
                                            <h5 class="intro-step-title mt-7 center">Example Request Information</h5>
                                            <p class="intro-step-text mt-5">
                                                Lorem ipsum dolor sit amet consectetur,
                                                adipisicing elit.
                                                Aperiam deserunt nulla
                                                repudiandae odit quisquam incidunt, maxime explicabo.
                                            </p>
                                            <div class="row">
                                                <div class="col s6">
                                                    <div class="input-field">
                                                        <label for="first_name">Name</label>
                                                        <input placeholder="Name" id="first_name" type="text" class="validate">
                                                    </div>
                                                </div>
                                                <div class="col s6">
                                                    <div class="input-field">
                                                        <select>
                                                            <option value="" disabled selected>Choose your option</option>
                                                            <option value="1">Option 1</option>
                                                            <option value="2">Option 2</option>
                                                            <option value="3">Option 3</option>
                                                        </select>
                                                        <label>Materialize Select</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="carousel-item slide-3">
                                            <img src="../../../app-assets/images/gallery/intro-app.png" alt="" class="responsive-img slide-1-img">
                                            <h5 class="intro-step-title mt-7 center">Showcase App Features</h5>
                                            <div class="row">
                                                <div class="col m5 offset-m1 s12">
                                                    <ul class="feature-list left-align">
                                                        <li><i class="material-icons">check</i> Email Application</li>
                                                        <li><i class="material-icons">check</i> Chat Application</li>
                                                        <li><i class="material-icons">check</i> Todo Application</li>
                                                    </ul>
                                                </div>
                                                <div class="col m6 s12">
                                                    <ul class="feature-list left-align">
                                                        <li><i class="material-icons">check</i>Contacts Application</li>
                                                        <li><i class="material-icons">check</i>Full Calendar</li>
                                                        <li><i class="material-icons">check</i> Ecommerce Application</li>
                                                    </ul>
                                                </div>
                                                <div class="row">
                                                    <div class="col s12 center">
                                                        <button class="get-started btn waves-effect waves-light clinic-gradient mt-3 modal-close">
                                                            Get
                                                            Started
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- / Intro -->
            </div>
        </div>
    </div>
</div>
@*<partial name="_Libs" model='new List<string> { "@amcharts/amcharts4" }' />*@

@section Scripts {
    <!-- BEGIN VENDOR JS-->
    <script src="~/js/vendors.min.js" type="text/javascript"></script>
    <!-- BEGIN VENDOR JS-->
    <!-- BEGIN PAGE VENDOR JS-->
    <!-- END PAGE VENDOR JS-->
    <!-- BEGIN THEME  JS-->
    <script src="~/js/plugins.min.js" type="text/javascript"></script>
    <script src="~/js/custom-script.min.js" type="text/javascript"></script>
    <!-- END THEME  JS-->

    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
    <script>
        am4core.ready(function () {

            // Themes begin
            am4core.useTheme(am4themes_animated);
            // Themes end

            var chart = am4core.create("booking-chart", am4charts.XYChart);
            chart.hiddenState.properties.opacity = 0; // this creates initial fade-in

            chart.data = [
                {
                    country: "Enero",
                    visits: 1122
                },
                {
                    country: "Febrero",
                    visits: 1114
                },
                {
                    country: "Marzo",
                    visits: 984
                },
                {
                    country: "Abril",
                    visits: 711
                },
                {
                    country: "Mayo",
                    visits: 665
                },
                {
                    country: "Junio",
                    visits: 580
                },
                {
                    country: "Julio",
                    visits: 443
                },
                {
                    country: "Agosto",
                    visits: 441
                }
            ];

            var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
            categoryAxis.renderer.grid.template.location = 0;
            categoryAxis.dataFields.category = "country";
            categoryAxis.renderer.minGridDistance = 40;
            categoryAxis.fontSize = 11;

            var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
            valueAxis.min = 0;
            valueAxis.max = 24000;
            valueAxis.strictMinMax = true;
            valueAxis.renderer.minGridDistance = 30;
            // axis break
            var axisBreak = valueAxis.axisBreaks.create();
            axisBreak.startValue = 2100;
            axisBreak.endValue = 22900;
            axisBreak.breakSize = 0.005;

            // make break expand on hover
            var hoverState = axisBreak.states.create("hover");
            hoverState.properties.breakSize = 1;
            hoverState.properties.opacity = 0.1;
            hoverState.transitionDuration = 1500;

            axisBreak.defaultState.transitionDuration = 1000;

            var series = chart.series.push(new am4charts.ColumnSeries());
            series.dataFields.categoryX = "country";
            series.dataFields.valueY = "visits";
            series.columns.template.tooltipText = "{valueY.value}";
            series.columns.template.tooltipY = 0;
            series.columns.template.strokeOpacity = 0;

            // as by default columns of the same series are of the same color, we add adapter which takes colors from chart.colors color set
            series.columns.template.adapter.add("fill", function (fill, target) {
                return chart.colors.getIndex(target.dataItem.index);
            });




        }); // end am4core.ready()
    </script>
    <script>
        am4core.ready(function () {

            // Themes begin
            am4core.useTheme(am4themes_animated);
            // Themes end

            /**
             * Define data for each year
             */
            var chartData = {
                "1995": [
                    { "sector": "Agriculture", "size": 6.6 },
                    { "sector": "Mining and Quarrying", "size": 0.6 },
                    { "sector": "Manufacturing", "size": 23.2 },
                    { "sector": "Electricity and Water", "size": 2.2 },
                    { "sector": "Construction", "size": 4.5 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 14.6 },
                    { "sector": "Transport and Communication", "size": 9.3 },
                    { "sector": "Finance, real estate and business services", "size": 22.5 }],
                "1996": [
                    { "sector": "Agriculture", "size": 6.4 },
                    { "sector": "Mining and Quarrying", "size": 0.5 },
                    { "sector": "Manufacturing", "size": 22.4 },
                    { "sector": "Electricity and Water", "size": 2 },
                    { "sector": "Construction", "size": 4.2 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 14.8 },
                    { "sector": "Transport and Communication", "size": 9.7 },
                    { "sector": "Finance, real estate and business services", "size": 22 }],
                "1997": [
                    { "sector": "Agriculture", "size": 6.1 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 20.9 },
                    { "sector": "Electricity and Water", "size": 1.8 },
                    { "sector": "Construction", "size": 4.2 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 13.7 },
                    { "sector": "Transport and Communication", "size": 9.4 },
                    { "sector": "Finance, real estate and business services", "size": 22.1 }],
                "1998": [
                    { "sector": "Agriculture", "size": 6.2 },
                    { "sector": "Mining and Quarrying", "size": 0.3 },
                    { "sector": "Manufacturing", "size": 21.4 },
                    { "sector": "Electricity and Water", "size": 1.9 },
                    { "sector": "Construction", "size": 4.2 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 14.5 },
                    { "sector": "Transport and Communication", "size": 10.6 },
                    { "sector": "Finance, real estate and business services", "size": 23 }],
                "1999": [
                    { "sector": "Agriculture", "size": 5.7 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 20 },
                    { "sector": "Electricity and Water", "size": 1.8 },
                    { "sector": "Construction", "size": 4.4 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 15.2 },
                    { "sector": "Transport and Communication", "size": 10.5 },
                    { "sector": "Finance, real estate and business services", "size": 24.7 }],
                "2000": [
                    { "sector": "Agriculture", "size": 5.1 },
                    { "sector": "Mining and Quarrying", "size": 0.3 },
                    { "sector": "Manufacturing", "size": 20.4 },
                    { "sector": "Electricity and Water", "size": 1.7 },
                    { "sector": "Construction", "size": 4 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 16.3 },
                    { "sector": "Transport and Communication", "size": 10.7 },
                    { "sector": "Finance, real estate and business services", "size": 24.6 }],
                "2001": [
                    { "sector": "Agriculture", "size": 5.5 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 20.3 },
                    { "sector": "Electricity and Water", "size": 1.6 },
                    { "sector": "Construction", "size": 3.1 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 16.3 },
                    { "sector": "Transport and Communication", "size": 10.7 },
                    { "sector": "Finance, real estate and business services", "size": 25.8 }],
                "2002": [
                    { "sector": "Agriculture", "size": 5.7 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 20.5 },
                    { "sector": "Electricity and Water", "size": 1.6 },
                    { "sector": "Construction", "size": 3.6 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 16.1 },
                    { "sector": "Transport and Communication", "size": 10.7 },
                    { "sector": "Finance, real estate and business services", "size": 26 }],
                "2003": [
                    { "sector": "Agriculture", "size": 4.9 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 19.4 },
                    { "sector": "Electricity and Water", "size": 1.5 },
                    { "sector": "Construction", "size": 3.3 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 16.2 },
                    { "sector": "Transport and Communication", "size": 11 },
                    { "sector": "Finance, real estate and business services", "size": 27.5 }],
                "2004": [
                    { "sector": "Agriculture", "size": 4.7 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 18.4 },
                    { "sector": "Electricity and Water", "size": 1.4 },
                    { "sector": "Construction", "size": 3.3 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 16.9 },
                    { "sector": "Transport and Communication", "size": 10.6 },
                    { "sector": "Finance, real estate and business services", "size": 28.1 }],
                "2005": [
                    { "sector": "Agriculture", "size": 4.3 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 18.1 },
                    { "sector": "Electricity and Water", "size": 1.4 },
                    { "sector": "Construction", "size": 3.9 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 15.7 },
                    { "sector": "Transport and Communication", "size": 10.6 },
                    { "sector": "Finance, real estate and business services", "size": 29.1 }],
                "2006": [
                    { "sector": "Agriculture", "size": 4 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 16.5 },
                    { "sector": "Electricity and Water", "size": 1.3 },
                    { "sector": "Construction", "size": 3.7 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 14.2 },
                    { "sector": "Transport and Communication", "size": 12.1 },
                    { "sector": "Finance, real estate and business services", "size": 29.1 }],
                "2007": [
                    { "sector": "Agriculture", "size": 4.7 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 16.2 },
                    { "sector": "Electricity and Water", "size": 1.2 },
                    { "sector": "Construction", "size": 4.1 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 15.6 },
                    { "sector": "Transport and Communication", "size": 11.2 },
                    { "sector": "Finance, real estate and business services", "size": 30.4 }],
                "2008": [
                    { "sector": "Agriculture", "size": 4.9 },
                    { "sector": "Mining and Quarrying", "size": 0.3 },
                    { "sector": "Manufacturing", "size": 17.2 },
                    { "sector": "Electricity and Water", "size": 1.4 },
                    { "sector": "Construction", "size": 5.1 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 15.4 },
                    { "sector": "Transport and Communication", "size": 11.1 },
                    { "sector": "Finance, real estate and business services", "size": 28.4 }],
                "2009": [
                    { "sector": "Agriculture", "size": 4.7 },
                    { "sector": "Mining and Quarrying", "size": 0.3 },
                    { "sector": "Manufacturing", "size": 16.4 },
                    { "sector": "Electricity and Water", "size": 1.9 },
                    { "sector": "Construction", "size": 4.9 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 15.5 },
                    { "sector": "Transport and Communication", "size": 10.9 },
                    { "sector": "Finance, real estate and business services", "size": 27.9 }],
                "2010": [
                    { "sector": "Agriculture", "size": 4.2 },
                    { "sector": "Mining and Quarrying", "size": 0.3 },
                    { "sector": "Manufacturing", "size": 16.2 },
                    { "sector": "Electricity and Water", "size": 2.2 },
                    { "sector": "Construction", "size": 4.3 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 15.7 },
                    { "sector": "Transport and Communication", "size": 10.2 },
                    { "sector": "Finance, real estate and business services", "size": 28.8 }],
                "2011": [
                    { "sector": "Agriculture", "size": 4.1 },
                    { "sector": "Mining and Quarrying", "size": 0.3 },
                    { "sector": "Manufacturing", "size": 14.9 },
                    { "sector": "Electricity and Water", "size": 2.3 },
                    { "sector": "Construction", "size": 5 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 17.3 },
                    { "sector": "Transport and Communication", "size": 10.2 },
                    { "sector": "Finance, real estate and business services", "size": 27.2 }],
                "2012": [
                    { "sector": "Agriculture", "size": 3.8 },
                    { "sector": "Mining and Quarrying", "size": 0.3 },
                    { "sector": "Manufacturing", "size": 14.9 },
                    { "sector": "Electricity and Water", "size": 2.6 },
                    { "sector": "Construction", "size": 5.1 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 15.8 },
                    { "sector": "Transport and Communication", "size": 10.7 },
                    { "sector": "Finance, real estate and business services", "size": 28 }],
                "2013": [
                    { "sector": "Agriculture", "size": 3.7 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 14.9 },
                    { "sector": "Electricity and Water", "size": 2.7 },
                    { "sector": "Construction", "size": 5.7 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 16.5 },
                    { "sector": "Transport and Communication", "size": 10.5 },
                    { "sector": "Finance, real estate and business services", "size": 26.6 }],
                "2014": [
                    { "sector": "Agriculture", "size": 3.9 },
                    { "sector": "Mining and Quarrying", "size": 0.2 },
                    { "sector": "Manufacturing", "size": 14.5 },
                    { "sector": "Electricity and Water", "size": 2.7 },
                    { "sector": "Construction", "size": 5.6 },
                    { "sector": "Trade (Wholesale, Retail, Motor)", "size": 16.6 },
                    { "sector": "Transport and Communication", "size": 10.5 },
                    { "sector": "Finance, real estate and business services", "size": 26.5 }]
            };

            // Create chart instance
            var chart = am4core.create("espec-chart", am4charts.PieChart);

            // Add data
            chart.data = [
                { "sector": "Oftalmología General", "size": 6.6 },
                { "sector": "glaucoma", "size": 0.6 },
                { "sector": "Cirugía refractiva", "size": 23.2 },
                { "sector": "Oculoplástica", "size": 2.2 },
                { "sector": "Estrabismo", "size": 4.5 },
                { "sector": "Retina y Vitreo", "size": 14.6 },
                { "sector": "Cirugía pterigion", "size": 9.3 },
                { "sector": "Oftalmopediatría", "size": 22.5 }
            ];

            // Add label
            chart.innerRadius = 100;
            var label = chart.seriesContainer.createChild(am4core.Label);
            label.text = "1995";
            label.horizontalCenter = "middle";
            label.verticalCenter = "middle";
            label.fontSize = 50;

            // Add and configure Series
            var pieSeries = chart.series.push(new am4charts.PieSeries());
            pieSeries.dataFields.value = "size";
            pieSeries.dataFields.category = "sector";

            // Animate chart data
            var currentYear = 1995;
            function getCurrentData() {
                label.text = currentYear;
                var data = chartData[currentYear];
                currentYear++;
                if (currentYear > 2014)
                    currentYear = 1995;
                return data;
            }

            function loop() {
                //chart.allLabels[0].text = currentYear;
                var data = getCurrentData();
                for (var i = 0; i < data.length; i++) {
                    chart.data[i].size = data[i].size;
                }
                chart.invalidateRawData();
                chart.setTimeout(loop, 4000);
            }

            loop();

        }); // end am4core.ready()
    </script>
}